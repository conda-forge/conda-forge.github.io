"use strict";(globalThis.webpackChunkcf_infra_docs=globalThis.webpackChunkcf_infra_docs||[]).push([[2843],{20703(e,n,o){o.r(n),o.d(n,{assets:()=>c,contentTitle:()=>s,default:()=>u,frontMatter:()=>i,metadata:()=>t,toc:()=>l});var t=o(3408),r=o(74848),a=o(28453);const i={authors:["isuruf"],tags:["infrastructure"]},s="python builds on win-arm64",c={authorsImageUrls:[void 0]},l=[];function d(e){const n={a:"a",code:"code",p:"p",pre:"pre",...(0,a.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.p,{children:"conda-forge now has partial experimental support for Windows on Arm64\nplatform. To use the conda-forge packages on an arm64 machine running\nwindows, you first have to install Miniforge for Windows x86_64 since\nminiforge does not support Windows arm64 yet. Then you can do"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'set "CONDA_SUBDIR=win-arm64"\nconda create -n newenv python\nconda activate newenv\n'})}),"\n",(0,r.jsx)(n.p,{children:"This gives you a minimal python environment. You can play around with\nthis untested python binary and provide feedback."}),"\n",(0,r.jsx)(n.p,{children:"Here's some thoughts on the development so far:"}),"\n",(0,r.jsx)(n.p,{children:"On conda-forge CI, we are cross-compiling builds for win-arm64 from\nwin-64 platform. Therefore these are untested so far. Microsoft\nhas generously donated VMs for these packages to be tested, but\nthey are not setup yet as we need more support in conda/conda-build."}),"\n",(0,r.jsx)(n.p,{children:"When bootstrapping a new platform, we first cross-compile from\nanother platform until we get to a point where we have conda,\nconda-build, and build-tools like ninja. This lets us run conda-build\nnatively on the new platform and we do not need cross-compilation\nanymore. On osx-arm64, we kept on doing cross-compilation as we did\nnot have any CI for osx-arm64 natively."}),"\n",(0,r.jsx)(n.p,{children:"For win-arm64 we do have VMs donated by Microsoft, but we are not at\nthe point where we have conda, conda-build and build-tools like ninja\nbuilt yet. That requires more support for cross-compilation on windows\nin conda-forge as most of our infrastructure is focused on UNIX-like\nplatforms. For example: cross-python package is a series of hacks that\nare hung together by a thread to make cross-compiling work since\npython does not support cross-compiling by default. It'd be quite a\nlot of work to make it work on windows."}),"\n",(0,r.jsx)(n.p,{children:"Some build systems like autotools do work, but it was a challenge to\nget things like CC_FOR_BUILD working since usually Visual Studio\nonly keeps one VS build system active at one time. This was fixed\nby calculating paths manually to set CC_FOR_BUILD. Another issue was\nthat some build systems don't really like spaces in the path of the\ncompiler in CC_FOR_BUILD. This was fixed by creating virtual drive\nto avoid spaces."}),"\n",(0,r.jsx)(n.p,{children:"Some packages do require MinGW gcc builds, but upstream support\nfor Windows on Arm64 platform is still not complete."}),"\n",(0,r.jsxs)(n.p,{children:["We have a migration for windows-arm64 platform in the conda-forge\n",(0,r.jsx)(n.a,{href:"https://conda-forge.org/status/migration/?name=supportwindowsarm64platform",children:"status page"}),".\nCurrently we only try to build conda,conda-build,mamba,rattler-build\nand pixi as given in the\n",(0,r.jsx)(n.a,{href:"https://github.com/conda-forge/conda-forge-pinning-feedstock/blob/main/recipe/migration_support/win_arm64.txt",children:"explicit list"}),"."]}),"\n",(0,r.jsx)(n.p,{children:"Looking at the graph, there are nodes that are clearly unneeded for\nthe packages given in the list. Help is welcome to debug the bot\non trimming down the graph here so we can focus on the packages\nactually needed for getting the build tools out."})]})}function u(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},28453(e,n,o){o.d(n,{R:()=>i,x:()=>s});var t=o(96540);const r={},a=t.createContext(r);function i(e){const n=t.useContext(a);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),t.createElement(a.Provider,{value:n},e.children)}},3408(e){e.exports=JSON.parse('{"permalink":"/blog/2026/02/09/win-arm64","editUrl":"https://github.com/conda-forge/conda-forge.github.io/tree/refs/heads/main/blog/2026-02-09-win-arm64.md","source":"@site/blog/2026-02-09-win-arm64.md","title":"python builds on win-arm64","description":"conda-forge now has partial experimental support for Windows on Arm64","date":"2026-02-09T00:00:00.000Z","tags":[{"inline":true,"label":"infrastructure","permalink":"/blog/tags/infrastructure"}],"readingTime":2.44,"hasTruncateMarker":true,"authors":[{"name":"Isuru Fernando","title":"Member of conda-forge/core","url":"https://github.com/isuruf","imageURL":"https://github.com/isuruf.png","key":"isuruf","page":null}],"frontMatter":{"authors":["isuruf"],"tags":["infrastructure"]},"unlisted":false,"nextItem":{"title":"100 Days of Python 3.14 on conda-forge","permalink":"/blog/2026/01/15/100-days-python314"}}')}}]);