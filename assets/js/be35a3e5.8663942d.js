"use strict";(self.webpackChunkcf_infra_docs=self.webpackChunkcf_infra_docs||[]).push([[66934],{17556:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>o,contentTitle:()=>i,default:()=>d,frontMatter:()=>c,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"maintainer/example_recipes/rust","title":"Rust packages","description":"If you want to package a Rust package to conda-forge, you can use this recipe template:","source":"@site/docs/maintainer/example_recipes/rust.md","sourceDirName":"maintainer/example_recipes","slug":"/maintainer/example_recipes/rust","permalink":"/docs/maintainer/example_recipes/rust","draft":false,"unlisted":false,"editUrl":"https://github.com/conda-forge/conda-forge.github.io/tree/refs/heads/main/docs/maintainer/example_recipes/rust.md","tags":[],"version":"current","lastUpdatedAt":1749871134000,"frontMatter":{"title":"Rust packages"},"sidebar":"docs","previous":{"title":"Example recipes","permalink":"/docs/maintainer/example_recipes/"},"next":{"title":"Glossary","permalink":"/docs/glossary"}}');var s=a(74848),r=a(28453);const c={title:"Rust packages"},i=void 0,o={},l=[];function p(e){const n={code:"code",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.p,{children:"If you want to package a Rust package to conda-forge, you can use this recipe template:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"context:\n  name: example-package\n  version: \"0.1.0\"\n\npackage:\n  name: ${{ name|lower }}\n  version: ${{ version }}\n\nsource:\n  url: https://github.com/example-package/${{ name }}/archive/refs/tags/v${{ version }}.tar.gz\n  sha256: 0123456789abcdef0123456789abcdef0123456789abcdef0123456789abcdef\n\nbuild:\n  number: 0\n  script:\n    env:\n      CARGO_PROFILE_RELEASE_STRIP: symbols\n      CARGO_PROFILE_RELEASE_LTO: fat\n    content:\n      - cargo auditable install --locked --no-track --bins --root ${{ PREFIX }} --path .\n      - cargo-bundle-licenses --format yaml --output ./THIRDPARTY.yml\n\nrequirements:\n  build:\n    - ${{ stdlib('c') }}\n    - ${{ compiler('c') }}\n    - ${{ compiler('rust') }}\n    - cargo-bundle-licenses\n    - cargo-auditable\n\ntests:\n  - script: example-package --help\n\nabout:\n  homepage: https://github.com/example-package/example-package\n  summary: Summary of the package.\n  description: |\n    Description of the package\n  license: MIT OR Apache-2.0\n  license_file:\n    - LICENSE-APACHE\n    - LICENSE-MIT\n    - THIRDPARTY.yml\n  documentation: https://docs.rs/example-package\n  repository: https://github.com/example-package/example-package\n\nextra:\n  recipe-maintainers:\n    - LandoCalrissian\n"})}),"\n",(0,s.jsx)(n.p,{children:"This recipe template supports different features:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"CARGO_PROFILE_RELEASE_STRIP=symbols"})," in order to reduce the size of the package by removing unnecessary symbols."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"CARGO_PROFILE_RELEASE_LTO=fat"})," in order to optimize the binary for better performance."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"cargo auditable install"})," in order to ensure the package is auditable."]}),"\n",(0,s.jsx)(n.li,{children:"Bundle licenses of statically linked libraries."}),"\n",(0,s.jsxs)(n.li,{children:["Use ",(0,s.jsx)(n.code,{children:"--no-track"})," to not create ",(0,s.jsx)(n.code,{children:"$PREFIX/.crates.toml"})," and ",(0,s.jsx)(n.code,{children:"$PREFIX/.crates2.json"}),"."]}),"\n"]})]})}function d(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(p,{...e})}):p(e)}},28453:(e,n,a)=>{a.d(n,{R:()=>c,x:()=>i});var t=a(96540);const s={},r=t.createContext(s);function c(e){const n=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:c(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);