(self.webpackChunkcf_infra_docs=self.webpackChunkcf_infra_docs||[]).push([[86828],{25241:(e,t,s)=>{"use strict";s.d(t,{K:()=>n,y:()=>i});var r=s(96540),a=s(74848);function n(e,t="ascending"){const[s,a]=(0,r.useState)({by:e,order:t}),[n,i]=(0,r.useState)(null);return{sort:s,previousSort:n,resort:e=>{a((t=>{let s="ascending";return s=e===t.by&&s===t.order?"descending":s,e!==t.by&&i(t),{by:e,order:s}}))}}}function i({sortKey:e,currentSort:t,onSort:s,styles:r,style:n,children:i}){const o=t.by===e?r[t.order]:void 0;return(0,a.jsx)("th",{style:{cursor:"pointer",userSelect:"none",...n},className:o,onClick:()=>s(e),children:i})}},71746:(e,t,s)=>{"use strict";s.d(t,{A:()=>u,U:()=>h});var r=s(56347),a=s(48926),n=s(96540),i=s(19821),o=s(80999),l=s(28774),d=s(25241),c=s(74848);const g="migration-collapsed",m="migration-sort";function u({onLoad:e}){const[t,s]=(0,n.useState)({closed:[],collapsed:{closed:!0,longterm:!0,paused:!0,regular:!0},longterm:[],paused:[],regular:[],sort:{closed:{by:"name",order:"ascending"},longterm:{by:"name",order:"ascending"},paused:{by:"name",order:"ascending"},regular:{by:"name",order:"ascending"}}}),r=e=>t=>{s((s=>{const r=s.sort[e];let a="ascending";if(a=t===r.by&&a===r.order?"descending":a,window&&window.localStorage)try{const s=`${m}-${e}`;window.localStorage.setItem(s,JSON.stringify({by:t,order:a}))}catch(n){console.warn("error writing to local storage",n)}return{...s,[e]:s[e].sort(h(t,a)),sort:{...s.sort,[e]:{by:t,order:a}}}}))},l=e=>s((({collapsed:t,...s})=>{const r={...t,[e]:!t[e]};if(window&&window.localStorage)try{const e=JSON.stringify(r);window.localStorage.setItem(g,e)}catch(a){console.warn("error writing to local storage",a)}return{...s,collapsed:r}}));(0,n.useEffect)(function(e,t){return()=>{const s={};if(window&&window.localStorage)try{const e=window.localStorage.getItem(g),t={closed:window.localStorage.getItem(`${m}-closed`),longterm:window.localStorage.getItem(`${m}-longterm`),regular:window.localStorage.getItem(`${m}-regular`),paused:window.localStorage.getItem(`${m}-paused`)};e&&(s.collapsed=JSON.parse(e)),["closed","longterm","regular","paused"].forEach((e=>{t[e]&&(s.sort=s.sort||{},s.sort[e]=JSON.parse(t[e]))}))}catch(r){console.warn("error reading from local storage",r)}(async s=>{const n=[],o={};for(const e in a.D.migrations.status){let t=0;try{const s=await fetch(a.D.migrations.status[e]);o[e]=Object.entries(await s.json()).map((([e,t])=>({name:e,description:t})));for(const{name:l}of o[e])n.push((async t=>{let s,n;try{const e=a.D.migrations.details.replace("<NAME>",l),t=await fetch(e);s=await t.json(),n=!0}catch(r){console.warn(`error loading migration: ${l}`,r),s={done:[],"in-pr":[],"awaiting-pr":[],"awaiting-parents":[],"not-solvable":[],"bot-error":[]},n=!1}o[e][t].details=s,o[e][t].progress=(0,i.measureProgress)(s),o[e][t].success=n})(t++))}catch(r){console.warn(`error loading top-level ${e} migrations`,r)}}await Promise.all(n),t((e=>{const t={closed:s.sort?.closed||e.sort.closed,longterm:s.sort?.longterm||e.sort.longterm,regular:s.sort?.regular||e.sort.regular,paused:s.sort?.paused||e.sort.paused};return{...e,...s,sort:t,closed:o.closed.sort(h(t.closed.by,t.closed.order)),longterm:o.longterm.sort(h(t.longterm.by,t.longterm.order)),regular:o.regular.sort(h(t.regular.by,t.regular.order)),paused:o.paused.sort(h(t.paused.by,t.paused.order))}})),e?.()})(s)}}(e,s),[]);const{closed:d,longterm:u,paused:p,regular:j}=t,b=d.length+u.length+p.length+j.length,f=b>0;return(0,c.jsxs)("div",{className:"card",style:{overflow:"auto"},children:[(0,c.jsx)("div",{className:"card__header",children:(0,c.jsxs)("h3",{children:["Current Migrations"," ",(0,c.jsx)("span",{className:"badge badge--secondary",children:b})]})}),(0,c.jsxs)("div",{className:"card__body",children:[(0,c.jsx)("table",{className:o.A.migrations_table,children:(0,c.jsx)(_,{collapsed:t.collapsed.longterm,name:"Long-running migrations",resort:r("longterm"),rows:u,select:()=>l("longterm"),sort:t.sort.longterm,fetched:f})}),(0,c.jsx)("table",{className:o.A.migrations_table,children:(0,c.jsx)(_,{collapsed:t.collapsed.regular,name:"Regular migrations",resort:r("regular"),rows:j,select:()=>l("regular"),sort:t.sort.regular,fetched:f})}),(0,c.jsx)("table",{className:o.A.migrations_table,children:(0,c.jsx)(_,{collapsed:t.collapsed.closed,name:"Recently closed migrations",resort:r("closed"),rows:d,select:()=>l("closed"),sort:t.sort.closed,fetched:f})}),(0,c.jsx)("table",{className:o.A.migrations_table,children:(0,c.jsx)(_,{collapsed:t.collapsed.paused,name:"Paused migrations",resort:r("paused"),rows:p,select:()=>l("paused"),sort:t.sort.paused,fetched:f})})]})]})}function _({collapsed:e,name:t,resort:s,rows:a,select:i,sort:g,fetched:m}){const[u,_]=(0,n.useState)("");return u?(0,c.jsx)(r.rd,{to:u,replace:!1,push:!0}):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("thead",{children:[(0,c.jsx)("tr",{onClick:i,children:(0,c.jsxs)("th",{colSpan:8,className:e?o.A.collapsed:void 0,children:[t," ",(0,c.jsx)("span",{className:"badge badge--secondary",children:m?a.length:"\u2026"})]})}),(0,c.jsxs)("tr",{className:e?o.A.collapsed:void 0,children:[(0,c.jsx)(d.y,{sortKey:"name",currentSort:g,onSort:s,styles:o.A,children:"Name"}),(0,c.jsx)(d.y,{sortKey:"status",currentSort:g,onSort:s,styles:o.A,children:"PRs made"}),(0,c.jsx)(d.y,{sortKey:"done",currentSort:g,onSort:s,styles:o.A,children:"Done"}),(0,c.jsx)(d.y,{sortKey:"in-pr",currentSort:g,onSort:s,styles:o.A,children:"In PR"}),(0,c.jsx)(d.y,{sortKey:"awaiting-pr",currentSort:g,onSort:s,styles:o.A,children:"Awaiting PR"}),(0,c.jsx)(d.y,{sortKey:"awaiting-parents",currentSort:g,onSort:s,styles:o.A,children:"Awaiting parents"}),(0,c.jsx)(d.y,{sortKey:"not-solvable",currentSort:g,onSort:s,styles:o.A,children:"Not solvable"}),(0,c.jsx)(d.y,{sortKey:"bot-error",currentSort:g,onSort:s,styles:o.A,children:"Bot error"})]})]}),(0,c.jsx)("tbody",{className:e?o.A.collapsed:void 0,children:a.map((e=>{const{progress:t}=e,s=`/status/migration/?name=${e.name}`;return(0,c.jsxs)("tr",{children:[(0,c.jsx)("td",{children:e.success?(0,c.jsx)(l.A,{href:s,style:{display:"block"},onClick:e=>{e.preventDefault(),_(s)},children:e.name}):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("span",{title:"Failed to load. Refresh the page to try again.",style:{cursor:"pointer"},children:"\u26a0\ufe0f"})," ",e.name]})}),(0,c.jsx)("td",{children:(0,c.jsxs)("label",{className:o.A.progress_bar,children:[(0,c.jsxs)("progress",{value:t.done,max:t.total,children:[t.percentage.toFixed(2),"%"]}),(0,c.jsxs)("span",{className:o.A.ratio,children:[t.done,"/",t.total]})]})}),(0,c.jsx)("td",{children:e.details.done.length}),(0,c.jsx)("td",{children:e.details["in-pr"].length}),(0,c.jsx)("td",{children:e.details["awaiting-pr"].length}),(0,c.jsx)("td",{children:e.details["awaiting-parents"].length}),(0,c.jsx)("td",{children:e.details["not-solvable"].length}),(0,c.jsx)("td",{children:e.details["bot-error"].length})]},e.name)}))})]})}function h(e,t,s=null){const r=s?h(s.by,s.order,null):null,a=(e,t,s)=>0===e&&r?r(t,s):e;switch(e){case"name":return(e,s)=>{const r="ascending"===t?e.name.localeCompare(s.name):s.name.localeCompare(e.name);return a(r,e,s)};case"status":return(e,s)=>{const r="ascending"===t?e.progress.percentage-s.progress.percentage:s.progress.percentage-e.progress.percentage;return a(r,e,s)};case"migration_status":return(e,s)=>{const r="ascending"===t?(e.migration_status_order??999)-(s.migration_status_order??999):(s.migration_status_order??999)-(e.migration_status_order??999);return a(r,e,s)};case"ci_status":return(e,s)=>{const r=e.ci_status_order??999,n=s.ci_status_order??999;let i;return i=r>=999&&n<999?1:r<999&&n>=999?-1:r>=999&&n>=999?0:"ascending"===t?r-n:n-r,a(i,e,s)};case"num_descendants":return(e,s)=>{const r="ascending"===t?(e.num_descendants??0)-(s.num_descendants??0):(s.num_descendants??0)-(e.num_descendants??0);return a(r,e,s)};case"updated_at":return(e,s)=>{const r=e.updated_at_timestamp??0,n=s.updated_at_timestamp??0;let i;return i=0===r&&0!==n?1:0!==r&&0===n?-1:0===r&&0===n?0:"ascending"===t?r-n:n-r,a(i,e,s)};default:return(s,r)=>{const n="ascending"===t?s.details[e].length-r.details[e].length:r.details[e].length-s.details[e].length;return a(n,s,r)}}}},48926:(e,t,s)=>{"use strict";s.d(t,{D:()=>a,e:()=>r});const r={usage:{options:{responsive:!0,plugins:{legend:{display:!1}},scales:{x:{type:"time",time:{minUnit:"hour"}},y:{beginAtZero:!0,precision:0}}}}},a={cloud:{anaconda:{api:"https://sqvvxmkr4r26.statuspage.io/api/v2/status.json",link:"https://anaconda.statuspage.io/",title:"Anaconda"},azure:{api:"https://conda-forge.herokuapp.com/status-monitor/azure",link:"https://status.dev.azure.com/",title:"Azure DevOps"},docker:{api:"https://conda-forge.herokuapp.com/status-monitor/docker",link:"https://dockerstatus.com",title:"Docker"},github:{api:"https://www.githubstatus.com/api/v2/status.json",link:"https://www.githubstatus.com/",title:"GitHub"},open_gpu_server:{api:"https://conda-forge.herokuapp.com/status-monitor/open-gpu-server",link:"https://ci-status.quansight.dev/",title:"Open GPU Server"},quay:{api:"https://status.redhat.com/api/v2/status.json",link:"https://status.redhat.com/",title:"Quay.io"}},azure:{pipelines:"https://conda-forge.herokuapp.com/status-monitor/report/azure-pipelines",status:"https://conda-forge.herokuapp.com/status-monitor/azure"},github:{actions:"https://conda-forge.herokuapp.com/status-monitor/report/github-actions"},stats:"https://raw.githubusercontent.com/conda-forge/by-the-numbers/main/data/live_counts.json",migrations:{details:"https://raw.githubusercontent.com/regro/cf-graph-countyfair/master/status/migration_json/<NAME>.json",graph:"https://raw.githubusercontent.com/regro/cf-graph-countyfair/master/status/migration_svg/<NAME>.svg?sanitize=true",status:{closed:"https://raw.githubusercontent.com/regro/cf-graph-countyfair/master/status/closed_status.json",longterm:"https://raw.githubusercontent.com/regro/cf-graph-countyfair/master/status/longterm_status.json",paused:"https://raw.githubusercontent.com/regro/cf-graph-countyfair/master/status/paused_status.json",regular:"https://raw.githubusercontent.com/regro/cf-graph-countyfair/master/status/regular_status.json"}},repos:{badges:[{name:"conda-forge documentation",link:"https://github.com/conda-forge/conda-forge.github.io",badge:"https://github.com/conda-forge/conda-forge.github.io/workflows/deploy/badge.svg",badgeLink:"https://github.com/conda-forge/conda-forge.github.io/actions?query=workflow%3Adeploy"},{name:"autotick bot",link:"https://github.com/regro/cf-scripts",badge:"https://github.com/regro/cf-scripts/actions/workflows/bot-bot.yml/badge.svg",badgeLink:"https://github.com/regro/cf-scripts/actions"},{name:"feedstock creation",link:"https://github.com/conda-forge/staged-recipes",badge:"https://github.com/conda-forge/admin-requests/actions/workflows/create_feedstocks.yml/badge.svg",badgeLink:"https://github.com/conda-forge/admin-requests/actions/workflows/create_feedstocks.yml"},{name:"admin migrations",link:"https://github.com/conda-forge/admin-migrations",badge:"https://github.com/conda-forge/admin-migrations/actions/workflows/migrate.yml/badge.svg",badgeLink:"https://github.com/conda-forge/admin-migrations/actions/workflows/migrate.yml"}],cdn:{api:"https://conda.anaconda.org/conda-forge/last-updated.json",link:"https://conda.anaconda.org/conda-forge/rss.xml"},services:{api:"https://conda-forge.herokuapp.com/alive",link:"https://github.com/conda-forge/conda-forge-webservices"}},travis:{usage:"https://conda-forge.herokuapp.com/status-monitor/report/travis-ci"},versions:{api:"https://raw.githubusercontent.com/regro/cf-graph-countyfair/master/status/version_status.v2.json",pr:"https://github.com/conda-forge/<NAME>-feedstock/tree/main/recipe"},schemas:{"conda-forge.yml":"https://raw.githubusercontent.com/conda-forge/conda-smithy/main/conda_smithy/data/conda-forge.json"}}},19821:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>N,measureProgress:()=>y});var r=s(56347),a=s(44586),n=s(48926),i=s(27293),o=s(62765),l=s(96540),d=s(35632);const c={migration_details:"migration_details_INtU",migration_details_bar:"migration_details_bar_HfK3",migration_details_toggle:"migration_details_toggle__YNI",migration_details_filter:"migration_details_filter_cpRW",migration_details_filter_button:"migration_details_filter_button_DcbR",migration_details_filter_done:"migration_details_filter_done_HPjH",migration_details_filter_done_hidden:"migration_details_filter_done_hidden_MAZZ",migration_details_filter_in_pr:"migration_details_filter_in_pr_lv2H",migration_details_filter_in_pr_hidden:"migration_details_filter_in_pr_hidden_eRVs",migration_details_filter_awaiting_pr:"migration_details_filter_awaiting_pr_cLot",migration_details_filter_awaiting_pr_hidden:"migration_details_filter_awaiting_pr_hidden__f2a",migration_details_filter_awaiting_parents:"migration_details_filter_awaiting_parents_qibn",migration_details_filter_awaiting_parents_hidden:"migration_details_filter_awaiting_parents_hidden_vgz0",migration_details_filter_not_solvable:"migration_details_filter_not_solvable_sbZh",migration_details_filter_not_solvable_hidden:"migration_details_filter_not_solvable_hidden_csRp",migration_details_filter_bot_error:"migration_details_filter_bot_error_kVbU",migration_details_filter_bot_error_hidden:"migration_details_filter_bot_error_hidden_f8nM",migration_details_filter_icon:"migration_details_filter_icon_U6Yo",collapsed:"collapsed_Rsep",expanded:"expanded_bFKe",migration_details_bar_tooltip:"migration_details_bar_tooltip_GmsJ",migration_details_filter_dot:"migration_details_filter_dot_f6OS",migration_details_filter_in_pr_dot:"migration_details_filter_in_pr_dot_MrJT",migration_details_filter_title_container:"migration_details_filter_title_container_bqwK",ci_status_legend:"ci_status_legend_JXOV",ci_status_item:"ci_status_item_TnBO",ascending:"ascending_EV58",descending:"descending_u8w5"};var g=s(42503),m=(s(11470),s(19365),s(95093)),u=s.n(m),_=s(71746),h=s(25241),p=s(74848);const j={clean:"Mergeable and passing commit status.",unstable:"Mergeable with non-passing commit status.",behind:"The head ref is out of date.",blocked:"The merge is blocked.",dirty:"The merge commit cannot be cleanly created.",draft:"The merge is blocked due to the pull request being a draft.",has_hooks:"Mergeable with passing commit status and pre-receive hooks.",unknown:"The state cannot currently be determined."},b=[["done","Done",!0],["in-pr","In PR",!1],["awaiting-pr","Awaiting PR",!1],["awaiting-parents","Awaiting parents",!1],["not-solvable","Not solvable",!1],["bot-error","Bot error",!1]],f=b.reduce(((e,[t,s])=>({...e,[t]:s})),{}),x="migration-toggle";function y(e){const t=e.done.length+e["in-pr"].length,s=t+e["awaiting-parents"].length+e["awaiting-pr"].length+e["bot-error"].length+e["not-solvable"].length;return{done:t,percentage:t/(s||1)*100,total:s}}const w={clean:{text:"Passing",badgeClass:"success"},unstable:{text:"Failing",badgeClass:"danger"},dirty:{text:"Conflicts",badgeClass:"warning"},blocked:{text:"Blocked",badgeClass:"danger"},behind:{text:"Passing*",badgeClass:"success"},draft:{text:"Draft",badgeClass:"secondary"},has_hooks:{text:"Unknown*",badgeClass:"secondary"},unknown:{text:"Unknown",badgeClass:"secondary"}};function k(e){return w[e]?w[e].badgeClass:(console.warn(`Unknown PR status: "${e}". Expected one of: ${Object.keys(w).join(", ")}`),"secondary")}function v(e){return w[e]?w[e].text:(console.warn(`Unknown PR status: "${e}". Expected one of: ${Object.keys(w).join(", ")}`),e)}function S(e){return e?u()(e).fromNow():null}function N(){const e=(0,r.zy)(),{siteConfig:t}=(0,a.A)(),[s,d]=(0,l.useState)({name:new URLSearchParams(e.search).get("name"),details:null,redirect:!1,view:"table"}),g=e=>{if(window&&window.localStorage)try{window.localStorage.setItem(x,e)}catch(t){console.warn("error writing to local storage",t)}d((t=>({...t,view:e})))};if((0,l.useEffect)((()=>{if(!s.name)return d((e=>({...e,redirect:!0})));let e="";if(window&&window.localStorage)try{e=window.localStorage.getItem(x)}catch(t){console.warn("error reading from local storage",t)}(async()=>{try{const r=n.D.migrations.details.replace("<NAME>",s.name),a=await(await fetch(r)).json();a.progress=y(a),a.paused_or_closed=await async function(e){for(const s of["paused","closed"])try{const t=await fetch(n.D.migrations.status[s]);if(e in await t.json())return s}catch(t){console.warn(`error checking status for ${e}:`,t)}}(u),d((t=>({...t,details:a,view:e||t.view})))}catch(t){console.warn(`error loading migration: ${s.name}`,t),d((e=>({...e,redirect:!0})))}})()}),[]),s.redirect)return(0,p.jsx)(r.rd,{to:"/status",replace:!0});const{details:m,name:u,view:_}=s;return(0,p.jsx)(o.A,{title:t.title,description:"Status dashboard for conda-forge",children:(0,p.jsxs)("main",{className:`container ${c.migration_details}`,children:[(0,p.jsxs)("div",{className:"card margin-top--xs",children:[(0,p.jsxs)("div",{className:"card__header",children:[(0,p.jsx)("div",{className:c.migration_details_toggle,children:(0,p.jsx)("div",{class:"tabs-container",children:(0,p.jsxs)("ul",{role:"tablist","aria-orientation":"horizontal",class:"tabs",children:[(0,p.jsx)("li",{role:"tab",class:["tabs__item","table"==_?"tabs__item--active":null].join(" "),onClick:()=>g("table"),children:"Table"},"table"),(0,p.jsx)("li",{role:"tab",class:["tabs__item","graph"==_?"tabs__item--active":null].join(" "),onClick:()=>g("graph"),children:"Graph"},"graph"),u&&(0,p.jsx)("a",{href:n.D.migrations.details.replace("<NAME>",u),target:"_blank",children:(0,p.jsx)("li",{role:"tab",class:"tabs__item",children:(0,p.jsxs)("span",{children:["Raw ",(0,p.jsx)("i",{className:"fa fa-fw fa-arrow-up-right-from-square"})]})},"raw")})]})})}),(0,p.jsx)(z,{children:u}),(0,p.jsx)("div",{style:{clear:"both"}})]}),(0,p.jsxs)("div",{className:"card__body",style:{overflow:"auto"},children:[m&&"paused"===m.paused_or_closed?(0,p.jsx)(i.A,{type:"note",children:"This migration is currently paused."}):null,m&&"closed"===m.paused_or_closed?(0,p.jsx)(i.A,{type:"note",children:"This migration has been closed recently."}):null,m&&(0,p.jsx)(A,{details:m})||null,"graph"===_?(0,p.jsx)(C,{children:u}):m&&(0,p.jsx)(K,{details:m})]})]}),"table"===_&&(0,p.jsxs)("div",{className:"card margin-top--md",children:[(0,p.jsx)("div",{className:"card__header",children:(0,p.jsx)("h3",{children:"CI Status Legend"})}),(0,p.jsx)("div",{className:"card__body",children:(0,p.jsx)(M,{})})]})]})})}function A({details:e}){return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("h4",{children:["PRs made ",e.progress.percentage.toFixed(0),"%"]}),(0,p.jsx)("div",{className:c.migration_details_bar,children:b.filter((([t])=>e[t]?.length)).map((([t],s)=>(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("a",{id:`migration-bar-element-${t}`,className:c[`migration_details_filter_${t.replace("-","_")}`],style:{flex:e[t].length},alt:f[t]+" "+parseFloat(100*e[t].length/y(e).total).toFixed(1)+"% ("+e[t].length+" PRs over "+y(e).total+")"},`migration-bar-element-href-${t}`),(0,p.jsx)(g.m_,{anchorSelect:`#migration-bar-element-${t}`,place:"top",className:c.migration_details_bar_tooltip,children:(0,p.jsx)("div",{children:f[t]})},`migration-bar-element-tooltip-${t}`)]})))})]})}function z({children:e}){return(0,p.jsx)("nav",{"aria-label":"breadcrumbs",children:(0,p.jsxs)("ul",{className:"breadcrumbs",children:[(0,p.jsx)("li",{className:"breadcrumbs__item",children:(0,p.jsx)("a",{className:"breadcrumbs__link",href:"/",children:"conda-forge"})}),(0,p.jsx)("li",{className:"breadcrumbs__item",children:(0,p.jsx)("a",{className:"breadcrumbs__link",href:"/status",children:"Status"})}),(0,p.jsx)("li",{className:"breadcrumbs__item",children:(0,p.jsx)("a",{className:"breadcrumbs__link",href:"/status#migrations",children:"Migrations"})}),(0,p.jsx)("li",{className:"breadcrumbs__item breadcrumbs__item--active",children:(0,p.jsx)("a",{className:"breadcrumbs__link",href:"",children:e})})]})})}function $({counts:e,filters:t,onFilter:s}){return(0,p.jsx)("div",{className:c.migration_details_filter,children:b.map((([r,a],n)=>{const i=`migration_details_filter_${r.replace("-","_")}`;return(0,p.jsxs)("div",{className:["button",c.migration_details_filter_button,t[r]?"button--secondary":"button--primary"].join(" "),onClick:()=>s(r),children:[t[r]?(0,p.jsx)("span",{className:[c[`${i}_hidden`],c.migration_details_filter_dot,c[`${i}_dot`]].join(" ")}):(0,p.jsx)("span",{className:[c[i],c.migration_details_filter_dot,c[`${i}_dot`]].join(" ")}),(0,p.jsxs)("div",{className:c.migration_details_filter_title_container,children:[a," (",e[r],")"]})]},n)}))})}function C(e){const[t,s]=(0,l.useState)(""),r=n.D.migrations.graph.replace("<NAME>",e.children);return(0,p.jsxs)("div",{children:[(0,p.jsx)("p",{style:{textAlign:"center"},children:(0,p.jsx)("a",{href:r,target:"blank",rel:"noopener noreferrer",children:(0,p.jsxs)("code",{children:[e.children,".svg"]})})}),t?(0,p.jsx)("p",{style:{textAlign:"center"},children:"Graph is unavailable."}):(0,p.jsx)("div",{style:{overflowX:"auto"},children:(0,p.jsx)(d.A,{onError:e=>s(e),src:r,title:e.children,description:`Migration graph for ${e.children}`})})]})}function K({details:e}){const t=b.reduce(((e,[t,s,r])=>({...e,[t]:r})),{}),[s,r]=(0,l.useState)(t),{sort:a,previousSort:n,resort:i}=(0,h.K)("num_descendants","descending"),o=e._feedstock_status,d={clean:0,behind:1,has_hooks:2,unknown:3,unstable:4,blocked:5,dirty:6,draft:7,"":999},g=b.reduce(((t,[r])=>s[r]?t:t.concat(e[r].map((e=>{const t=o[e];return{name:e,status:r,migration_status_order:b.findIndex((e=>e[0]==r)),ci_status_order:d[t.pr_status||""]??8,num_descendants:t.num_descendants??0,updated_at_timestamp:t.updated_at?new Date(t.updated_at).getTime():0}})))),[]).sort((0,_.U)(a.by,a.order,n));return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)($,{counts:b.reduce(((t,[s])=>({...t,[s]:e[s]?.length})),{}),filters:{...s},onFilter:e=>r((t=>({...t,[e]:!t[e]})))}),g.length>0&&(0,p.jsxs)("table",{children:[(0,p.jsx)("thead",{children:(0,p.jsxs)("tr",{children:[(0,p.jsx)(h.y,{sortKey:"name",currentSort:a,onSort:i,styles:c,style:{width:200},children:"Name"}),(0,p.jsx)(h.y,{sortKey:"migration_status",currentSort:a,onSort:i,styles:c,style:{width:115},children:"Migration Status"}),(0,p.jsx)(h.y,{sortKey:"ci_status",currentSort:a,onSort:i,styles:c,style:{width:115},children:"CI Status"}),(0,p.jsx)(h.y,{sortKey:"updated_at",currentSort:a,onSort:i,styles:c,style:{width:115},children:"Last Updated"}),(0,p.jsx)(h.y,{sortKey:"num_descendants",currentSort:a,onSort:i,styles:c,style:{width:115},children:"Total number of children"}),(0,p.jsx)("th",{style:{flex:1},children:"Immediate children"})]})}),(0,p.jsx)("tbody",{children:g.map(((e,t)=>(0,p.jsx)(E,{children:{feedstock:o[e.name],name:e.name,status:e.status}},t)))})]})]})}function E({children:e}){const[t,s]=(0,l.useState)(!0),{feedstock:r,name:a,status:n}=e,i=r.immediate_children||[],o=r.num_descendants,d=r.pr_url,g=r.pre_pr_migrator_status,m=r.pr_status;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{children:d?(0,p.jsx)("a",{href:d,children:a}):g?(0,p.jsx)("span",{className:`${t?c.collapsed:c.expanded}`,onClick:()=>s(!t),children:a}):(0,p.jsx)("span",{children:a})}),(0,p.jsx)("td",{style:{textAlign:"center"},children:f[n]}),(0,p.jsx)("td",{style:{textAlign:"center"},children:m?(0,p.jsx)("span",{className:`badge badge--${k(m)}`,title:j[m]||m,children:v(m)}):(0,p.jsx)("span",{children:"\u2014"})}),(0,p.jsx)("td",{style:{textAlign:"center"},children:(0,p.jsx)("span",{title:(_=r.updated_at,_?u()(_).format("LLLL"):null),children:S(r.updated_at)||"\u2014"})}),(0,p.jsx)("td",{style:{textAlign:"center"},children:o||null}),(0,p.jsx)("td",{children:i.map(((e,t)=>(0,p.jsxs)(l.Fragment,{children:[(0,p.jsx)("span",{style:{marginBottom:1},className:"badge badge--secondary",children:e}),i.length-1===t?"":" "]},t)))})]}),g&&!t&&(0,p.jsx)("tr",{children:(0,p.jsx)("td",{colSpan:6,children:(0,p.jsx)("pre",{dangerouslySetInnerHTML:{__html:g}})})})]});var _}function M(){const e={danger:0,success:1,secondary:2},t=Object.entries(j).sort((([t],[s])=>{const r=k(t),a=k(s);return(e[r]??3)-(e[a]??3)}));return(0,p.jsxs)("div",{className:c.ci_status_legend,children:[t.map((([e,t])=>(0,p.jsxs)("div",{className:c.ci_status_item,children:[(0,p.jsx)("span",{className:`badge badge--${k(e)}`,children:v(e)}),(0,p.jsx)("span",{children:t})]},e))),(0,p.jsx)("a",{href:"https://docs.github.com/en/graphql/reference/enums#mergestatestatus",target:"_blank",rel:"noopener noreferrer",children:"See GitHub Docs"})]})}},80999:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});const r={incident:"incident_bHzo",incident_body:"incident_body_vl8o",incident_date:"incident_date_ZAIQ",incident_link:"incident_link_d5Xr",incidents:"incidents_x4QA",migrations_table:"migrations_table_ijLA",collapsed:"collapsed_jtOo",ascending:"ascending_COGB",descending:"descending_xERP","button-group":"button-group_Z4eJ",migration:"migration_TNQn",status_dashboard_toc:"status_dashboard_toc_wFg2",toc_anchor:"toc_anchor_E8dj",version_updates:"version_updates_YgGC",expanded:"expanded_TKKo",version_updates_title:"version_updates_title_w7Q7",version_updates_content:"version_updates_content_EpKP",badge:"badge_ep9E",errored_item:"errored_item_ZzIY",errored_item_ellipsis:"errored_item_ellipsis_AJLd",errored_item_spacer:"errored_item_spacer_MxwB",errored_item_content:"errored_item_content_D7al",status_dashboard_graph:"status_dashboard_graph_YEJG",progress_bar:"progress_bar_zlKM",ratio:"ratio_SLdi"}},35358:(e,t,s)=>{var r={"./af":25177,"./af.js":25177,"./ar":61509,"./ar-dz":41488,"./ar-dz.js":41488,"./ar-kw":58676,"./ar-kw.js":58676,"./ar-ly":42353,"./ar-ly.js":42353,"./ar-ma":24496,"./ar-ma.js":24496,"./ar-ps":6947,"./ar-ps.js":6947,"./ar-sa":82682,"./ar-sa.js":82682,"./ar-tn":89756,"./ar-tn.js":89756,"./ar.js":61509,"./az":95533,"./az.js":95533,"./be":28959,"./be.js":28959,"./bg":47777,"./bg.js":47777,"./bm":54903,"./bm.js":54903,"./bn":61290,"./bn-bd":17357,"./bn-bd.js":17357,"./bn.js":61290,"./bo":31545,"./bo.js":31545,"./br":89089,"./br.js":89089,"./bs":44429,"./bs.js":44429,"./ca":7306,"./ca.js":7306,"./cs":56464,"./cs.js":56464,"./cv":73635,"./cv.js":73635,"./cy":64226,"./cy.js":64226,"./da":93601,"./da.js":93601,"./de":77853,"./de-at":26111,"./de-at.js":26111,"./de-ch":54697,"./de-ch.js":54697,"./de.js":77853,"./dv":60708,"./dv.js":60708,"./el":54691,"./el.js":54691,"./en-au":53872,"./en-au.js":53872,"./en-ca":28298,"./en-ca.js":28298,"./en-gb":56195,"./en-gb.js":56195,"./en-ie":66584,"./en-ie.js":66584,"./en-il":65543,"./en-il.js":65543,"./en-in":9033,"./en-in.js":9033,"./en-nz":79402,"./en-nz.js":79402,"./en-sg":43004,"./en-sg.js":43004,"./eo":32934,"./eo.js":32934,"./es":97650,"./es-do":20838,"./es-do.js":20838,"./es-mx":17730,"./es-mx.js":17730,"./es-us":56575,"./es-us.js":56575,"./es.js":97650,"./et":3035,"./et.js":3035,"./eu":3508,"./eu.js":3508,"./fa":119,"./fa.js":119,"./fi":90527,"./fi.js":90527,"./fil":95995,"./fil.js":95995,"./fo":52477,"./fo.js":52477,"./fr":85498,"./fr-ca":26435,"./fr-ca.js":26435,"./fr-ch":37892,"./fr-ch.js":37892,"./fr.js":85498,"./fy":37071,"./fy.js":37071,"./ga":41734,"./ga.js":41734,"./gd":70217,"./gd.js":70217,"./gl":77329,"./gl.js":77329,"./gom-deva":32124,"./gom-deva.js":32124,"./gom-latn":93383,"./gom-latn.js":93383,"./gu":95050,"./gu.js":95050,"./he":11713,"./he.js":11713,"./hi":43861,"./hi.js":43861,"./hr":26308,"./hr.js":26308,"./hu":90609,"./hu.js":90609,"./hy-am":17160,"./hy-am.js":17160,"./id":74063,"./id.js":74063,"./is":89374,"./is.js":89374,"./it":88383,"./it-ch":21827,"./it-ch.js":21827,"./it.js":88383,"./ja":23827,"./ja.js":23827,"./jv":89722,"./jv.js":89722,"./ka":41794,"./ka.js":41794,"./kk":27088,"./kk.js":27088,"./km":96870,"./km.js":96870,"./kn":84451,"./kn.js":84451,"./ko":63164,"./ko.js":63164,"./ku":98174,"./ku-kmr":6181,"./ku-kmr.js":6181,"./ku.js":98174,"./ky":78474,"./ky.js":78474,"./lb":79680,"./lb.js":79680,"./lo":15867,"./lo.js":15867,"./lt":45766,"./lt.js":45766,"./lv":69532,"./lv.js":69532,"./me":58076,"./me.js":58076,"./mi":41848,"./mi.js":41848,"./mk":30306,"./mk.js":30306,"./ml":73739,"./ml.js":73739,"./mn":99053,"./mn.js":99053,"./mr":86169,"./mr.js":86169,"./ms":73386,"./ms-my":92297,"./ms-my.js":92297,"./ms.js":73386,"./mt":77075,"./mt.js":77075,"./my":72264,"./my.js":72264,"./nb":22274,"./nb.js":22274,"./ne":8235,"./ne.js":8235,"./nl":92572,"./nl-be":43784,"./nl-be.js":43784,"./nl.js":92572,"./nn":54566,"./nn.js":54566,"./oc-lnc":69330,"./oc-lnc.js":69330,"./pa-in":29849,"./pa-in.js":29849,"./pl":94418,"./pl.js":94418,"./pt":79834,"./pt-br":48303,"./pt-br.js":48303,"./pt.js":79834,"./ro":24457,"./ro.js":24457,"./ru":82271,"./ru.js":82271,"./sd":1221,"./sd.js":1221,"./se":33478,"./se.js":33478,"./si":17538,"./si.js":17538,"./sk":5784,"./sk.js":5784,"./sl":46637,"./sl.js":46637,"./sq":86794,"./sq.js":86794,"./sr":45719,"./sr-cyrl":3322,"./sr-cyrl.js":3322,"./sr.js":45719,"./ss":56e3,"./ss.js":56e3,"./sv":41011,"./sv.js":41011,"./sw":40748,"./sw.js":40748,"./ta":11025,"./ta.js":11025,"./te":11885,"./te.js":11885,"./tet":28861,"./tet.js":28861,"./tg":86571,"./tg.js":86571,"./th":55802,"./th.js":55802,"./tk":59527,"./tk.js":59527,"./tl-ph":29231,"./tl-ph.js":29231,"./tlh":31052,"./tlh.js":31052,"./tr":85096,"./tr.js":85096,"./tzl":79846,"./tzl.js":79846,"./tzm":81765,"./tzm-latn":97711,"./tzm-latn.js":97711,"./tzm.js":81765,"./ug-cn":48414,"./ug-cn.js":48414,"./uk":16618,"./uk.js":16618,"./ur":57777,"./ur.js":57777,"./uz":57609,"./uz-latn":72475,"./uz-latn.js":72475,"./uz.js":57609,"./vi":21135,"./vi.js":21135,"./x-pseudo":64051,"./x-pseudo.js":64051,"./yo":82218,"./yo.js":82218,"./zh-cn":52648,"./zh-cn.js":52648,"./zh-hk":1632,"./zh-hk.js":1632,"./zh-mo":31541,"./zh-mo.js":31541,"./zh-tw":50304,"./zh-tw.js":50304};function a(e){var t=n(e);return s(t)}function n(e){if(!s.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=n,e.exports=a,a.id=35358}}]);