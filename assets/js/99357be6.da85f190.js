"use strict";(self.webpackChunkcf_infra_docs=self.webpackChunkcf_infra_docs||[]).push([[9194],{21393:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>r,contentTitle:()=>c,default:()=>h,frontMatter:()=>t,metadata:()=>s,toc:()=>d});var i=a(85893),o=a(11151);const t={title:"FAQ",sidebar_position:5},c="FAQ",s={id:"user/faq",title:"FAQ",description:"A package I am looking for is not on conda-forge, what can I do?",source:"@site/docs/user/faq.md",sourceDirName:"user",slug:"/user/faq",permalink:"/docs/user/faq",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:5,frontMatter:{title:"FAQ",sidebar_position:5},sidebar:"defaultSidebar",previous:{title:"Using conda-smithy to manage your CI",permalink:"/docs/user/ci-skeleton"},next:{title:"Becoming involved",permalink:"/docs/user/contributing"}},r={},d=[{value:"A package I am looking for is not on conda-forge, what can I do?",id:"a-package-i-am-looking-for-is-not-on-conda-forge-what-can-i-do",level:2},{value:"The feedstock for a package from conda-forge is updated, how long should it take to update on Anaconda Cloud?",id:"the-feedstock-for-a-package-from-conda-forge-is-updated-how-long-should-it-take-to-update-on-anaconda-cloud",level:2},{value:"A package from conda-forge is outdated or broken, where can I report the issue?",id:"a-package-from-conda-forge-is-outdated-or-broken-where-can-i-report-the-issue",level:2},{value:"I have a question/suggestion. How can I contact you?",id:"i-have-a-questionsuggestion-how-can-i-contact-you",level:2},{value:"I have a set of related packages, how do I create a conda-forge team?",id:"i-have-a-set-of-related-packages-how-do-i-create-a-conda-forge-team",level:2},{value:"Installing and updating takes a long time, what can I do?",id:"installing-and-updating-takes-a-long-time-what-can-i-do",level:2},{value:"Why is Travis-CI failing on my feedstock?",id:"why-is-travis-ci-failing-on-my-feedstock",level:2},{value:"How can I install a C/C++ compiler in my environment?",id:"how-can-i-install-a-cc-compiler-in-my-environment",level:2},{value:"Why don&#39;t the C/C++ compilers automatically know how to find libraries installed by conda?",id:"why-dont-the-cc-compilers-automatically-know-how-to-find-libraries-installed-by-conda",level:2},{value:"How can I make conda gcc use my system libraries?",id:"how-can-i-make-conda-gcc-use-my-system-libraries",level:2},{value:"How can I compile CUDA (host or device) codes in my environment?",id:"how-can-i-compile-cuda-host-or-device-codes-in-my-environment",level:2},{value:"How to handle breaking of a package due to ABI incompatibility?",id:"how-to-handle-breaking-of-a-package-due-to-abi-incompatibility",level:2}];function l(e){const n={a:"a",br:"br",code:"code",em:"em",h1:"h1",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,o.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{id:"faq"})}),"\n",(0,i.jsx)(n.h1,{id:"faq",children:"FAQ"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{id:"faq-pkg-not-available"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{id:"a-package-i-am-looking-for-is-not-on-conda-forge-what-can-i-do"})}),"\n",(0,i.jsx)(n.h2,{id:"a-package-i-am-looking-for-is-not-on-conda-forge-what-can-i-do",children:"A package I am looking for is not on conda-forge, what can I do?"}),"\n",(0,i.jsxs)(n.p,{children:["We have an overview and step-by-step instruction on contributing packages in the section ",(0,i.jsx)(n.a,{href:"/docs/maintainer/adding_pkgs#dev-contribute-pkgs",children:"Contributing packages"}),"."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{id:"faq-pkg-update"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{id:"the-feedstock-for-a-package-from-conda-forge-is-updated-how-long-should-it-take-to-update-on-anaconda-cloud"})}),"\n",(0,i.jsx)(n.h2,{id:"the-feedstock-for-a-package-from-conda-forge-is-updated-how-long-should-it-take-to-update-on-anaconda-cloud",children:"The feedstock for a package from conda-forge is updated, how long should it take to update on Anaconda Cloud?"}),"\n",(0,i.jsx)(n.p,{children:"It depends on the queue, but a good rule of thumb is to wait at least 30 mins - 2 hours.  If you don't see it after 24 hrs, please raise an issue."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{id:"faq-report-issue"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{id:"a-package-from-conda-forge-is-outdated-or-broken-where-can-i-report-the-issue"})}),"\n",(0,i.jsx)(n.h2,{id:"a-package-from-conda-forge-is-outdated-or-broken-where-can-i-report-the-issue",children:"A package from conda-forge is outdated or broken, where can I report the issue?"}),"\n",(0,i.jsxs)(n.p,{children:["You can open an issue in the packages feedstock repository on GitHub. Search for the repository ",(0,i.jsx)(n.code,{children:"conda-forge/<package-name>-feedstock"}),". There you can also suggest fixes or even become a maintainer. Please refer to ",(0,i.jsx)(n.a,{href:"/docs/maintainer/updating_pkgs#maintaining-pkgs",children:"Maintaining packages"})," for details."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{id:"faq-contact"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{id:"i-have-a-question-suggestion-how-can-i-contact-you"})}),"\n",(0,i.jsx)(n.h2,{id:"i-have-a-questionsuggestion-how-can-i-contact-you",children:"I have a question/suggestion. How can I contact you?"}),"\n",(0,i.jsxs)(n.p,{children:["Please join us on our ",(0,i.jsx)(n.a,{href:"https://app.element.io/#/room/#conda-forge:matrix.org",children:"Element chatroom"}),". We are always happy to answer questions and help beginners."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{id:"faq-teams"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{id:"i-have-a-set-of-related-packages-how-do-i-create-a-conda-forge-team"})}),"\n",(0,i.jsx)(n.h2,{id:"i-have-a-set-of-related-packages-how-do-i-create-a-conda-forge-team",children:"I have a set of related packages, how do I create a conda-forge team?"}),"\n",(0,i.jsxs)(n.p,{children:["conda-forge github teams are very useful means of adding common maintainers to a set of related packages. For example, most R packages are co-maintained by the conda-forge/R team.\nTo create a new team, you can just use one of the existing feedstocks from your packages. Each feedstock has automatically a team assigned (formed from the maintainers of that feedstock).\nFor example, the conda-forge R team is coming from the ",(0,i.jsx)(n.a,{href:"https://github.com/conda-forge/r-feedstock",children:"r-feedstock"}),". Then you can just add - conda-forge/r in the maintainers section to\nmake all maintainers of the r-feedstock also maintainers of the new package."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{id:"faq-solver-speed"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{id:"installing-and-updating-takes-a-long-time-what-can-i-do"})}),"\n",(0,i.jsx)(n.h2,{id:"installing-and-updating-takes-a-long-time-what-can-i-do",children:"Installing and updating takes a long time, what can I do?"}),"\n",(0,i.jsx)(n.p,{children:"Enabling strict channel priority may help. You can do this via"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"conda config --set channel_priority strict\n"})}),"\n",(0,i.jsxs)(n.p,{children:["You can also try using a package called ",(0,i.jsx)(n.a,{href:"https://github.com/mamba-org/mamba",children:"mamba"}),".\n",(0,i.jsx)(n.code,{children:"mamba"})," is an ",(0,i.jsx)(n.code,{children:"conda"}),"-compatible package that can be used in place of ",(0,i.jsx)(n.code,{children:"conda"}),". It\nemploys a faster solver implemented in ",(0,i.jsx)(n.code,{children:"C"}),". It can be installed via"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"conda install mamba\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{id:"faq-travis-ci"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{id:"why-is-travis-ci-failing-on-my-feedstock"})}),"\n",(0,i.jsx)(n.h2,{id:"why-is-travis-ci-failing-on-my-feedstock",children:"Why is Travis-CI failing on my feedstock?"}),"\n",(0,i.jsxs)(n.p,{children:["Travis CI builds should be enabled or disabled via the ",(0,i.jsx)(n.code,{children:"conda-forge.yml"})," configuration.\nNevertheless, sometimes Travis CI ignores this for whatever reason (probably a bug somewhere).\nIn such a case, please disregard failing builds.\nNote that ",(0,i.jsx)(n.code,{children:"travis-ci.org"})," builds are soon being phased out and replaced by ",(0,i.jsx)(n.code,{children:"travis-ci.com"}),"."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{id:"faq-compiler-metapkg"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{id:"how-can-i-install-a-c-c-compiler-in-my-environment"})}),"\n",(0,i.jsx)(n.h2,{id:"how-can-i-install-a-cc-compiler-in-my-environment",children:"How can I install a C/C++ compiler in my environment?"}),"\n",(0,i.jsxs)(n.p,{children:["You can use our convenient meta-packages ",(0,i.jsx)(n.code,{children:"c-compiler"})," and ",(0,i.jsx)(n.code,{children:"cxx-compiler"})," to install a compiler stack that fits your platform. Error messages such as"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-default",children:"x86_64-apple-darwin13.4.0-clang: No such file or directory\n"})}),"\n",(0,i.jsx)(n.p,{children:"are a telltale sign that you are lacking compilers."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{id:"faq-compiler-required-options"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{id:"why-don-t-the-c-c-compilers-automatically-know-how-to-find-libraries-installed-by-conda"})}),"\n",(0,i.jsx)(n.h2,{id:"why-dont-the-cc-compilers-automatically-know-how-to-find-libraries-installed-by-conda",children:"Why don't the C/C++ compilers automatically know how to find libraries installed by conda?"}),"\n",(0,i.jsxs)(n.p,{children:["All of our toolchains are built as cross-compilers (even when they are built to run on the same\narchitecture that they are targeting).  We do this because it makes it possible to then install\nthem anywhere like any other conda package.  As a result, the builtin search path for the\ncompilers only contains the sysroot they were built with. The compiler binary names are also\n\u2018prefixed' with more complete information about the architecture and ",(0,i.jsx)(n.a,{href:"/docs/misc/#term-ABI",children:"ABI"})," they target.  So, instead\nof ",(0,i.jsx)(n.code,{children:"gcc"}),", the actual binary will be named something like ",(0,i.jsx)(n.code,{children:"x86_64-conda-linux-gnu-cc"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["The conda-forge infrastructure provides ",(0,i.jsx)(n.a,{href:"/docs/maintainer/adding_pkgs#activate-scripts",children:"activation scripts"})," which are run when\nyou ",(0,i.jsx)(n.code,{children:"conda activate"})," an environment that contains the compiler toolchain.  Those scripts set\nmany environment variables that are typically used by GNU ",(0,i.jsx)(n.code,{children:"autotools"})," and ",(0,i.jsx)(n.code,{children:"make"})," in the\n",(0,i.jsx)(n.code,{children:"standard"})," (i.e. builtin) build rules.  For example, you would see the variable ",(0,i.jsx)(n.code,{children:"CC"})," set to\nthe long compiler name ",(0,i.jsx)(n.code,{children:"x86_64-conda-linux-gnu-cc"}),".  The activation scripts also set a\n",(0,i.jsx)(n.code,{children:"CMAKE_ARGS"})," variable with many arguments the conda-forge community finds helpful for\nconfiguring cmake build flows.  Of particular note, the activation scripts add the\n",(0,i.jsx)(n.code,{children:"CONDA_PREFIX/include"})," and ",(0,i.jsx)(n.code,{children:"CONDA_PREFIX/lib"})," paths to the appropriate ",(0,i.jsx)(n.code,{children:"FLAGS"})," environment\nvariables (",(0,i.jsx)(n.code,{children:"CLAGS"}),", ",(0,i.jsx)(n.code,{children:"CPPFLAGS"}),", ",(0,i.jsx)(n.code,{children:"LDFLAGS"}),", etc) so that many build systems will pick them up correctly."]}),"\n",(0,i.jsxs)(n.p,{children:["What do you do if you have custom ",(0,i.jsx)(n.code,{children:"FLAGS"})," that your project requires for it's build or you can't\nbuild with some of the flags supplied by conda-forge?  What if you are building something that\nis setup for cross-compiling and expects ",(0,i.jsx)(n.code,{children:"CC"})," to contain the name of the target toolchain but\nwants to be able to build some things for the build-host to use during the build by just calling\n",(0,i.jsx)(n.code,{children:"gcc"}),"?"]}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.a,{href:"#faq-compiler-metapkg",children:"compiler metapackages mentioned above"})," also install packages that\ncreate symlinks of the short names (like ",(0,i.jsx)(n.code,{children:"gcc"}),") to the actual toolchain binary names (like\n",(0,i.jsx)(n.code,{children:"x86_64-conda-linux-gnu-cc"}),") for toolchains that are targeting the system they are running on."]}),"\n",(0,i.jsxs)(n.p,{children:["A new optional package called ",(0,i.jsx)(n.code,{children:"conda-gcc-specs"})," can also be installed that adds:\n",(0,i.jsx)(n.br,{}),"* ",(0,i.jsx)(n.code,{children:"-include $CONDA_PREFIX/include"})," to compile commands\n* ",(0,i.jsx)(n.code,{children:"-rpath $CONDA_PREFIX/lib -rpath-link $CONDA_PREFIX/lib -disable-new-dtags -L $CONDA_PREFIX/lib"})," to link\ncommands"]}),"\n",(0,i.jsxs)(n.p,{children:["Using the compiler metapackage with ",(0,i.jsx)(n.code,{children:"conda-gcc-specs"})," you can incude and link libraries installed\nin ",(0,i.jsx)(n.code,{children:"CONDA_PREFIX"})," without having to provide any conda-specific cmdline arguments."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{id:"faq-compiler-use-system-libs"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{id:"how-can-i-make-conda-gcc-use-my-system-libraries"})}),"\n",(0,i.jsx)(n.h2,{id:"how-can-i-make-conda-gcc-use-my-system-libraries",children:"How can I make conda gcc use my system libraries?"}),"\n",(0,i.jsx)(n.p,{children:"First, the conda-forge infrastructure tries very hard to avoid using any of the system-provided\nlibraries, otherwise the dependencies betweeen packages quickly become incomplete and nothing works."}),"\n",(0,i.jsxs)(n.p,{children:["However, as an end user, when not building something that will be packaged and distributed via\nconda-forge, you may need to link against libraries on your system instead of libraries in your\nconda environment.  This can be accomplished (for gcc) by passing ",(0,i.jsx)(n.code,{children:"-sysroot=/"})," on the cmdline."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{id:"faq-cuda-compiler-header"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{id:"how-can-i-compile-cuda-host-or-device-codes-in-my-environment"})}),"\n",(0,i.jsx)(n.h2,{id:"how-can-i-compile-cuda-host-or-device-codes-in-my-environment",children:"How can I compile CUDA (host or device) codes in my environment?"}),"\n",(0,i.jsxs)(n.p,{children:["Unfortunately, this is not possible with conda-forge's current infrastructure (",(0,i.jsx)(n.code,{children:"nvcc"}),", ",(0,i.jsx)(n.code,{children:"cudatoolkit"}),", etc) if there is no local CUDA Toolkit installation. In particular, the ",(0,i.jsx)(n.code,{children:"nvcc"})," package provided on conda-forge is a ",(0,i.jsx)(n.em,{children:"wrapper package"})," that exposes the actual ",(0,i.jsx)(n.code,{children:"nvcc"})," compiler to our CI infrastructure in a ",(0,i.jsx)(n.code,{children:"conda"}),"-friendly way; it does not contain the full ",(0,i.jsx)(n.code,{children:"nvcc"})," compiler toolchain. One of the reasons is that CUDA headers like ",(0,i.jsx)(n.code,{children:"cuda.h"}),", ",(0,i.jsx)(n.code,{children:"cuda_runtime.h"}),", etc, which are needed at compile time, are not redistributable according to NVIDIA's EULA. Likewise, the ",(0,i.jsx)(n.code,{children:"cudatoolkit"})," package only contains CUDA runtime libraries and not the compiler toolchain."]}),"\n",(0,i.jsxs)(n.p,{children:["If you need to compile CUDA code, even if it involves only CUDA host APIs, you will still need a valid CUDA Toolkit installed locally and use it. Please refer to ",(0,i.jsx)(n.a,{href:"https://docs.nvidia.com/cuda/cuda-compiler-driver-nvcc/index.html",children:"NVCC's documentation"})," for the CUDA compiler usage and ",(0,i.jsx)(n.a,{href:"https://docs.nvidia.com/cuda/cuda-c-programming-guide/index.html",children:"CUDA Programming Guide"})," for general CUDA programming."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{id:"faq-abi-incompatibility"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{id:"how-to-handle-breaking-of-a-package-due-to-abi-incompatibility"})}),"\n",(0,i.jsx)(n.h2,{id:"how-to-handle-breaking-of-a-package-due-to-abi-incompatibility",children:"How to handle breaking of a package due to ABI incompatibility?"}),"\n",(0,i.jsx)(n.p,{children:"If your package breaks ABI with a version bump, here are a few steps you can take to fix it:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Rebuild the new version with corrected ",(0,i.jsx)(n.code,{children:"run_exports"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["Rebuild the old version with corrected ",(0,i.jsx)(n.code,{children:"run_exports"}),"."]}),"\n",(0,i.jsx)(n.li,{children:"Hot-fix the repodata of dependencies to include corrected pinnings for the package."}),"\n",(0,i.jsxs)(n.li,{children:["Add a PR to pin the old version in ",(0,i.jsx)(n.code,{children:"conda-forge-pinning"})," (if not already present)"]}),"\n",(0,i.jsxs)(n.li,{children:["Open a migrator following ",(0,i.jsx)(n.a,{href:"https://github.com/conda-forge/cfep/blob/main/cfep-09.md",children:"CFEP-09"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["To read more on how to specify ",(0,i.jsx)(n.code,{children:"run_exports"}),", see ",(0,i.jsx)(n.a,{href:"/docs/maintainer/pinning_deps#run-exports",children:"Specifying run_exports"}),".\nSome of the examples you can see for reference, where broken packages are fixed by:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"https://github.com/conda-forge/conda-forge-repodata-patches-feedstock/pull/217",children:"Replacing an existing pin that was incorrect"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"https://github.com/conda-forge/conda-forge-repodata-patches-feedstock/pull/132",children:"Pinning packages loosely to rely on their ABI compatibility"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"https://github.com/conda-forge/conda-forge-repodata-patches-feedstock/pull/154",children:"Pinning packages strictly"}),"."]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,o.a)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},11151:(e,n,a)=>{a.d(n,{Z:()=>s,a:()=>c});var i=a(67294);const o={},t=i.createContext(o);function c(e){const n=i.useContext(t);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:c(e.components),i.createElement(t.Provider,{value:n},e.children)}}}]);