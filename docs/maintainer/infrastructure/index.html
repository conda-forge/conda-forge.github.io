<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-maintainer/infrastructure" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">Infrastructure | conda-forge | community-driven packaging for conda</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://conda-forge.org/docs/maintainer/infrastructure/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Infrastructure | conda-forge | community-driven packaging for conda"><meta data-rh="true" name="description" content="This page gives an overview of the conda-forge infrastructure, that is, an account of the various pieces maintained by the conda-forge contributors as well as third-party providers that collectively form the basis for the operation of conda-forge."><meta data-rh="true" property="og:description" content="This page gives an overview of the conda-forge infrastructure, that is, an account of the various pieces maintained by the conda-forge contributors as well as third-party providers that collectively form the basis for the operation of conda-forge."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://conda-forge.org/docs/maintainer/infrastructure/"><link data-rh="true" rel="alternate" href="https://conda-forge.org/docs/maintainer/infrastructure/" hreflang="en"><link data-rh="true" rel="alternate" href="https://conda-forge.org/docs/maintainer/infrastructure/" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://KB43FQOB7U-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="conda-forge | community-driven packaging for conda RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="conda-forge | community-driven packaging for conda Atom Feed">




<link rel="search" type="application/opensearchdescription+xml" title="conda-forge | community-driven packaging for conda" href="/opensearch.xml">

<link rel="alternate" type="application/rss+xml" href="/news/rss.xml" title="conda-forge | community-driven packaging for conda RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/news/atom.xml" title="conda-forge | community-driven packaging for conda Atom Feed">


<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css">
<script src="/js/count.js" defer="defer" data-goatcounter="https://conda-forge.goatcounter.com/count"></script><link rel="stylesheet" href="/assets/css/styles.b19e98a1.css">
<script src="/assets/js/runtime~main.34151d51.js" defer="defer"></script>
<script src="/assets/js/main.65f9dc60.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/img/logo.png"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.png" alt="conda-forge anvil logo without text" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.png" alt="conda-forge anvil logo without text" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">Docs</a><a class="navbar__item navbar__link" href="/community/">Community</a><a class="navbar__item navbar__link" href="/news/">News</a><a class="navbar__item navbar__link" href="/blog/">Blog</a><a class="navbar__item navbar__link" href="/status/">Status</a><a class="navbar__item navbar__link" href="/packages/">Packages</a><a class="navbar__item navbar__link" href="/download/">Download</a></div><div class="navbar__items navbar__items--right"><a href="https://opencollective.com/conda-forge" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Donate<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/conda-forge" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link fab fa-lg fa-github" title="GitHub"></a><a href="https://conda-forge.zulipchat.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link fa-solid fa-comments" title="Zulip"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/">conda-forge documentation</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/user/">User Documentation</a><button aria-label="Expand sidebar category &#x27;User Documentation&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/docs/maintainer/">Maintainer Documentation</a><button aria-label="Collapse sidebar category &#x27;Maintainer Documentation&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/maintainer/infrastructure/">Infrastructure</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/maintainer/guidelines/">Guidelines</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/maintainer/adding_pkgs/">Contributing packages</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/maintainer/updating_pkgs/">Maintaining packages</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/maintainer/pinning_deps/">Pinned dependencies</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/maintainer/conda_forge_yml/">Configuring conda-forge.yml</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/maintainer/knowledge_base/">Knowledge Base</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/maintainer/maintainer_faq/">FAQ</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/maintainer/understanding_conda_forge/">Understanding conda-forge</a><button aria-label="Expand sidebar category &#x27;Understanding conda-forge&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/glossary/">Glossary</a></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/maintainer/"><span itemprop="name">Maintainer Documentation</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Infrastructure</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Infrastructure</h1></header>
<p>This page gives an overview of the conda-forge infrastructure, that is, an account of the various pieces maintained by the conda-forge contributors as well as third-party providers that collectively form the basis for the operation of conda-forge.</p>
<p>We start with the different Github <a href="#repositories">repositories</a> maintained by conda-forge itself, then describe the administrative commands available for use in those repositories, the so-called <a href="#admin-web-services">Admin web services</a>, followed by <a href="#ci-build-services">the CI services</a>, i.e. the third-party providers used for building and maintaining packages together.
After that, we turn to a description of some aspects of the build environment for packages in <a href="#compilers-and-runtimes">Compilers and Runtimes</a>, together with <a href="#output-validation-and-feedstock-tokens">details about the upload to the package server</a>.</p>
<p><a href="#stages-of-package-building-and-involved-infrastructure">Then</a>, we see how the process of building a package interacts with different parts of the infrastructure.</p>
<p>We close out with a brief <a href="#inventory-of-services--providers">listing of involved entities</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="repositories">Repositories<a href="#repositories" class="hash-link" aria-label="Direct link to Repositories" title="Direct link to Repositories">â€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="staged-recipes">Staged-recipes<a href="#staged-recipes" class="hash-link" aria-label="Direct link to Staged-recipes" title="Direct link to Staged-recipes">â€‹</a></h3>
<p>This repository is the gateway to conda-forge and where users can submit new recipes which, once reviewed and accepted, will generate a new feedstock and team.
You can find the detailed guide for submitting new package recipes in <a href="/docs/maintainer/adding_pkgs/#creating-recipes">The staging process</a>.</p>
<ul>
<li>âš™ï¸ Deployed in <a href="https://github.com/conda-forge/staged-recipes" target="_blank" rel="noopener noreferrer"><code>conda-forge/staged-recipes</code></a></li>
<li>ğŸ”’ Has access to Anaconda.org (cf-staging)</li>
<li>ğŸ¤– Integrated with <a href="#webservices"><code>webservices</code></a></li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="anatomy-of-staged-recipes">Anatomy of staged-recipes<a href="#anatomy-of-staged-recipes" class="hash-link" aria-label="Direct link to Anatomy of staged-recipes" title="Direct link to Anatomy of staged-recipes">â€‹</a></h4>
<p><code>recipes/</code> contains one or more <em>subdirectories</em> with user-submitted recipes.
Most cases will only submit one recipe at a time, but if several subdirectories are present, the <code>build_all.py</code> script will build them in the right order so dependencies are satisfied.</p>
<p><code>.ci_support</code> contains the conda-build YAML configuration files, but in this case (if compared to feedstocks), you will also find some scripts:</p>
<ul>
<li><code>build_all.py</code>: Calls conda-build in the right (topographically sorted) order.</li>
<li><code>compute_build_graph.py</code>: Supports <code>build_all.py</code> by providing the job graph with all the submitted recipes.</li>
</ul>
<p>The YAML files included in <code>.ci_support</code> are minimal and not rendered like the ones you find in feedstocks.
Instead, conda-build will take these and combine them with the pinnings from <code>conda-forge-pinning</code> at runtime.
Also note that <code>staged-recipes</code> only builds for x64. Support for additional architectures can only be done once a feedstock has been provided.</p>
<ul>
<li>Linux: <code>linux64.yaml</code> plus the CUDA variants.</li>
<li>macOS: <code>osx64.yaml</code>.</li>
<li>Windows <code>win64.yaml</code>.</li>
</ul>
<p>The directory <code>.scripts</code> contains roughly the same shell scripts that would be used in a feedstock for the CI pipelines.
However, since <code>staged-recipes</code> does not support rerendering, these are kept in sync manually and it is common to see some differences.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="workflows">Workflows<a href="#workflows" class="hash-link" aria-label="Direct link to Workflows" title="Direct link to Workflows">â€‹</a></h4>
<p>The main job run on <code>staged-recipes</code> is the <code>conda-build</code> job that runs on every PR (and push to <code>main</code>) to check whether the recipes build packages correctly.
These jobs run on Azure Pipelines defined in <a href="https://github.com/conda-forge/staged-recipes/tree/main/.azure-pipelines" target="_blank" rel="noopener noreferrer"><code>.azure-pipelines/</code></a>.</p>
<p>The actual creation of the feedstock is run in <a href="#admin-requests">conda-forge/admin-requests</a>.</p>
<p>Additional workflows help users set up their recipes correctly. They react to events in PRs:</p>
<ul>
<li><a href="https://github.com/conda-forge/staged-recipes/blob/main/.github/workflows/automate-review-labels.yml" target="_blank" rel="noopener noreferrer"><code>automate-review-labels</code></a>: Updates PR labels to streamline reviews and requests for help.</li>
<li><a href="https://github.com/conda-forge/staged-recipes/blob/main/.github/workflows/linter.yml" target="_blank" rel="noopener noreferrer"><code>linter</code></a>: General recipe linting plus some staged-recipes specific checks, like not editing the examples.</li>
</ul>
<p>External services connect to <code>staged-recipes</code> too:</p>
<ul>
<li>The <code>@conda-forge-admin</code> bot (deployed at <a href="#webservices"><code>webservices</code></a>) will lint and provide hints in PRs based on the contents of the recipe.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="feedstocks">Feedstocks<a href="#feedstocks" class="hash-link" aria-label="Direct link to Feedstocks" title="Direct link to Feedstocks">â€‹</a></h3>
<ul>
<li>âš™ï¸ Deployed in Github repositories</li>
<li>ğŸ”’ Has access to Azure Pipelines, Github Actions, Anaconda.org (cf-staging)</li>
<li>ğŸ” Might have access to Travis CI, Cirun via <code>admin-requests</code> (WIP)</li>
<li>ğŸ¤– Integrated with <a href="#admin-migrations"><code>admin-migrations</code></a>, <a href="#admin-requests"><code>admin-requests</code></a>, the <a href="#autotick-bot"><code>autotick-bot</code></a>, and <a href="#webservices"><code>webservices</code></a>.</li>
</ul>
<p>Conda-forge has thousands of feedstocks.
Each feedstock hosts a recipe plus the required pipelines, supporting scripts and configuration metadata.</p>
<p>The contents of a feedstock are well specified. Only two locations are user-managed:</p>
<ul>
<li><code>recipe/</code>: Contains the conda-build instructions to build packages. It needs, at least, a <code>meta.yaml</code> file, and this is also where the optional <code>conda_build_config.yaml</code> usually goes.</li>
<li><code>conda-forge.yml</code>: This is the feedstock configuration file.</li>
</ul>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>warning</div><div class="admonitionContent_BuS1"><p>You should never manually edit files <em>not</em> listed above! Changes will be overridden in the next feedstock rerender.</p></div></div>
<p>Combining these two sources with some external components, <code>conda-smithy</code> will generate (render) the contents of the feedstock. Many of the directories are named like that because it is what the external service (e.g. Azure) requests. However, some <code>conda-smithy</code>-unique directories are worth discussing:</p>
<ul>
<li><code>.ci_support/</code>: Contains the rendered <code>conda_build_config.yaml</code> files, passed to <code>conda-build</code> via the <code>-m</code> flag. Each file here corresponds to one job in the CI build matrix.</li>
<li><code>.ci_support/migrations/</code>: Special YAML files that instruct <code>conda-smithy</code> how to update the <code>.ci_support/*.yaml</code> files. These migration files are usually put here by the <a href="#autotick-bot"><code>autotick-bot</code></a> infrastructure, and removed once the migration is considered finished.</li>
<li><code>.scripts/</code>: Common logic and code supporting the steps you can find in the CI pipelines and local debugging tools.</li>
<li><code>build-locally.py</code>: A Python script to debug recipes in your machine, roughly equivalent to what&#x27;s done in the CI pipelines.</li>
</ul>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Learn more (WIP)</div><div class="admonitionContent_BuS1"><ul>
<li>Rerendering a feedstock</li>
<li>Recommended workflow</li>
</ul></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="feedstocks-monorepo">feedstocks monorepo<a href="#feedstocks-monorepo" class="hash-link" aria-label="Direct link to feedstocks monorepo" title="Direct link to feedstocks monorepo">â€‹</a></h4>
<p>A single repository containing all feedstocks as submodules.</p>
<ul>
<li>âš™ï¸ Deployed in <a href="https://github.com/conda-forge/feedstocks" target="_blank" rel="noopener noreferrer"><code>conda-forge/feedstocks</code></a></li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="feedstock-outputs">feedstock-outputs<a href="#feedstock-outputs" class="hash-link" aria-label="Direct link to feedstock-outputs" title="Direct link to feedstock-outputs">â€‹</a></h4>
<p>This repository is a registry of feedstock names and the packages (artifacts) they produce.</p>
<ul>
<li>âš™ï¸ Deployed in <a href="https://github.com/conda-forge/feedstock-outputs" target="_blank" rel="noopener noreferrer">Github Actions via <code>conda-forge/feedstock-outputs</code></a></li>
<li>ğŸ”’ Has access to Azure, Anaconda.org (cf-staging)</li>
</ul>
<p>Its main purpose is to provide an allow-list for the validation server to prevent malicious cross-feedstock builds, although it&#x27;s also an informative map of <code>feedstocks &lt;-&gt; packages</code> that is exposed in the <a href="https://conda-forge.org/feedstock-outputs/" target="_blank" rel="noopener noreferrer">packages section of the website</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="cdt-builds">cdt-builds<a href="#cdt-builds" class="hash-link" aria-label="Direct link to cdt-builds" title="Direct link to cdt-builds">â€‹</a></h3>
<ul>
<li>âš™ï¸ Deployed in <a href="https://dev.azure.com/conda-forge/cdt-builds/_build" target="_blank" rel="noopener noreferrer">Azure Pipelines</a> via <a href="https://github.com/conda-forge/cdt-builds" target="_blank" rel="noopener noreferrer"><code>conda-forge/cdt-builds</code></a></li>
<li>ğŸ”’ Has access to Azure Pipelines, Anaconda.org (cf-staging)</li>
</ul>
<p>This special repository builds Core Dependency Tree packages for conda-forge (Linux only).
It doesn&#x27;t use the feedstock automated machinery.
Instead, it has its own Azure Pipelines workflow and a well-documented README.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="msys2-recipes">msys2-recipes<a href="#msys2-recipes" class="hash-link" aria-label="Direct link to msys2-recipes" title="Direct link to msys2-recipes">â€‹</a></h3>
<ul>
<li>âš™ï¸ Deployed manually from <a href="https://github.com/conda-forge/msys2-recipes" target="_blank" rel="noopener noreferrer"><code>conda-forge/msys2-recipes</code></a></li>
</ul>
<p>This is a fork of the old community recipes repository at Anaconda, which includes the <code>msys2</code> recipes under the <a href="https://github.com/conda-forge/msys2-recipes/tree/master/msys2" target="_blank" rel="noopener noreferrer"><code>msys2/</code></a> directory.
Note also the supporting scripts in the <a href="https://github.com/conda-forge/msys2-recipes/tree/master/common-scripts" target="_blank" rel="noopener noreferrer"><code>common-scripts/</code></a> folder.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="website">Website<a href="#website" class="hash-link" aria-label="Direct link to Website" title="Direct link to Website">â€‹</a></h3>
<p>The current <a href="https://conda-forge.org" target="_blank" rel="noopener noreferrer">conda-forge.org</a> is a statically generated website published to Github Pages.</p>
<ul>
<li>ğŸ“œ Source at <a href="https://github.com/conda-forge/conda-forge.github.io/" target="_blank" rel="noopener noreferrer">conda-forge/conda-forge.github.io</a></li>
<li>âš™ï¸ Deployed in <a href="https://conda-forge.org/" target="_blank" rel="noopener noreferrer">conda-forge.org</a></li>
<li>ğŸ¤– to enhance the utility of the documentation we also use
<ul>
<li>PR previews at <a href="https://app.netlify.com/sites/conda-forge-previews" target="_blank" rel="noopener noreferrer">Netlify</a></li>
<li>Statistics at <a href="https://conda-forge.goatcounter.com/" target="_blank" rel="noopener noreferrer">GoatCounter</a></li>
<li>Search powered by <a href="https://dashboard.algolia.com/apps/KB43FQOB7U/dashboard" target="_blank" rel="noopener noreferrer">Algolia</a></li>
</ul>
</li>
</ul>
<p>The documentation is built with Docusaurus and the source files are located in the <a href="https://github.com/conda-forge/conda-forge.github.io/tree/main/docs" target="_blank" rel="noopener noreferrer"><code>docs/</code></a> directory of the repository.</p>
<p>If you find any typos, errors, unclear explanations, or new topics that can be covered, you can suggest changes to the documentation. For more details, please refer to <a href="/docs/user/contributing/#improve-docs">Improve the documentation</a>.</p>
<p>In addition to the static documentation, the website also offers information on the current status of conda-forge as well as a mapping of packages to feedstocks.</p>
<ul>
<li>Status: <a href="https://conda-forge.org/status" target="_blank" rel="noopener noreferrer">conda-forge.org/status</a></li>
<li>Packages-to-feedstock mapping: <a href="https://conda-forge.org/feedstock-outputs" target="_blank" rel="noopener noreferrer">conda-forge.org/feedstock-outputs</a></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="metadata-repositories">Metadata repositories<a href="#metadata-repositories" class="hash-link" aria-label="Direct link to Metadata repositories" title="Direct link to Metadata repositories">â€‹</a></h3>
<p>These are repositories that primarily hold metadata used by other parts of the conda-forge ecosystem.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="conda-forge-pinning">conda-forge pinning<a href="#conda-forge-pinning" class="hash-link" aria-label="Direct link to conda-forge pinning" title="Direct link to conda-forge pinning">â€‹</a></h4>
<p>Hosts the global pinnings for conda-forge, and the ongoing migrations.</p>
<ul>
<li>âš™ï¸ Deployed in <a href="https://anaconda.org/conda-forge/conda-forge-pinning" target="_blank" rel="noopener noreferrer">Anaconda.org</a> via <a href="https://github.com/conda-forge/conda-forge-pinning-feedstock" target="_blank" rel="noopener noreferrer"><code>conda-forge/conda-forge-pinning-feedstock</code></a></li>
<li>ğŸ”’ Has access to Azure, Anaconda.org (cf-staging)</li>
</ul>
<p>Package-wide dependency pins are defined in <a href="https://github.com/conda-forge/conda-forge-pinning-feedstock/blob/master/recipe/conda_build_config.yaml" target="_blank" rel="noopener noreferrer">conda_build_config.yaml</a> in the <a href="https://github.com/conda-forge/conda-forge-pinning-feedstock" target="_blank" rel="noopener noreferrer">conda-forge/conda-forge-pinning-feedstock</a>.</p>
<p>For more information on conda-forge wide package pins, please refer to <a href="/docs/maintainer/pinning_deps/#globally-pinned-packages">Globally pinned packages</a>.</p>
<p>Please open a <a href="/docs/glossary/#pr">PR</a> and/or an issue there, if you think a pin needs to be advanced. For more information on updating globally pinned packages, please refer to <a href="/docs/maintainer/pinning_deps/#update-pins">Updating package pins</a>.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="conda-forge-repodata-patches">conda-forge-repodata-patches<a href="#conda-forge-repodata-patches" class="hash-link" aria-label="Direct link to conda-forge-repodata-patches" title="Direct link to conda-forge-repodata-patches">â€‹</a></h4>
<p>This repository creates the <code>repodata.json</code> patches used by the Anaconda.org to amend the metadata coming from the published packages.</p>
<ul>
<li>âš™ï¸ Deployed in <a href="https://anaconda.org/conda-forge/conda-forge-repodata-patches" target="_blank" rel="noopener noreferrer">Anaconda.org</a> via <a href="https://github.com/conda-forge/conda-forge-repodata-patches-feedstock" target="_blank" rel="noopener noreferrer"><code>conda-forge/conda-forge-repodata-patches-feedstock</code></a></li>
<li>ğŸ”’ Has access to Azure, Anaconda.org (cf-staging)</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="conda-forge-ci-setup">conda-forge-ci-setup<a href="#conda-forge-ci-setup" class="hash-link" aria-label="Direct link to conda-forge-ci-setup" title="Direct link to conda-forge-ci-setup">â€‹</a></h4>
<p>This special feedstock provides a package that defines the logic to install and configure a common CI setup across providers.</p>
<ul>
<li>âš™ï¸ Deployed in <a href="https://anaconda.org/conda-forge/conda-forge-ci-setup" target="_blank" rel="noopener noreferrer">Anaconda.org</a> via <a href="https://github.com/conda-forge/conda-forge-ci-setup-feedstock" target="_blank" rel="noopener noreferrer"><code>conda-forge/conda-forge-ci-setup-feedstock</code></a></li>
<li>ğŸ”’ Has access to Azure, Anaconda.org (cf-staging)</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="regrocf-graph-countyfair">regro/cf-graph-countyfair<a href="#regrocf-graph-countyfair" class="hash-link" aria-label="Direct link to regro/cf-graph-countyfair" title="Direct link to regro/cf-graph-countyfair">â€‹</a></h4>
<p>This is the graph data used by <a href="#autotick-bot"><code>autotick-bot</code></a>.</p>
<ul>
<li>âš™ï¸ Deployed in <a href="https://github.com/regro/cf-graph-countyfair" target="_blank" rel="noopener noreferrer">Github Actions via <code>regro/cf-graph-countyfair</code></a></li>
<li>â›“ Needs <a href="#regrocf-scripts"><code>regro/cf-scripts</code></a>, <a href="#conda-forge-pinning"><code>conda-forge/conda-forge-pinning-feedstock</code></a></li>
<li>ğŸ¤– Uses <a href="#bot-accounts"><code>@regro-cf-autotick-bot</code></a></li>
<li>ğŸ”’ Has access to Github API</li>
</ul>
<p>The logic to build the graph is provided by <a href="#regrocf-scripts"><code>cf-scripts</code></a>.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="docker-images">docker-images<a href="#docker-images" class="hash-link" aria-label="Direct link to docker-images" title="Direct link to docker-images">â€‹</a></h4>
<p>This repository builds the Docker images used to provide a unified system on all Linux builds.</p>
<ul>
<li>âš™ï¸ Deployed in <a href="https://github.com/conda-forge/docker-images" target="_blank" rel="noopener noreferrer"><code>conda-forge/docker-images</code></a></li>
<li>ğŸ”’ Has access to <a href="#docker-hub">DockerHub</a> and <a href="#quay">Quay.io</a></li>
<li>â›“ Needed by <code>staged-recipes</code>, feedstocks.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="code-repositories">Code repositories<a href="#code-repositories" class="hash-link" aria-label="Direct link to Code repositories" title="Direct link to Code repositories">â€‹</a></h3>
<p>These are repositories that hold programs and other codes that define behavior.
However, their actions are often not triggered here, but rather used by other parts of the conda-forge ecosystem.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="smithy">Smithy<a href="#smithy" class="hash-link" aria-label="Direct link to Smithy" title="Direct link to Smithy">â€‹</a></h4>
<p>This is the main feedstock creation and maintenance tool.</p>
<ul>
<li>ğŸ“œ Source at <a href="https://github.com/conda-forge/conda-smithy" target="_blank" rel="noopener noreferrer"><code>conda-forge/conda-smithy</code></a></li>
<li>ğŸ“¦ Packaged at <a href="https://github.com/conda-forge/conda-smithy-feedstock" target="_blank" rel="noopener noreferrer"><code>conda-forge/conda-smithy-feedstock</code></a></li>
<li>ğŸ“– <a href="https://github.com/conda-forge/conda-smithy/blob/main/README.md" target="_blank" rel="noopener noreferrer">Documentation</a></li>
<li>ğŸ“– <a href="https://conda-forge.org/docs/maintainer/conda_forge_yml/" target="_blank" rel="noopener noreferrer">conda-forge.yml Documentation</a></li>
</ul>
<p>Most of its usage is automated by our infrastructure:</p>
<ul>
<li>Feedstock creation and services registration at <a href="#staged-recipes"><code>staged-recipes</code></a></li>
<li>Regeneration (rerendering), linting and hinting in PRs done by <code>conda-forge-admin</code> on <a href="#web-services"><code>webservices</code></a></li>
</ul>
<p>However, you can also use it locally or on your forge-like deployments. For local debugging, you will find these commands useful:</p>
<ul>
<li><code>conda-smithy rerender</code></li>
<li><code>conda-smithy recipe-lint</code></li>
</ul>
<p>Smithy contains maintenance code for conda-forge, which is used by the <code>conda-smithy</code> command line tool and the <a href="#admin-web-services">Admin web services</a>.</p>
<p><code>conda-forge/conda-smithy</code> is the right repository to report bugs for</p>
<ul>
<li>The rerendering process</li>
<li>The recipe linter</li>
<li><a href="/docs/glossary/#ci">CI</a> support utils</li>
</ul>
<p><code>conda-smithy</code> also contains the command line tool that you should use if you rerender manually from the command line (see <a href="/docs/maintainer/updating_pkgs/#dev-update-rerender">Rerendering feedstocks</a>).</p>
<p>Smithy can be used beyond conda-forge&#x27;s purposes. For example, it can be used to set up self-hosted Azure agents for non-conda-forge infrastructures.
(You could also consider using <a href="https://docs.microsoft.com/en-us/azure/devops/pipelines/agents/scale-set-agents?view=azure-devops" target="_blank" rel="noopener noreferrer">Azure virtual machine scale set agents</a>,
which could be less expensive to run than permanently active agents.)</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="web-services">Web services<a href="#web-services" class="hash-link" aria-label="Direct link to Web services" title="Direct link to Web services">â€‹</a></h4>
<p>The Heroku app providing the conda-forge web services lives in <a href="https://github.com/conda-forge/conda-forge-webservices" target="_blank" rel="noopener noreferrer">conda-forge/conda-forge-webservices</a>.
Please note that the code logic provided by the app is in the <code>Smithy</code> repository.</p>
<p>Bugs or suggestions regarding the service functionality should therefore be opened in <code>conda-forge/conda-smithy</code>&#x27;s <a href="https://github.com/conda-forge/conda-smithy/issues" target="_blank" rel="noopener noreferrer">bug tracker</a>.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="regrocf-scripts">regro/cf-scripts<a href="#regrocf-scripts" class="hash-link" aria-label="Direct link to regro/cf-scripts" title="Direct link to regro/cf-scripts">â€‹</a></h4>
<p>The code and logic behind <a href="#autotick-bot"><code>autotick-bot</code></a>.</p>
<ul>
<li>ğŸ“œ Source at <a href="https://github.com/regro/cf-scripts" target="_blank" rel="noopener noreferrer"><code>regro/cf-scripts</code></a></li>
<li>ğŸ“– <a href="https://github.com/regro/cf-scripts/blob/master/README.md" target="_blank" rel="noopener noreferrer">Documentation</a></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="automated-maintenance">Automated maintenance<a href="#automated-maintenance" class="hash-link" aria-label="Direct link to Automated maintenance" title="Direct link to Automated maintenance">â€‹</a></h3>
<p>These components perform actions in automated ways, either triggered by a specific event or continuously as part of a loop.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="admin-migrations">admin-migrations<a href="#admin-migrations" class="hash-link" aria-label="Direct link to admin-migrations" title="Direct link to admin-migrations">â€‹</a></h4>
<ul>
<li>âš™ï¸ Deployed in <a href="https://github.com/conda-forge/admin-migrations" target="_blank" rel="noopener noreferrer">Github Actions via <code>conda-forge/admin-migrations</code></a></li>
<li>ğŸ¤– Uses <a href="https://github.com/apps/conda-forge-curator" target="_blank" rel="noopener noreferrer"><code>@conda-forge-curator</code></a></li>
<li>ğŸ”’ Has access to Github API, Anaconda.org (conda-forge and cf-staging), Circle, Travis, Azure</li>
</ul>
<p>This repository hosts workflows that are running 24/7.
Its job is to procure an automation loop where some maintenance tasks are added.
Its main user is the core team.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="admin-requests">admin-requests<a href="#admin-requests" class="hash-link" aria-label="Direct link to admin-requests" title="Direct link to admin-requests">â€‹</a></h4>
<ul>
<li>âš™ï¸ Deployed in <a href="https://github.com/conda-forge/admin-requests" target="_blank" rel="noopener noreferrer">Github Actions via <code>conda-forge/admin-requests</code></a></li>
<li>ğŸ¤– Uses <a href="https://github.com/apps/conda-forge-curator" target="_blank" rel="noopener noreferrer"><code>@conda-forge-curator</code></a></li>
<li>ğŸ”’ Has access to Github API, Anaconda.org (conda-forge and cf-staging), Circle, Travis, Azure</li>
</ul>
<p>This repository hosts workflows that mainly run when triggered by a user-initiated action.
This is usually done via a PR that, once approved, is merged and triggers the requested action (mark a package as broken, archive a feedstock, etc).</p>
<p>It also does the job of creating new feedstocks for recipes that have been merged in <a href="#staged-recipes"><code>conda-forge/staged-recipes</code></a>.
The <a href="https://github.com/conda-forge/admin-requests/blob/main/.github/workflows/create_feedstocks.yml" target="_blank" rel="noopener noreferrer"><code>create_feedstocks</code> workflow</a> runs several times per hour to create the new feedstock repositories on the <code>conda-forge</code> organization.
The core logic is defined in the Python script <a href="https://github.com/conda-forge/staged-recipes/blob/main/.github/workflows/scripts/create_feedstocks.py" target="_blank" rel="noopener noreferrer"><code>.github/workflows/scripts/create_feedstocks.py</code></a>.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="autotick-bot">autotick-bot<a href="#autotick-bot" class="hash-link" aria-label="Direct link to autotick-bot" title="Direct link to autotick-bot">â€‹</a></h4>
<ul>
<li>âš™ï¸ Deployed in <a href="https://github.com/regro/cf-scripts" target="_blank" rel="noopener noreferrer"><code>regro/cf-scripts</code></a></li>
<li>â›“ Needs <a href="https://github.com/regro/cf-scripts" target="_blank" rel="noopener noreferrer"><code>regro/cf-scripts</code></a>, <a href="https://github.com/regro/cf-graph-countyfair" target="_blank" rel="noopener noreferrer"><code>regro/cf-graph-countyfair</code></a>, <a href="https://github.com/conda-forge/conda-forge-pinning-feedstock" target="_blank" rel="noopener noreferrer"><code>conda-forge/conda-forge-pinning-feedstock</code></a></li>
<li>ğŸ¤– Uses <a href="https://github.com/regro-cf-autotick-bot" target="_blank" rel="noopener noreferrer"><code>@regro-cf-autotick-bot</code></a></li>
</ul>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>The older repo <a href="https://github.com/regro/autotick-bot" target="_blank" rel="noopener noreferrer"><code>regro/autotick-bot</code></a> is no longer in use;
the bot now runs directly in <code>regro/cf-scripts</code>.</p></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="webservices">webservices<a href="#webservices" class="hash-link" aria-label="Direct link to webservices" title="Direct link to webservices">â€‹</a></h4>
<ul>
<li>âš™ï¸ Deployed in Heroku Dyno (<code>conda-forge.herokuapp.com</code>)</li>
<li>â›“ Needs <a href="https://github.com/conda-forge/conda-forge-webservices" target="_blank" rel="noopener noreferrer"><code>conda-forge/conda-forge-webservices</code></a></li>
<li>ğŸ¤– Uses <a href="https://github.com/apps/conda-forge-webservices" target="_blank" rel="noopener noreferrer"><code>@conda-forge-webservices</code></a>, <a href="https://github.com/conda-forge-admin" target="_blank" rel="noopener noreferrer"><code>@conda-forge-admin</code></a></li>
<li>ğŸ”’ Has access to Github API, Anaconda.org (cf-staging and conda-forge), Heroku</li>
</ul>
<p>This web application powers several services, like:</p>
<ul>
<li>the <code>@conda-forge-admin</code> bot and its <code>@conda-forge-admin, please ...</code> commands</li>
<li>the <code>cf-staging</code> to <code>conda-forge</code> validation (plus copy)</li>
<li>status monitoring</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="admin-web-services">Admin web services<a href="#admin-web-services" class="hash-link" aria-label="Direct link to Admin web services" title="Direct link to Admin web services">â€‹</a></h2>
<p>conda-forge is running a webservice on Heroku called <a href="https://github.com/conda-forge/conda-forge-webservices" target="_blank" rel="noopener noreferrer">conda-forge-webservices</a>.</p>
<p>The following services are run by default on a feedstock:</p>
<ul>
<li>It will lint the recipes in the PRs and report back whether the recipe is in excellent condition or not.</li>
<li>When maintainers are added to a recipe, each of the maintainers will be added to the team and given push access to the feedstock.</li>
</ul>
<p>The webservice also listens to issues and PR comments, so that you can ask for the following services to be done:</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="conda-forge-admin-please-rerender">@conda-forge-admin, please rerender<a href="#conda-forge-admin-please-rerender" class="hash-link" aria-label="Direct link to @conda-forge-admin, please rerender" title="Direct link to @conda-forge-admin, please rerender">â€‹</a></h3>
<p>Entering the above phrase in a PR of a feedstock will rerender the feedstock and push the changes to your PR.
Make sure to tick the <code>Allow edits from maintainers</code> button located at the bottom of the right side bar of
the PR. If you enter this phrase in the comment for an issue, the bot will create a new pull request, with the requested
re-rendering being completed.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="conda-forge-admin-please-add-noarch-python">@conda-forge-admin, please add noarch: python<a href="#conda-forge-admin-please-add-noarch-python" class="hash-link" aria-label="Direct link to @conda-forge-admin, please add noarch: python" title="Direct link to @conda-forge-admin, please add noarch: python">â€‹</a></h3>
<p>Entering the above phrase in a PR or an issue of a feedstock will add <code>noarch: python</code> to the build and rerender the feedstock
for you.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="conda-forge-admin-please-lint">@conda-forge-admin, please lint<a href="#conda-forge-admin-please-lint" class="hash-link" aria-label="Direct link to @conda-forge-admin, please lint" title="Direct link to @conda-forge-admin, please lint">â€‹</a></h3>
<p>Entering the above phrase in a PR of a feedstock will lint the PR again.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="conda-forge-admin-please-update-team">@conda-forge-admin, please update team<a href="#conda-forge-admin-please-update-team" class="hash-link" aria-label="Direct link to @conda-forge-admin, please update team" title="Direct link to @conda-forge-admin, please update team">â€‹</a></h3>
<p>Entering the above phrase in an issue will update the team for the feedstock. This is usually done automatically.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="conda-forge-admin-please-restart-ci">@conda-forge-admin, please restart ci<a href="#conda-forge-admin-please-restart-ci" class="hash-link" aria-label="Direct link to @conda-forge-admin, please restart ci" title="Direct link to @conda-forge-admin, please restart ci">â€‹</a></h3>
<p>Entering this command in the PR of a feedstock or staged-recipes will close and then open the PR, causing
all of the CI builds to restart.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="conda-forge-admin-please-ping-team">@conda-forge-admin, please ping team<a href="#conda-forge-admin-please-ping-team" class="hash-link" aria-label="Direct link to @conda-forge-admin, please ping team" title="Direct link to @conda-forge-admin, please ping team">â€‹</a></h3>
<p>Entering this command in the PR of a feedstock or staged-recipes will have the admin bot @-mention the team
associated with the repo. This command can be useful for people who are not yet members of conda-forge and
so cannot @-mention the <code>staged-recipes</code> team for PR reviews.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="conda-forge-admin-please-ping-conda-forge">@conda-forge-admin, please ping conda-forge/<team></team><a href="#conda-forge-admin-please-ping-conda-forge" class="hash-link" aria-label="Direct link to conda-forge-admin-please-ping-conda-forge" title="Direct link to conda-forge-admin-please-ping-conda-forge">â€‹</a></h3>
<p>Entering this command in the PR of a feedstock or staged-recipes will have the admin bot @-mention the respective team.
This command can be useful for people who are not yet members of conda-forge and
so cannot @-mention someone due to the general GitHub limitations.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="conda-forge-admin-please-rerun-bot">@conda-forge-admin, please rerun bot<a href="#conda-forge-admin-please-rerun-bot" class="hash-link" aria-label="Direct link to @conda-forge-admin, please rerun bot" title="Direct link to @conda-forge-admin, please rerun bot">â€‹</a></h3>
<p>Entering this command in a PR comment will add the <code>bot-rerun</code> label to that PR. This label will cause
the <code>auto-tick</code> bot that issues migration and version updates to close the current PR and reissue it.
Adding this label to non-bot issued PRs will have no effect.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="conda-forge-admin-please-add-bot-automerge">@conda-forge-admin, please add bot automerge<a href="#conda-forge-admin-please-add-bot-automerge" class="hash-link" aria-label="Direct link to @conda-forge-admin, please add bot automerge" title="Direct link to @conda-forge-admin, please add bot automerge">â€‹</a></h3>
<p>Entering this command in the title or comment of an issue will instruct the admin bot to
open a PR enabling the automatic merging of passing PRs from the <code>auto-tick</code>
bot. This functionality is currently experimental. You can find more details
<a href="#automerge">here</a>.
Please open issue on <code>regro/cf-scripts</code> for any feedback, bugs, and/or questions!</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="conda-forge-admin-please-remove-bot-automerge">@conda-forge-admin, please remove bot automerge<a href="#conda-forge-admin-please-remove-bot-automerge" class="hash-link" aria-label="Direct link to @conda-forge-admin, please remove bot automerge" title="Direct link to @conda-forge-admin, please remove bot automerge">â€‹</a></h3>
<p>Entering this command in the title or comment of an issue will instruct the admin bot to
open a PR to disable automerge, undoing the <code>please add bot automerge</code> command.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="conda-forge-admin-please-add-user-username">@conda-forge-admin, please add user @username<a href="#conda-forge-admin-please-add-user-username" class="hash-link" aria-label="Direct link to @conda-forge-admin, please add user @username" title="Direct link to @conda-forge-admin, please add user @username">â€‹</a></h3>
<p>Entering the above phrase in the title of an issue on a feedstock will make a PR
that adds the given user to the feedstock. A maintainer or member of <code>core</code> can then merge
this PR to add the user. Please do not modify this PR or adjust the commit message. This
PR is designed to skip building the package.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Using this command</div><div class="admonitionContent_BuS1"><p>This is not the recommended way to start to help with a feedstock.
If you are interested in helping with a particular recipe, it is better to start by
submitting a PR with a new version or a fix. This way, you can get feedback on your
work and learn about some of the historical context of the feedstock.</p><p>Once you have established a working relationship with the maintainers, you can ask
them to add you to the feedstock team. They can then use this command
to add you to the team. There isn&#x27;t any official requirement for how to add new
maintainers so it may take a while for consensus to be reached
on when to add new maintainers. Do not let this discourage you from contributing!</p><p>PRs are free to be opened by anyone!!! Thank you for your time and effort!!!</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="conda-forge-admin-please-update-version">@conda-forge-admin, please update version<a href="#conda-forge-admin-please-update-version" class="hash-link" aria-label="Direct link to @conda-forge-admin, please update version" title="Direct link to @conda-forge-admin, please update version">â€‹</a></h3>
<p>Entering the above phrase in the title of an issue on a feedstock will request the bot
to check if there are any new versions available. If there are, it will open a PR with
with the needed changes. Note that the bot might start by opening a PR with only partial
changes. The rest of the contents will be added in a subsequent commit after a few minutes.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ci-build-services">CI build services<a href="#ci-build-services" class="hash-link" aria-label="Direct link to CI build services" title="Direct link to CI build services">â€‹</a></h2>
<p>Here we describe common issues with the CI Services that conda-forge builds.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="azure-pipelines">Azure Pipelines<a href="#azure-pipelines" class="hash-link" aria-label="Direct link to Azure Pipelines" title="Direct link to Azure Pipelines">â€‹</a></h3>
<p>Azure is used to build packages for Windows (native x86_64), macOS (native x86_64), Linux (native x86_64, emulated ARMv8 and IBM Power8+).
The build queue on Azure is substantially larger than on all the other providers.
Azure builds have a maximum duration of 6 hours.</p>
<p>To see all builds on Azure, visit <a href="https://dev.azure.com/conda-forge/feedstock-builds/_build" target="_blank" rel="noopener noreferrer">https://dev.azure.com/conda-forge/feedstock-builds/_build</a>.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="restarting-builds">Restarting builds<a href="#restarting-builds" class="hash-link" aria-label="Direct link to Restarting builds" title="Direct link to Restarting builds">â€‹</a></h4>
<p>Presently Azure does not sync GitHub users. In order to restart a build you can restart it from the GitHub checks interface.
If that doesn&#x27;t work, a close/open will kick off a new build. You can also use the web services command <code>@conda-forge-admin, please restart ci</code>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="travisci-ibm-power-8-arm">TravisCI (IBM Power 8+, ARM)<a href="#travisci-ibm-power-8-arm" class="hash-link" aria-label="Direct link to TravisCI (IBM Power 8+, ARM)" title="Direct link to TravisCI (IBM Power 8+, ARM)">â€‹</a></h3>
<p>TravisCI is used to build packages for IBM Power 8+ and ARM. After merging a staged-recipes pull request, it might be necessary to
force sync your repositories in TravisCI to see the reload and cancel buttons. To do this please visit <a href="https://app.travis-ci.com/account/repositories" target="_blank" rel="noopener noreferrer">https://app.travis-ci.com/account/repositories</a>
and click the &quot;Sync accounts&quot; button.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="enabling-travis">Enabling Travis<a href="#enabling-travis" class="hash-link" aria-label="Direct link to Enabling Travis" title="Direct link to Enabling Travis">â€‹</a></h4>
<p>TravisCI should only be needed to build recipes on native Linux aarch64 and ppc64le.</p>
<p>Enable a build by adding the corresponding line from the following to <code>conda-forge.yml</code> in the root of the feedstock.</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">provider</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">osx</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> travis</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">linux_ppc64le</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> travis</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">linux_aarch64</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> travis</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>For IBM Power 8+ and/or ARM builds, add the name of your feedstock to the list <a href="https://github.com/conda-forge/conda-forge-pinning-feedstock/blob/master/recipe/migrations/arch_rebuild.txt" target="_blank" rel="noopener noreferrer">here</a>
via a pull request.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="github-actions">GitHub Actions<a href="#github-actions" class="hash-link" aria-label="Direct link to GitHub Actions" title="Direct link to GitHub Actions">â€‹</a></h3>
<p>We use GitHub actions to rerender feedstocks and also run our pull request automerge service. We do not currently support builds on
GitHub Actions.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="webservices-background-jobs">Webservices Background Jobs<a href="#webservices-background-jobs" class="hash-link" aria-label="Direct link to Webservices Background Jobs" title="Direct link to Webservices Background Jobs">â€‹</a></h4>
<p>The webservices Heroku app dispatches to GitHub Actions to run compute-intensive background jobs, including rerendering, version updates,
and automerge jobs. The GitHub actions runs happen on the <a href="https://github.com/conda-forge/conda-forge-webservices" target="_blank" rel="noopener noreferrer">conda-forge-webservices repo</a>.
These runs use the <a href="https://hub.docker.com/r/condaforge/webservices-dispatch-action" target="_blank" rel="noopener noreferrer">webservices-dispatch-action Docker container</a> for some
operations. This container is tagged with the latest webservices version.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="automerge">Automerge<a href="#automerge" class="hash-link" aria-label="Direct link to Automerge" title="Direct link to Automerge">â€‹</a></h4>
<p>Our automerge service runs via GitHub Actions in the <a href="https://github.com/conda-forge/conda-forge-webservices" target="_blank" rel="noopener noreferrer">conda-forge-webservices repo</a>.</p>
<p>PRs are automatically merged if they satisfy either of the two following sets of conditions:</p>
<ol>
<li>are from the <code>regro-cf-autotick-bot</code>, have <code>[bot-automerge]</code> in the title, all statuses are passing, and the feedstock allows automerge</li>
<li>have the <code>automerge</code> label and all statuses are passing.</li>
</ol>
<p>For PRs from the <code>regro-cf-autotick-bot</code>, it can be useful to remove the <code>[bot-automerge]</code> slug from the PR title if you are making
edits to the PR.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="skipping-ci-builds">Skipping CI builds<a href="#skipping-ci-builds" class="hash-link" aria-label="Direct link to Skipping CI builds" title="Direct link to Skipping CI builds">â€‹</a></h3>
<p>To skip a CI build for a given commit, put <code>[ci skip] ***NO_CI***</code> in the commit message.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Related links</div><div class="admonitionContent_BuS1"><ul>
<li><strong>Abort builds with [skip ci]/etc</strong> <a href="https://github.com/conda-forge/conda-forge.github.io/issues/629" target="_blank" rel="noopener noreferrer">(conda-forge.github.io/#629)</a></li>
<li><strong>Skip CI requests</strong> <a href="https://github.com/conda-forge/staged-recipes/issues/1148" target="_blank" rel="noopener noreferrer">(staged-recipes/#1148)</a></li>
</ul></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="third-party-use-of-our-ci-services">Third-party Use of Our CI Services<a href="#third-party-use-of-our-ci-services" class="hash-link" aria-label="Direct link to Third-party Use of Our CI Services" title="Direct link to Third-party Use of Our CI Services">â€‹</a></h3>
<p>Due to its stature in the open-source community, conda-forge has enhanced access to certain CI services. This access is a community
resource entrusted to conda-forge for use in building packages. We thus cannot support third-party or &quot;off-label&quot; CI jobs in our
feedstocks on any of our CI services. If we find such use, we will politely ask the maintainers to rectify the situation. We may
take more serious actions, including archiving feedstocks or removing maintainers from the organization, if the situation cannot be rectified.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="external-runners-for-github-actions">External Runners (for GitHub Actions)<a href="#external-runners-for-github-actions" class="hash-link" aria-label="Direct link to External Runners (for GitHub Actions)" title="Direct link to External Runners (for GitHub Actions)">â€‹</a></h3>
<p>conda-forge provides feedstock maintainers a way to contribute/sponsor external runners via <a href="#cirun">Cirun</a>, when
their CI needs are not fulfilled with the current infrastructure. These external runners (i.e. specialized runners)
can be used for building packages on one or more feedstocks, depending on the maintainer. They are runners on a particular
cloud or a set of clouds, i.e. facilitating provisioning of external runners is basically committing sponsoring of
provisioning of ephemeral virtual machines on a <a href="https://docs.cirun.io/cloud/" target="_blank" rel="noopener noreferrer">supported cloud</a>. The process for the
same is described below:</p>
<ul>
<li>Get in touch with <code>conda-forge/core</code> to discuss your use case. This can be done with an issue in the relevant feedstock or via <a href="https://conda-forge.zulipchat.com" target="_blank" rel="noopener noreferrer">Zulip</a>.</li>
<li>Once discussed, share credentials for a supported cloud with a <code>conda-forge/core</code> member, so that it can be added to conda-forge&#x27;s Cirun account, alternatively
the user can sponsor cloud credits for an existing conda-forge&#x27;s cloud account.</li>
<li>Add configuration for the runner&#x27;s virtual machine in <a href="https://github.com/conda-forge/.cirun/blob/master/.cirun.global.yml" target="_blank" rel="noopener noreferrer"><code>conda-forge/.cirun</code></a>
add a policy entry in <a href="https://github.com/conda-forge/.cirun/blob/master/.access.yml" target="_blank" rel="noopener noreferrer"><code>.access.yml</code></a> to allow access to the runner for
a feedstock.</li>
<li>Add the labels defined above in your <code>&lt;package-feedstock&gt;/recipe/conda_build_config.yaml</code>, under <code>github_actions_labels</code> and re-render the
feedstock. See links below for some examples.</li>
</ul>
<p>After the above steps are complete, the feedstock maintainer&#x27;s should be able to use the defined runner for feedstock
repository&#x27;s CI jobs.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="external-runner-usage-example">External runner usage example<a href="#external-runner-usage-example" class="hash-link" aria-label="Direct link to External runner usage example" title="Direct link to External runner usage example">â€‹</a></h4>
<p>Pytorch currently uses a custom windows runner on Azure provisioned via <a href="https://cirun.io" target="_blank" rel="noopener noreferrer">cirun</a> to build on windows.
This was sponsored by Prefix.dev. Below are the relevant pull requests for the same:</p>
<ul>
<li><a href="https://github.com/conda-forge/.cirun/pull/14" target="_blank" rel="noopener noreferrer">https://github.com/conda-forge/.cirun/pull/14</a></li>
<li><a href="https://github.com/conda-forge/pytorch-cpu-feedstock/pull/231" target="_blank" rel="noopener noreferrer">https://github.com/conda-forge/pytorch-cpu-feedstock/pull/231</a></li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="compilers-and-runtimes">Compilers and Runtimes<a href="#compilers-and-runtimes" class="hash-link" aria-label="Direct link to Compilers and Runtimes" title="Direct link to Compilers and Runtimes">â€‹</a></h2>
<p>conda-forge builds and maintains its own set of compilers for various languages
and/or systems (e.g., <code>C</code>, <code>FORTRAN</code>, <code>C++</code>, <code>CUDA</code>, etc.). These are used
in all of our CI builds to build essentially all artefacts published by conda-forge.</p>
<p>This compiler infrastructure has a critical role beyond building everything, which
is to ensure that packages stay compatible with each other. This is due to how compiled
packages have a so-called <a href="/docs/glossary/#abi">Application Binary Interface</a>
(ABI), and how changes in the compiler infrastructure may break this ABI, leading
to crashes, miscalculations, etc. Generally speaking, using a consistent compiler
version greatly reduces the risk of ABI breaks.</p>
<p>Compilers generally strive to maintain ABI-compatibility across versions, meaning that
combining artefacts for the same target produced by different versions of the same
compiler will work together without issue. Due to the nature of the ABI (i.e. a vast
interface between software and hardware, with innumerable corner cases), it still
happens that unintentional changes for some specific aspect are introduced across
compiler versions, though in practice this does not lead to wide-spread issues.</p>
<p>In contrast, when compilers do intentionally change the ABI (as MSVC did with each
release before the <code>vc14</code> series currently covering VS2015-VS2022), <em>every</em> compiled
package needs to be rebuilt for that new ABI, and cannot be mixed with builds for the
old ABI. While less likely nowadays, in principle it&#x27;s also possible that a major
infrastructural overhaul in the compiler stack similarly forces a complete rebuild.</p>
<p>Such large-scale changes â€“ requiring +/- all of conda-forge to be rebuilt â€“ take a
lot of effort, though thankfully, in recent years such full rebuilds have not been
necessary and we managed to do less disruptive compiler upgrades.</p>
<p>However, large-scale ABI breaks remain a possibility (e.g. MSVC is planning a vNext
after <code>vc14</code>), and so we keep our policies for such a scenario in place.
While we do not have any formal promises of support for a generation of ABI-compatible
compilers, we have historically maintained them according to the following (non-binding)
principles.</p>
<ul>
<li>The authoritative source of the current compilers and versions for various languages
and platforms is the <a href="https://github.com/conda-forge/conda-forge-pinning-feedstock/blob/master/recipe/conda_build_config.yaml" target="_blank" rel="noopener noreferrer">conda_build_config.yaml</a>
in the <a href="https://github.com/conda-forge/conda-forge-pinning-feedstock" target="_blank" rel="noopener noreferrer">conda-forge/conda-forge-pinning-feedstock</a>
as described in <a href="/docs/maintainer/pinning_deps/#globally-pinned-packages">Globally pinned packages</a>.</li>
<li>We provide no support of any kind in terms of the long-term stability/support of a given compiler generation.</li>
<li>We upgrade them in an ad-hoc manner on a periodic basis as we have the time and energy to do so.
Note that because of the way we enforce runtime constraints, these compiler upgrades will not break
existing packages. However, if you are using the compilers outside of <code>conda</code>, then you may find issues.</li>
<li>We generally provide notice in the form of an announcement when an ABI-incompatible compiler change is going to happen.
Note that these changes take a bit of time to complete, so you will generally have time
to prepare should you need to.</li>
<li>Some of the criteria we think about when considering a compiler migration include:
<ul>
<li>the degree of disruption to the ecosystem,</li>
<li>the amount of work for the <code>core</code> team,</li>
<li>the amount of time it will cost our (volunteer) feedstock maintainers.</li>
</ul>
</li>
</ul>
<p>These compiler generations may or may not have some unofficial names for our
internal use (e.g. <code>comp7</code>). We note again that the existence of these names
does not imply any level of support or stability for the compilers
that form the given stack.</p>
<p>For the cases that do not require a complete rebuild of conda-forge (i.e. if the ABI
of a new compiler remains compatible, up to rare corner cases), we can just increase
the version in our global pinning, and it will slowly roll out to the ecosystem as
feedstocks get rerendered.</p>
<p>For such ABI-compatible upgrades, similar but looser principles apply:</p>
<ul>
<li>The pins are similarly defined in the global pinning, see <a href="/docs/maintainer/pinning_deps/#globally-pinned-packages">Globally Pinned Packages</a>.</li>
<li>We provide no support of any kind in terms of the long-term availability of a given compiler version.</li>
<li>We generally provide notice in the form of an announcement when a compiler is going to be upgraded.</li>
<li>Without promising any timelines, our compilers on Linux and OSX are normally
very recent; on Windows, we generally use the last supported VS version.</li>
</ul>
<p>Despite the lack of explicit support, we try to keep the compilers in their various versions
working also outside of conda-forge, and even provide an easy way to install them
(through the <a href="https://github.com/conda-forge/compilers-feedstock" target="_blank" rel="noopener noreferrer">compilers feedstock</a>).</p>
<p>More specifically, each compiler uses an <em>activation</em> package that makes the difference
between it being merely present in a build environment, and it being used by default.
These will be installed when using <code>{{ compiler(&#x27;xyz&#x27;) }}</code> in <code>meta.yaml</code>, where
<code>&#x27;xyz&#x27;</code> is one of <code>&#x27;c&#x27;, &#x27;cxx&#x27;, &#x27;fortran&#x27;, &#x27;cuda&#x27;, &#x27;rust&#x27;, &#x27;go-cgo&#x27;, &#x27;go-nocgo&#x27;</code>.</p>
<p>Our default compiler stack is made up very differently on each platform; each platform
has its own default compiler, with its own set of feedstocks that provide them. Due to historical
reasons (the way compilers are integrated with their OS, and the amount of
software written in them, etc.), the most impactful languages are C &amp; C++ (though
Fortran is considered part of the default, not least because GCC compiles all three).</p>
<p>Linux (GCC):</p>
<ul>
<li>[C, C++, Fortran] Activation: <a href="https://github.com/conda-forge/ctng-compiler-activation-feedstock/" target="_blank" rel="noopener noreferrer">https://github.com/conda-forge/ctng-compiler-activation-feedstock/</a></li>
<li>[C, C++, Fortran] Implementation: <a href="https://github.com/conda-forge/ctng-compilers-feedstock" target="_blank" rel="noopener noreferrer">https://github.com/conda-forge/ctng-compilers-feedstock</a></li>
<li>Note that when used in conjunction with CUDA, compiler versions are restricted by the
maximum GCC version supported by nvcc (which is also reflected in the global pinning).</li>
</ul>
<p>OSX (Clang):</p>
<ul>
<li>[C, C++] Activation: <a href="https://github.com/conda-forge/clang-compiler-activation-feedstock/" target="_blank" rel="noopener noreferrer">https://github.com/conda-forge/clang-compiler-activation-feedstock/</a></li>
<li>[C, C++] Required feedstocks:
<a href="https://github.com/conda-forge/llvmdev-feedstock" target="_blank" rel="noopener noreferrer">llvmdev</a>,
<a href="https://github.com/conda-forge/clangdev-feedstock" target="_blank" rel="noopener noreferrer">clangdev</a>,
<a href="https://github.com/conda-forge/compiler-rt-feedstock" target="_blank" rel="noopener noreferrer">compiler-rt</a>,
<a href="https://github.com/conda-forge/libcxx-feedstock" target="_blank" rel="noopener noreferrer">libcxx</a>,
<a href="https://github.com/conda-forge/openmp-feedstock" target="_blank" rel="noopener noreferrer">openmp</a>,
<a href="https://github.com/conda-forge/lld-feedstock" target="_blank" rel="noopener noreferrer">lld</a>,
<a href="https://github.com/conda-forge/cctools-and-ld64-feedstock" target="_blank" rel="noopener noreferrer">cctools</a></li>
<li>[Fortran] Activation: <a href="https://github.com/conda-forge/gfortran_osx-64-feedstock/" target="_blank" rel="noopener noreferrer">https://github.com/conda-forge/gfortran_osx-64-feedstock/</a></li>
<li>[Fortran] Implementation: <a href="https://github.com/conda-forge/gfortran_impl_osx-64-feedstock/" target="_blank" rel="noopener noreferrer">https://github.com/conda-forge/gfortran_impl_osx-64-feedstock/</a></li>
</ul>
<p>Windows (MSVC):</p>
<ul>
<li>[C, C++] Activation: <a href="https://github.com/conda-forge/vc-feedstock" target="_blank" rel="noopener noreferrer">https://github.com/conda-forge/vc-feedstock</a>
(we cannot redistribute the actual MSVC compilers due to licensing constraints)</li>
<li>[Fortran] Activation &amp; Implementation: <a href="https://github.com/conda-forge/flang-feedstock" target="_blank" rel="noopener noreferrer">https://github.com/conda-forge/flang-feedstock</a></li>
</ul>
<p>There exists an alternative, MinGW-based, compiler stack on Windows, which is available
with a <code>m2w64_</code> prefix (e.g. <code>{{ compiler(&#x27;m2w64_c&#x27;) }}</code>). However, it is falling out
of use now that most projects will natively support compilation also with MSVC, in addition
to several complications arising from mixing compiler stacks.</p>
<p>Additionally, there is a possibility to use <code>clang</code> as a compiler on Linux &amp; Windows:</p>
<ul>
<li>Activation (Linux): <a href="https://github.com/conda-forge/ctng-compiler-activation-feedstock/" target="_blank" rel="noopener noreferrer">https://github.com/conda-forge/ctng-compiler-activation-feedstock/</a></li>
<li>Activation (Windows): <a href="https://github.com/conda-forge/clang-win-activation-feedstock/" target="_blank" rel="noopener noreferrer">https://github.com/conda-forge/clang-win-activation-feedstock/</a></li>
</ul>
<p>Aside from the main C/C++/Fortran compilers, these are the feedstocks for the other compilers:</p>
<ul>
<li>[CUDA] <a href="https://github.com/conda-forge/cuda-nvcc-feedstock" target="_blank" rel="noopener noreferrer">CUDA 12.0+</a> &amp; <a href="https://github.com/conda-forge/nvcc-feedstock" target="_blank" rel="noopener noreferrer">CUDA &lt;12</a> (legacy)</li>
<li>[Rust] <a href="https://github.com/conda-forge/rust-activation-feedstock" target="_blank" rel="noopener noreferrer">Activation</a>
and <a href="https://github.com/conda-forge/rust-feedstock" target="_blank" rel="noopener noreferrer">Implementation</a></li>
<li>[Go] <a href="https://github.com/conda-forge/go-activation-feedstock" target="_blank" rel="noopener noreferrer">Activation</a>
and <a href="https://github.com/conda-forge/go-feedstock" target="_blank" rel="noopener noreferrer">Implementation</a></li>
</ul>
<p>To upgrade the compiler version of our default compilers in the global pinning for
Linux or OSX, ensure that the respective above-mentioned feedstocks have been rebuilt
for the new major version, that all interrelated versions are lifted at the same time,
and obviously that the compilers work (e.g. by testing them on some feedstocks by
specifying the new version through the feedstock-local <code>conda_build_config.yaml</code>).
You should also check the compiler release notes for warnings about ABI incompatibilities,
and mention any such notices in the discussion about the upgrade.</p>
<p>For Windows, we stay on older compilers for longer, because using a newer toolchain
would force everyone wanting to locally develop with conda-forge artefacts to use
a toolchain that&#x27;s at least as new. You can find more details about this topic in this
<a href="https://github.com/conda-forge/conda-forge.github.io/issues/1732" target="_blank" rel="noopener noreferrer">issue about updating to the vc142 toolchain</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="centos-sysroot-for-linux--platforms">CentOS <code>sysroot</code> for <code>linux-*</code> Platforms<a href="#centos-sysroot-for-linux--platforms" class="hash-link" aria-label="Direct link to centos-sysroot-for-linux--platforms" title="Direct link to centos-sysroot-for-linux--platforms">â€‹</a></h3>
<p>We currently repackage the <code>sysroot</code> from the appropriate version of CentOS/AlmaLinux for use
with our compilers. These <code>sysroot</code> files are available in the <code>sysroot_linux-*</code> packages.
These packages have version numbers that match the version of <code>glibc</code> they package. These
versions are <code>2.17</code> for CentOS 7, <code>2.27</code> for AlmaLinux 8 and <code>2.34</code> for AlmaLinux 9.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="output-validation-and-feedstock-tokens">Output Validation and Feedstock Tokens<a href="#output-validation-and-feedstock-tokens" class="hash-link" aria-label="Direct link to Output Validation and Feedstock Tokens" title="Direct link to Output Validation and Feedstock Tokens">â€‹</a></h2>
<p>As of writing, <code>anaconda.org</code> does not support generating API tokens that are scoped
to allow uploads for some packages but not others. In order to secure feedstock uploads,
so that, e.g., the maintainers of the <code>numpy</code> feedstock cannot push a <code>python</code> package,
we use a package staging process and issue secret tokens, unique to each feedstock. This process
works as follows.</p>
<ol>
<li>When a CI job on a feedstock is building packages to be uploaded to <code>anaconda.org</code>, it
first uploads them to a staging channel, <code>cf-staging</code>.</li>
<li>Then the feedstock CI job makes an API call to our admin webservices server with its secret token
and some information about the package it is trying to upload.</li>
<li>The webservices server validates the secret token, the integrity of the package, and
that the package is allowed for the given feedstock.</li>
<li>If all of the validation passes, the package is then copied to the <code>conda-forge</code>
channel.</li>
</ol>
<p>There are two scenarios we consider:</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="package-validation-failed-for-a-new-output-name">Package validation failed for a new output name<a href="#package-validation-failed-for-a-new-output-name" class="hash-link" aria-label="Direct link to Package validation failed for a new output name" title="Direct link to Package validation failed for a new output name">â€‹</a></h3>
<p>New packages that are added to existing feedstocks are not registered automatically in order to prevent
typo squatting and other malicious activities. Package outputs are added during feedstock creation.
If you move a package from one feedstock to another, add an output package, or change the name of a package,
you will need to request that the new package name be added to your feedstock via the
<a href="https://github.com/conda-forge/admin-requests?tab=readme-ov-file#add-a-package-output-to-a-feedstock" target="_blank" rel="noopener noreferrer">admin-requests repo</a>.</p>
<p>In rare cases, the package name may change regularly in a well-defined way (e.g., <code>libllvm18</code>, <code>libllvm19</code>, etc.).
In this case, you can use our <a href="https://github.com/conda-forge/admin-requests?tab=readme-ov-file#add-a-package-output-to-a-feedstock" target="_blank" rel="noopener noreferrer">admin-requests repo</a>
to add a glob pattern that matches the new package name pattern. We use the Python <code>fnmatch</code> module syntax.
Output packages that match these patterns will be automatically registered for your feedstock.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="package-validation-failed-for-an-existing-output-name">Package validation failed for an existing output name<a href="#package-validation-failed-for-an-existing-output-name" class="hash-link" aria-label="Direct link to Package validation failed for an existing output name" title="Direct link to Package validation failed for an existing output name">â€‹</a></h3>
<p>We attempt to report errors in this process to users via comments on commits/issues in the feedstocks.
Sometimes these reports fail. If you think you are having trouble with uploads, make sure to check/try
the following things:</p>
<ul>
<li>Ensure that <code>conda_forge_output_validation: true</code> is set in your <code>conda-forge.yml</code>.</li>
<li>Retry the package build and upload by pushing an empty commit to the feedstock.</li>
<li>Rerender the feedstock in a PR from a fork of the feedstock and merge.</li>
<li>Request a feedstock token reset via our <a href="https://github.com/conda-forge/admin-requests?tab=readme-ov-file#reset-your-feedstock-token" target="_blank" rel="noopener noreferrer">admin-requests repo</a>.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="stages-of-package-building-and-involved-infrastructure">Stages of package building and involved infrastructure<a href="#stages-of-package-building-and-involved-infrastructure" class="hash-link" aria-label="Direct link to Stages of package building and involved infrastructure" title="Direct link to Stages of package building and involved infrastructure">â€‹</a></h2>
<p>Packages in conda-forge are almost<sup><a href="#user-content-fn-manual-builds" id="user-content-fnref-manual-builds" data-footnote-ref="" aria-describedby="footnote-label">1</a></sup> always built through CI.
However, when a new package enters conda-forge for the first time, it does so via a pull request in the <a href="#staged-recipes"><code>staged-recipes</code> repository</a>, whereas every new build of the package after that is built in its repository, the so-called feedstock.
Both places use slightly different CI setups and interact with the infrastructure accordingly.
Hence, we first describe the interaction at the start of a new package and then for existing packages in their respective feedstocks.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="initial-submission-to-staged-recipes">Initial submission to staged-recipes<a href="#initial-submission-to-staged-recipes" class="hash-link" aria-label="Direct link to Initial submission to staged-recipes" title="Direct link to Initial submission to staged-recipes">â€‹</a></h3>
<p>The <code>conda-forge/staged-recipes</code> repository uses several pieces of infrastructure.</p>
<p>On pull requests:</p>
<ul>
<li>Package building pipelines. These are slightly different than the ones running in feedstocks (they are not automatically generated by <code>conda-smithy</code>, but they do use the same underlying components).</li>
<li>The linter is provided by <code>conda-smithy recipe-lint</code>, run by <code>@conda-forge-admin</code>.</li>
<li>Auto-labeling logic, run by Github Actions workflows.</li>
</ul>
<p>Authenticated services involved:</p>
<ul>
<li>Github, with permissions for:
<ul>
<li>PR labeling</li>
</ul>
</li>
<li>Azure Pipelines</li>
</ul>
<p>The conversion of new recipes in <code>staged-recipes</code> to their respective feedstocks
happens in a cron job run by <code>admin-requests</code>. For more details see <a href="#admin-requests">admin-requests</a>.
As part of the feedstock creation, the new feedstock receives a webhook connecting it with the <a href="#admin-web-services">webservices</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="feedstock-changes">Feedstock changes<a href="#feedstock-changes" class="hash-link" aria-label="Direct link to Feedstock changes" title="Direct link to Feedstock changes">â€‹</a></h3>
<p>A feedstock can receive changes for several reasons.</p>
<p>Pushes to <code>main</code> or other branches:</p>
<ul>
<li>The automated initialization commits following approval in <code>staged-recipes</code>.
These are generated by <code>conda-smithy</code> and pushed by the automation in <code>admin-requests</code>.</li>
<li>Automated maintenance commits triggered from <code>admin-migrations</code>.</li>
<li>Rerender requests are handled by instances of <code>conda-forge/webservices-dispatch-action</code> and triggered by the <a href="#admin-web-services">webservices</a>.</li>
</ul>
<p>Automatic pull requests can be opened by...</p>
<ul>
<li><code>@conda-forge-admin</code>, responding to some issues with titles like <code>@conda-forge-admin, please...</code>.</li>
<li><code>@regro-cf-autotick-bot</code>, handling migrations and new versions being available.</li>
</ul>
<p>...and closed by:</p>
<ul>
<li><code>conda-forge/automerge-action</code>, if labeled accordingly.</li>
</ul>
<p>On an open pull request:</p>
<ul>
<li>The building pipelines (more <a href="#package-building">below</a>).</li>
<li>The linter is provided by <code>conda-smithy recipe-lint</code>, run by <code>@conda-forge-admin</code>.</li>
<li>The <code>@conda-forge-admin, please...</code> command comments, answered by <code>@conda-forge-admin</code>.</li>
</ul>
<p>On issues:</p>
<ul>
<li><code>@conda-forge-admin, please...</code> command issues, handled by <code>@conda-forge-admin</code>.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="package-building">Package building<a href="#package-building" class="hash-link" aria-label="Direct link to Package building" title="Direct link to Package building">â€‹</a></h3>
<p>The pipelines that build conda packages are used for both pull requests and push events in <code>main</code> and other branches.
The only difference is that the packages built during a pull request are not uploaded to the staging channel.
Maintaining these up-to-date across all feedstocks involves several repositories:</p>
<ul>
<li><code>conda-smithy</code> is in charge of generating the CI pipelines themselves, together with the supporting scripts and configuration files.
These pipelines and scripts can rely on code and data defined in the repositories below.</li>
<li><code>conda-forge-ci-setup-feedstock</code> provides the code needed to prepare and homogenize the CI runners across providers.
It also does some checks before the artifacts are uploaded to <code>cf-staging</code>.</li>
<li><code>conda-forge-pinning-feedstock</code> defines which versions are supported for a number of runtimes and libraries, as well as the compilers used for certain languages and platforms.</li>
<li><code>docker-images</code> builds the standardized container images for Linux runners.
This repository has additional authentication needs for Docker Hub, Quay.io.</li>
</ul>
<p>The pipelines can run on several CI providers supported by <code>conda-smithy</code>, including:</p>
<ul>
<li>Azure DevOps Pipelines</li>
<li>Travis CI</li>
<li>Circle CI</li>
<li>Appveyor</li>
<li>Self-hosted Github Actions runners</li>
</ul>
<p>Registration of hooks and triggers is also done by the <code>conda-smithy</code> app.</p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p><code>conda-smithy</code> supports more CI providers.
Check <a href="https://github.com/conda-forge/conda-smithy" target="_blank" rel="noopener noreferrer">its repository</a> for more details.</p></div></div>
<p>Authenticated services involved:</p>
<ul>
<li>Anaconda.org uploads to <code>cf-staging</code></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="package-validation-and-publication">Package validation and publication<a href="#package-validation-and-publication" class="hash-link" aria-label="Direct link to Package validation and publication" title="Direct link to Package validation and publication">â€‹</a></h3>
<p>Once built on <code>main</code> (or other branches), the conda packages are uploaded to an intermediary channel named <code>cf-staging</code>.
From there, our webservices (<code>conda-forge/conda-forge-webservices</code>) does the following:</p>
<ul>
<li>The logic checks the feedstock token to authenticate a legitimate request.</li>
<li>The logic checks that the hash sum of the package on <code>cf-staging</code> against
the value computed in the CI to ensure the artifact to be copied is the same.</li>
<li>The logic checks that the feedstock is allowed to push the package using
the <code>conda-forge/feedstock-outputs</code> repo.</li>
<li>If all three checks pass, the webservices copies the artifacts from <code>cf-staging</code> to <code>conda-forge</code>.</li>
</ul>
<p>Authenticated services involved:</p>
<ul>
<li>Anaconda.org uploads to <code>conda-forge</code> and <code>cf-staging</code></li>
<li>The <code>conda-forge-webservices</code> app deployment itself (currently at Heroku)</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="post-publication">Post-publication<a href="#post-publication" class="hash-link" aria-label="Direct link to Post-publication" title="Direct link to Post-publication">â€‹</a></h3>
<p>Once uploaded to anaconda.org/conda-forge, packages are not immediately available to CLI clients.
They have to be replicated in the Content Distribution Network (CDN).
This step should ideally take around 15 minutes. In some circumstances, longer delays are possible. Check <a href="https://conda-forge.org/status" target="_blank" rel="noopener noreferrer">conda-forge.org/status</a> in case of doubt.</p>
<p>After CDN replication, most packages available on anaconda.org/conda-forge won&#x27;t suffer any further modifications.
However, in some cases, maintainers might need to perform some actions on the published packages:</p>
<ul>
<li>Patching their repodata</li>
<li>Marking them as broken</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="repodata-patch">Repodata patch<a href="#repodata-patch" class="hash-link" aria-label="Direct link to Repodata patch" title="Direct link to Repodata patch">â€‹</a></h4>
<p>The metadata for <code>conda</code> packages is initially contained in each package archive (under <code>info/</code>).
<code>conda index</code> iterates over the published <code>conda</code> packages, extracts the metadata and consolidates all the found JSON blobs into a single JSON file: <code>repodata.json</code>.
This is where the hashes and file sizes are added too.
This is the metadata file that the CLI clients download initially to <em>solve</em> the environment.</p>
<p>Since the metadata is external to the package files, some details can be modified without rebuilding packages, which simplifies some maintenance tasks notably.</p>
<p>Repodata patches are created in <code>conda-forge/conda-forge-repodata-patches-feedstock</code>, which generates (and uploads) a regular <code>conda</code> package as a result:
<a href="https://anaconda.org/conda-forge/conda-forge-repodata-patches/files" target="_blank" rel="noopener noreferrer"><code>conda-forge-repodata-patches</code></a>.
Each of these timestamped packages contains the patch instructions for each channel subdir on conda-forge.
The Anaconda infrastructure takes the JSON files from these packages and applies them on top of the vanilla <code>repodata.json</code> (which remains available for download as <code>repodata_from_packages.json</code>).</p>
<p>Since <code>conda-forge-repodata-patches-feedstock</code> operates as a regular feedstock for package publication, there are no further infrastructural details to cover.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="mark-a-package-as-broken">Mark a package as broken<a href="#mark-a-package-as-broken" class="hash-link" aria-label="Direct link to Mark a package as broken" title="Direct link to Mark a package as broken">â€‹</a></h4>
<p>Sometimes a package is faulty in ways that a repodata patch cannot amend (e.g. bad binary).
In these cases, conda-forge does not remove packages from Anaconda.org.
Instead, it marks them with the <code>broken</code> label, which has a special meaning:
packages labeled as such will be removed from the repodata via automated patches.
This action is reversible and doesn&#x27;t change the direct URL of the artifact, which
can always be downloaded from e.g. a lockfile.</p>
<p>The main repository handling this is <code>conda-forge/admin-requests</code>, which features different
Github Actions workflows running every 15 minutes.</p>
<p>For this task, the Github Action workflow needs access to:</p>
<ul>
<li>Anaconda.org, to add (or remove) labels</li>
<li>Github, to modify and commit the input files after success</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="inventory-of-services--providers">Inventory of services &amp; providers<a href="#inventory-of-services--providers" class="hash-link" aria-label="Direct link to Inventory of services &amp; providers" title="Direct link to Inventory of services &amp; providers">â€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="github-resources">Github resources<a href="#github-resources" class="hash-link" aria-label="Direct link to Github resources" title="Direct link to Github resources">â€‹</a></h3>
<p>In addition to the thousands of repositories, conda-forge uses several other Github services.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="organizations">Organizations<a href="#organizations" class="hash-link" aria-label="Direct link to Organizations" title="Direct link to Organizations">â€‹</a></h4>
<ul>
<li><a href="https://github.com/conda-forge" target="_blank" rel="noopener noreferrer"><code>conda-forge</code></a>: the main organization</li>
<li><a href="https://github.com/regro" target="_blank" rel="noopener noreferrer"><code>regro</code></a>: hosts the <code>autotick-bot</code> machinery</li>
<li><a href="https://github.com/channel-mirrors" target="_blank" rel="noopener noreferrer"><code>channel-mirrors</code></a>: OCI mirror of the conda-forge channel</li>
</ul>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>These organizations exist but they are not in active use anymore:</p><ul>
<li><a href="https://github.com/conda-forge-abandoned" target="_blank" rel="noopener noreferrer"><code>conda-forge-abandoned</code></a></li>
<li><a href="https://github.com/conda-forge-woodpecker-admins" target="_blank" rel="noopener noreferrer"><code>conda-forge-woodpecker-admins</code></a></li>
</ul></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="teams">Teams<a href="#teams" class="hash-link" aria-label="Direct link to Teams" title="Direct link to Teams">â€‹</a></h4>
<p>The <code>conda-forge</code> Github organization has thousands of teams.
Most of them are associated with a feedstock, but there are a few special ones that are not!</p>
<ul>
<li><a href="https://github.com/orgs/conda-forge/teams/Core" target="_blank" rel="noopener noreferrer"><code>Core</code></a></li>
<li><a href="https://github.com/orgs/conda-forge/teams/staged-recipes" target="_blank" rel="noopener noreferrer"><code>staged-recipes</code></a></li>
<li><a href="https://github.com/orgs/conda-forge/teams/help-c-cpp" target="_blank" rel="noopener noreferrer"><code>help-c-cpp</code></a></li>
<li><a href="https://github.com/orgs/conda-forge/teams/help-cdts" target="_blank" rel="noopener noreferrer"><code>help-cdts</code></a></li>
<li><a href="https://github.com/orgs/conda-forge/teams/help-go" target="_blank" rel="noopener noreferrer"><code>help-go</code></a></li>
<li><a href="https://github.com/orgs/conda-forge/teams/help-java" target="_blank" rel="noopener noreferrer"><code>help-java</code></a></li>
<li><a href="https://github.com/orgs/conda-forge/teams/help-julia" target="_blank" rel="noopener noreferrer"><code>help-julia</code></a></li>
<li><a href="https://github.com/orgs/conda-forge/teams/help-nodejs" target="_blank" rel="noopener noreferrer"><code>help-nodejs</code></a></li>
<li><a href="https://github.com/orgs/conda-forge/teams/help-osx-arm64" target="_blank" rel="noopener noreferrer"><code>help-osx-arm64</code></a></li>
<li><a href="https://github.com/orgs/conda-forge/teams/help-perl" target="_blank" rel="noopener noreferrer"><code>help-perl</code></a></li>
<li><a href="https://github.com/orgs/conda-forge/teams/help-ppc64le" target="_blank" rel="noopener noreferrer"><code>help-ppc64le</code></a></li>
<li><a href="https://github.com/orgs/conda-forge/teams/help-pypy" target="_blank" rel="noopener noreferrer"><code>help-pypy</code></a></li>
<li><a href="https://github.com/orgs/conda-forge/teams/help-python" target="_blank" rel="noopener noreferrer"><code>help-python</code></a></li>
<li><a href="https://github.com/orgs/conda-forge/teams/help-python-c" target="_blank" rel="noopener noreferrer"><code>help-python-c</code></a></li>
<li><a href="https://github.com/orgs/conda-forge/teams/help-r" target="_blank" rel="noopener noreferrer"><code>help-r</code></a></li>
<li><a href="https://github.com/orgs/conda-forge/teams/help-ruby" target="_blank" rel="noopener noreferrer"><code>help-ruby</code></a></li>
<li><a href="https://github.com/orgs/conda-forge/teams/help-rust" target="_blank" rel="noopener noreferrer"><code>help-rust</code></a></li>
<li><a href="https://github.com/orgs/conda-forge/teams/miniforge" target="_blank" rel="noopener noreferrer"><code>miniforge</code></a></li>
<li><a href="https://github.com/orgs/conda-forge/teams/all-members" target="_blank" rel="noopener noreferrer"><code>all-members</code></a></li>
<li><a href="https://github.com/orgs/conda-forge/teams/bot" target="_blank" rel="noopener noreferrer"><code>bot</code></a></li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="configuration">Configuration<a href="#configuration" class="hash-link" aria-label="Direct link to Configuration" title="Direct link to Configuration">â€‹</a></h4>
<ul>
<li><a href="https://github.com/conda-forge/.github" target="_blank" rel="noopener noreferrer"><code>conda-forge/.github</code></a>: Organization-wide configuration, profile information, etc.</li>
<li><a href="https://github.com/conda-forge/.cirun" target="_blank" rel="noopener noreferrer"><code>conda-forge/.cirun</code></a>: Organization-wide configuration for special ci runners (e.g. GPU), c.f. <a href="#cirun">Cirun</a>.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="bot-accounts">Bot accounts<a href="#bot-accounts" class="hash-link" aria-label="Direct link to Bot accounts" title="Direct link to Bot accounts">â€‹</a></h4>
<ul>
<li><a href="https://github.com/conda-forge-admin" target="_blank" rel="noopener noreferrer"><code>conda-forge-admin</code></a></li>
<li><a href="https://github.com/conda-forge-daemon" target="_blank" rel="noopener noreferrer"><code>conda-forge-daemon</code></a></li>
<li><a href="https://github.com/regro-cf-autotick-bot" target="_blank" rel="noopener noreferrer"><code>regro-cf-autotick-bot</code></a></li>
</ul>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>These accounts exist but are not in active usage anymore:</p><ul>
<li><a href="https://github.com/conda-forge-bot" target="_blank" rel="noopener noreferrer"><code>conda-forge-bot</code></a></li>
<li><a href="https://github.com/conda-forge-coordinator" target="_blank" rel="noopener noreferrer"><code>conda-forge-coordinator</code></a></li>
<li><a href="https://github.com/conda-forge-drone-ci" target="_blank" rel="noopener noreferrer"><code>conda-forge-drone-ci</code></a></li>
<li><a href="https://github.com/conda-forge-linter" target="_blank" rel="noopener noreferrer"><code>conda-forge-linter</code></a></li>
<li><a href="https://github.com/conda-forge-manager" target="_blank" rel="noopener noreferrer"><code>conda-forge-manager</code></a></li>
<li><a href="https://github.com/conda-forge-status" target="_blank" rel="noopener noreferrer"><code>conda-forge-status</code></a></li>
</ul></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="apps">Apps<a href="#apps" class="hash-link" aria-label="Direct link to Apps" title="Direct link to Apps">â€‹</a></h4>
<ul>
<li><code>conda-forge-curator</code></li>
<li><code>conda-forge-webservices</code></li>
</ul>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>These apps exist but are not in active usage anymore:</p><ul>
<li><code>conda-forge drone instance</code></li>
</ul></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="workflows-1">Workflows<a href="#workflows-1" class="hash-link" aria-label="Direct link to Workflows" title="Direct link to Workflows">â€‹</a></h4>
<ul>
<li><a href="https://github.com/beckermr/turnstyle-python" target="_blank" rel="noopener noreferrer"><code>beckermr/turnstyle-python</code></a>: Prevents multiple CI jobs from running in parallel to avoid race conditions.</li>
<li><a href="https://github.com/conda-forge/automerge-action" target="_blank" rel="noopener noreferrer"><code>conda-forge/automerge-action</code></a></li>
<li><a href="https://github.com/conda-forge/webservices-dispatch-action" target="_blank" rel="noopener noreferrer"><code>conda-forge/webservices-dispatch-action</code></a></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="continuous-integration">Continuous integration<a href="#continuous-integration" class="hash-link" aria-label="Direct link to Continuous integration" title="Direct link to Continuous integration">â€‹</a></h3>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>See also</div><div class="admonitionContent_BuS1"><p>Refer to the <a href="/docs/maintainer/conda_forge_yml/"><code>conda-forge.yml</code> documentation</a> to learn how to configure your CI providers.</p></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="azure-pipelines-1">Azure Pipelines<a href="#azure-pipelines-1" class="hash-link" aria-label="Direct link to Azure Pipelines" title="Direct link to Azure Pipelines">â€‹</a></h4>
<ul>
<li>ğŸŒ <a href="https://dev.azure.com/conda-forge/feedstock-builds/_build" target="_blank" rel="noopener noreferrer">https://dev.azure.com/conda-forge/feedstock-builds/_build</a></li>
<li>ğŸ“ Available on all feedstocks</li>
<li>ğŸ›  Provides <a href="https://learn.microsoft.com/en-us/azure/devops/pipelines/agents/hosted?view=azure-devops&amp;tabs=yaml" target="_blank" rel="noopener noreferrer">Microsoft-hosted runners</a> (x64 Linux, macOS and Windows)</li>
<li>ğŸ”’ Needs access to Anaconda.org (cf-staging)</li>
</ul>
<p>conda-forge benefits from the generously offered Microsoft-hosted runners.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="travis-ci">Travis CI<a href="#travis-ci" class="hash-link" aria-label="Direct link to Travis CI" title="Direct link to Travis CI">â€‹</a></h4>
<ul>
<li>ğŸŒ <a href="https://app.travis-ci.com/github/conda-forge" target="_blank" rel="noopener noreferrer">https://app.travis-ci.com/github/conda-forge</a></li>
<li>ğŸ“ Available on all feedstocks</li>
<li>ğŸ›  Provides <a href="https://docs.travis-ci.com/user/reference/overview/" target="_blank" rel="noopener noreferrer">native Linux aarch64 and ppc64le runners</a></li>
<li>ğŸ”’ Needs access to Anaconda.org (cf-staging)</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="cirun">Cirun<a href="#cirun" class="hash-link" aria-label="Direct link to Cirun" title="Direct link to Cirun">â€‹</a></h4>
<ul>
<li>ğŸŒ <a href="https://cirun.io" target="_blank" rel="noopener noreferrer">https://cirun.io</a></li>
<li>ğŸ“ Available on selected feedstocks only</li>
<li>ğŸ›  Provides several architectures (depending on feedstock configuration)</li>
<li>ğŸ”’ Needs access to Anaconda.org (cf-staging) and the configured backend</li>
</ul>
<p>Configured with <code>@conda-forge-daemon</code>.</p>
<p>Organization-wide configuration can be found in the <a href="https://github.com/conda-forge/.cirun" target="_blank" rel="noopener noreferrer"><code>.cirun</code> repository</a>.</p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>This allows, for example, access to GPU enabled runners for selected feedstocks as described in <a href="https://github.com/Quansight/open-gpu-server" target="_blank" rel="noopener noreferrer">https://github.com/Quansight/open-gpu-server</a>.</p></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="github-actions-1">Github Actions<a href="#github-actions-1" class="hash-link" aria-label="Direct link to Github Actions" title="Direct link to Github Actions">â€‹</a></h4>
<ul>
<li>ğŸŒ <a href="https://github.com/features/actions" target="_blank" rel="noopener noreferrer">https://github.com/features/actions</a></li>
<li>ğŸ“ Not available in feedstocks (only admin tasks)</li>
<li>ğŸ›  Provides <a href="https://docs.github.com/en/actions/using-github-hosted-runners/about-github-hosted-runners" target="_blank" rel="noopener noreferrer">GitHub-hosted runners</a> (x64 Linux, macOS and Windows)</li>
<li>ğŸ”’ Has access to Github API</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="retired-services">Retired services<a href="#retired-services" class="hash-link" aria-label="Direct link to Retired services" title="Direct link to Retired services">â€‹</a></h4>
<ul>
<li><a href="https://ci.appveyor.com/account/conda-forge/projects" target="_blank" rel="noopener noreferrer">AppVeyor</a></li>
<li>Circle CI</li>
<li>Drone.io</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="delivery-and-distribution">Delivery and distribution<a href="#delivery-and-distribution" class="hash-link" aria-label="Direct link to Delivery and distribution" title="Direct link to Delivery and distribution">â€‹</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="anacondaorg">Anaconda.org<a href="#anacondaorg" class="hash-link" aria-label="Direct link to Anaconda.org" title="Direct link to Anaconda.org">â€‹</a></h4>
<ul>
<li>ğŸŒ Channels/organizations: <a href="https://anaconda.org/cf-staging/dashboard" target="_blank" rel="noopener noreferrer"><code>cf-staging</code></a>, <a href="https://anaconda.org/conda-forge/dashboard" target="_blank" rel="noopener noreferrer"><code>conda-forge</code></a></li>
<li>â›“ Used by feedstocks</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="docker-hub">Docker Hub<a href="#docker-hub" class="hash-link" aria-label="Direct link to Docker Hub" title="Direct link to Docker Hub">â€‹</a></h4>
<ul>
<li>ğŸŒ <a href="https://hub.docker.com/u/condaforge/" target="_blank" rel="noopener noreferrer">https://hub.docker.com/u/condaforge/</a></li>
<li>â›“ Used by <a href="#docker-images"><code>conda-forge/docker-images</code></a>, <a href="https://github.com/conda-forge/miniforge-images" target="_blank" rel="noopener noreferrer"><code>conda-forge/miniforge-images</code></a></li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="github-packages">Github Packages<a href="#github-packages" class="hash-link" aria-label="Direct link to Github Packages" title="Direct link to Github Packages">â€‹</a></h4>
<ul>
<li>ğŸŒ <a href="https://github.com/orgs/channel-mirrors/packages" target="_blank" rel="noopener noreferrer">https://github.com/orgs/channel-mirrors/packages</a></li>
<li>â›“ Used by <a href="https://github.com/channel-mirrors/conda-oci-mirror" target="_blank" rel="noopener noreferrer"><code>channel-mirrors/conda-oci-mirror</code></a></li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="github-releases">Github Releases<a href="#github-releases" class="hash-link" aria-label="Direct link to Github Releases" title="Direct link to Github Releases">â€‹</a></h4>
<ul>
<li>ğŸŒ <a href="https://github.com/conda-forge/miniforge/releases" target="_blank" rel="noopener noreferrer">https://github.com/conda-forge/miniforge/releases</a></li>
<li>â›“ Used by <a href="https://github.com/conda-forge/miniforge" target="_blank" rel="noopener noreferrer"><code>conda-forge/miniforge</code></a></li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="quay">Quay<a href="#quay" class="hash-link" aria-label="Direct link to Quay" title="Direct link to Quay">â€‹</a></h4>
<ul>
<li>ğŸŒ <a href="https://quay.io/organization/condaforge" target="_blank" rel="noopener noreferrer">https://quay.io/organization/condaforge</a></li>
<li>â›“ Used by <a href="#docker-images"><code>conda-forge/docker-images</code></a></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="servers">Servers<a href="#servers" class="hash-link" aria-label="Direct link to Servers" title="Direct link to Servers">â€‹</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="heroku">Heroku<a href="#heroku" class="hash-link" aria-label="Direct link to Heroku" title="Direct link to Heroku">â€‹</a></h4>
<ul>
<li>ğŸŒ <a href="https://conda-forge.herokuapp.com/status-monitor" target="_blank" rel="noopener noreferrer">https://conda-forge.herokuapp.com/status-monitor</a></li>
<li>â›“ Used by <a href="#webservices"><code>webservices</code></a></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="other-services">Other services<a href="#other-services" class="hash-link" aria-label="Direct link to Other services" title="Direct link to Other services">â€‹</a></h3>
<ul>
<li>Google: <code>condaforge@gmail.com</code></li>
<li>Google Groups: <a href="https://groups.google.com/g/conda-forge" target="_blank" rel="noopener noreferrer">conda-forge</a> (retired)</li>
<li>HackMD: <a href="https://hackmd.io/team/conda-forge" target="_blank" rel="noopener noreferrer">conda-forge</a></li>
<li>Open Collective: <a href="https://opencollective.com/conda-forge/" target="_blank" rel="noopener noreferrer">conda-forge</a></li>
<li>Namecheap (conda-forge.org)</li>
<li>Twitter: <a href="https://twitter.com/condaforge" target="_blank" rel="noopener noreferrer">@condaforge</a></li>
<li>YouTube: <a href="https://www.youtube.com/@condaforge3075" target="_blank" rel="noopener noreferrer">Conda Forge</a></li>
</ul>
<!-- -->
<section data-footnotes="" class="footnotes"><h2 class="anchor anchorWithStickyNavbar_LWe7 sr-only" id="footnote-label">Footnotes<a href="#footnote-label" class="hash-link" aria-label="Direct link to Footnotes" title="Direct link to Footnotes">â€‹</a></h2>
<ol>
<li id="user-content-fn-manual-builds">
<p>Very few packages cannot be built through CI due to special resource
requirements. These packages may be built and uploaded manually following the rules
laid out in <a href="https://github.com/conda-forge/cfep/blob/main/cfep-03.md" target="_blank" rel="noopener noreferrer">CFEP-3</a>. <a href="#user-content-fnref-manual-builds" data-footnote-backref="" aria-label="Back to reference 1" class="data-footnote-backref">â†©</a></p>
</li>
</ol>
</section></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/conda-forge/conda-forge.github.io/tree/refs/heads/main/docs/maintainer/infrastructure.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2025-03-19T14:48:43.000Z" itemprop="dateModified">Mar 19, 2025</time></b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/maintainer/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Maintainer Documentation</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/maintainer/guidelines/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Guidelines</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#repositories" class="table-of-contents__link toc-highlight">Repositories</a><ul><li><a href="#staged-recipes" class="table-of-contents__link toc-highlight">Staged-recipes</a></li><li><a href="#feedstocks" class="table-of-contents__link toc-highlight">Feedstocks</a></li><li><a href="#cdt-builds" class="table-of-contents__link toc-highlight">cdt-builds</a></li><li><a href="#msys2-recipes" class="table-of-contents__link toc-highlight">msys2-recipes</a></li><li><a href="#website" class="table-of-contents__link toc-highlight">Website</a></li><li><a href="#metadata-repositories" class="table-of-contents__link toc-highlight">Metadata repositories</a></li><li><a href="#code-repositories" class="table-of-contents__link toc-highlight">Code repositories</a></li><li><a href="#automated-maintenance" class="table-of-contents__link toc-highlight">Automated maintenance</a></li></ul></li><li><a href="#admin-web-services" class="table-of-contents__link toc-highlight">Admin web services</a><ul><li><a href="#conda-forge-admin-please-rerender" class="table-of-contents__link toc-highlight">@conda-forge-admin, please rerender</a></li><li><a href="#conda-forge-admin-please-add-noarch-python" class="table-of-contents__link toc-highlight">@conda-forge-admin, please add noarch: python</a></li><li><a href="#conda-forge-admin-please-lint" class="table-of-contents__link toc-highlight">@conda-forge-admin, please lint</a></li><li><a href="#conda-forge-admin-please-update-team" class="table-of-contents__link toc-highlight">@conda-forge-admin, please update team</a></li><li><a href="#conda-forge-admin-please-restart-ci" class="table-of-contents__link toc-highlight">@conda-forge-admin, please restart ci</a></li><li><a href="#conda-forge-admin-please-ping-team" class="table-of-contents__link toc-highlight">@conda-forge-admin, please ping team</a></li><li><a href="#conda-forge-admin-please-ping-conda-forge" class="table-of-contents__link toc-highlight">@conda-forge-admin, please ping conda-forge/<team></team></a></li><li><a href="#conda-forge-admin-please-rerun-bot" class="table-of-contents__link toc-highlight">@conda-forge-admin, please rerun bot</a></li><li><a href="#conda-forge-admin-please-add-bot-automerge" class="table-of-contents__link toc-highlight">@conda-forge-admin, please add bot automerge</a></li><li><a href="#conda-forge-admin-please-remove-bot-automerge" class="table-of-contents__link toc-highlight">@conda-forge-admin, please remove bot automerge</a></li><li><a href="#conda-forge-admin-please-add-user-username" class="table-of-contents__link toc-highlight">@conda-forge-admin, please add user @username</a></li><li><a href="#conda-forge-admin-please-update-version" class="table-of-contents__link toc-highlight">@conda-forge-admin, please update version</a></li></ul></li><li><a href="#ci-build-services" class="table-of-contents__link toc-highlight">CI build services</a><ul><li><a href="#azure-pipelines" class="table-of-contents__link toc-highlight">Azure Pipelines</a></li><li><a href="#travisci-ibm-power-8-arm" class="table-of-contents__link toc-highlight">TravisCI (IBM Power 8+, ARM)</a></li><li><a href="#github-actions" class="table-of-contents__link toc-highlight">GitHub Actions</a></li><li><a href="#skipping-ci-builds" class="table-of-contents__link toc-highlight">Skipping CI builds</a></li><li><a href="#third-party-use-of-our-ci-services" class="table-of-contents__link toc-highlight">Third-party Use of Our CI Services</a></li><li><a href="#external-runners-for-github-actions" class="table-of-contents__link toc-highlight">External Runners (for GitHub Actions)</a></li></ul></li><li><a href="#compilers-and-runtimes" class="table-of-contents__link toc-highlight">Compilers and Runtimes</a><ul><li><a href="#centos-sysroot-for-linux--platforms" class="table-of-contents__link toc-highlight">CentOS <code>sysroot</code> for <code>linux-*</code> Platforms</a></li></ul></li><li><a href="#output-validation-and-feedstock-tokens" class="table-of-contents__link toc-highlight">Output Validation and Feedstock Tokens</a><ul><li><a href="#package-validation-failed-for-a-new-output-name" class="table-of-contents__link toc-highlight">Package validation failed for a new output name</a></li><li><a href="#package-validation-failed-for-an-existing-output-name" class="table-of-contents__link toc-highlight">Package validation failed for an existing output name</a></li></ul></li><li><a href="#stages-of-package-building-and-involved-infrastructure" class="table-of-contents__link toc-highlight">Stages of package building and involved infrastructure</a><ul><li><a href="#initial-submission-to-staged-recipes" class="table-of-contents__link toc-highlight">Initial submission to staged-recipes</a></li><li><a href="#feedstock-changes" class="table-of-contents__link toc-highlight">Feedstock changes</a></li><li><a href="#package-building" class="table-of-contents__link toc-highlight">Package building</a></li><li><a href="#package-validation-and-publication" class="table-of-contents__link toc-highlight">Package validation and publication</a></li><li><a href="#post-publication" class="table-of-contents__link toc-highlight">Post-publication</a></li></ul></li><li><a href="#inventory-of-services--providers" class="table-of-contents__link toc-highlight">Inventory of services &amp; providers</a><ul><li><a href="#github-resources" class="table-of-contents__link toc-highlight">Github resources</a></li><li><a href="#continuous-integration" class="table-of-contents__link toc-highlight">Continuous integration</a></li><li><a href="#delivery-and-distribution" class="table-of-contents__link toc-highlight">Delivery and distribution</a></li><li><a href="#servers" class="table-of-contents__link toc-highlight">Servers</a></li><li><a href="#other-services" class="table-of-contents__link toc-highlight">Other services</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/">Getting started</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/user/">User docs</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/maintainer/">Maintainer docs</a></li><li class="footer__item"><a class="footer__link-item" href="/community/cfep/">CFEPs</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/community/">About conda-forge</a></li><li class="footer__item"><a class="footer__link-item" href="/community/governance/">Governance</a></li><li class="footer__item"><a class="footer__link-item" href="/community/minutes/">Meeting minutes</a></li><li class="footer__item"><a class="footer__link-item" href="/community/getting-in-touch/">Get in touch</a></li></ul></div><div class="col footer__col"><div class="footer__title">Stay up-to-date</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/news/archive/">News</a></li><li class="footer__item"><a class="footer__link-item" href="/blog/archive/">Blog</a></li><li class="footer__item"><a class="footer__link-item" href="/status/">Status</a></li><li class="footer__item"><a href="https://twitter.com/condaforge" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Resources</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/status/">Status</a></li><li class="footer__item"><a class="footer__link-item" href="/style-guide/">Style guide</a></li><li class="footer__item"><a href="https://github.com/conda-forge" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://conda-forge.zulipchat.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Zulip<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://conda.discourse.group/c/pkg-building/conda-forge/25" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discourse<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/conda-forge" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2025 conda-forge Â· Built with Docusaurus</div></div></div></footer></div>
</body>
</html>