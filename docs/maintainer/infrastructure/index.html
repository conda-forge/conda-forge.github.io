<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-maintainer/infrastructure" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.1.1">
<title data-rh="true">Infrastructure | conda-forge | community-driven packaging for conda</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://conda-forge.org/docs/maintainer/infrastructure/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Infrastructure | conda-forge | community-driven packaging for conda"><meta data-rh="true" name="description" content="Repositories"><meta data-rh="true" property="og:description" content="Repositories"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://conda-forge.org/docs/maintainer/infrastructure/"><link data-rh="true" rel="alternate" href="https://conda-forge.org/docs/maintainer/infrastructure/" hreflang="en"><link data-rh="true" rel="alternate" href="https://conda-forge.org/docs/maintainer/infrastructure/" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://KB43FQOB7U-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="conda-forge | community-driven packaging for conda RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="conda-forge | community-driven packaging for conda Atom Feed">



<link rel="search" type="application/opensearchdescription+xml" title="conda-forge | community-driven packaging for conda" href="/opensearch.xml">


<link rel="alternate" type="application/rss+xml" href="/news/rss.xml" title="conda-forge | community-driven packaging for conda RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/news/atom.xml" title="conda-forge | community-driven packaging for conda Atom Feed">


<link rel="stylesheet" href="/fonts/font-awesome/fontawesome.css">
<link rel="stylesheet" href="/fonts/font-awesome/solid.css">
<link rel="stylesheet" href="/fonts/font-awesome/regular.css">
<link rel="stylesheet" href="/fonts/font-awesome/brands.css">
<script src="/js/count.js" defer="defer" data-goatcounter="https://conda-forge.goatcounter.com/count"></script><link rel="stylesheet" href="/assets/css/styles.4965131c.css">
<script src="/assets/js/runtime~main.88bed1be.js" defer="defer"></script>
<script src="/assets/js/main.1479a436.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.png" alt="conda-forge anvil logo without text" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.png" alt="conda-forge anvil logo without text" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">Docs</a><a class="navbar__item navbar__link" href="/community/">Community</a><a class="navbar__item navbar__link" href="/news/">News</a><a class="navbar__item navbar__link" href="/blog/">Blog</a><a class="navbar__item navbar__link" href="/status/">Status</a><a class="navbar__item navbar__link" href="/packages/">Packages</a><a class="navbar__item navbar__link" href="/download/">Download</a></div><div class="navbar__items navbar__items--right"><a href="https://opencollective.com/conda-forge" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Donate<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/conda-forge" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link fab fa-lg fa-github" title="GitHub"></a><a href="https://twitter.com/condaforge" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link fab fa-lg fa-twitter" title="Twitter"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/">conda-forge documentation</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/user/">User Documentation</a><button aria-label="Expand sidebar category &#x27;User Documentation&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/maintainer/">Maintainer Documentation</a><button aria-label="Collapse sidebar category &#x27;Maintainer Documentation&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/maintainer/infrastructure/">Infrastructure</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/maintainer/guidelines/">Guidelines</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/maintainer/adding_pkgs/">Contributing packages</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/maintainer/updating_pkgs/">Maintaining packages</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/maintainer/pinning_deps/">Pinned dependencies</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/maintainer/conda_forge_yml/">Configuring conda-forge.yml</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/maintainer/knowledge_base/">Knowledge Base</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/maintainer/maintainer_faq/">FAQ</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/glossary/">Glossary</a></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/maintainer/"><span itemprop="name">Maintainer Documentation</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Infrastructure</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><p><a id="infrastructure"></a></p>
<p><a id="id1"></a></p>
<h1>Infrastructure</h1>
<p><a id="repositories"></a></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="repositories">Repositories<a href="#repositories" class="hash-link" aria-label="Direct link to Repositories" title="Direct link to Repositories">​</a></h2>
<p><a id="staging-area-for-recipes"></a></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="staging-area-for-recipes">Staging area for recipes<a href="#staging-area-for-recipes" class="hash-link" aria-label="Direct link to Staging area for recipes" title="Direct link to Staging area for recipes">​</a></h3>
<p><a href="https://github.com/conda-forge/staged-recipes" target="_blank" rel="noopener noreferrer">conda-forge/staged-recipes</a> is the entry point for new packages to join the conda-forge package collection.
You can find the detailed guide for submitting new package recipes in <a href="/docs/maintainer/adding_pkgs/#creating-recipes">The staging process</a>.</p>
<p><a id="smithy"></a></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="smithy">Smithy<a href="#smithy" class="hash-link" aria-label="Direct link to Smithy" title="Direct link to Smithy">​</a></h3>
<p>Smithy contains maintenance code for conda-forge, which is used by the <code>conda-smithy</code> command line tool and the <a href="#dev-admservice">Admin web services</a>. Smithy lives in the repository <a href="https://github.com/conda-forge/conda-smithy" target="_blank" rel="noopener noreferrer">conda-forge/conda-smithy</a>.</p>
<p><code>conda-forge/conda-smithy</code> is the right repository to report bugs for</p>
<ul>
<li>The rerendering process</li>
<li>The recipe linter</li>
<li><a href="/docs/glossary/#term-CI">CI</a> support utils</li>
</ul>
<p><code>conda-smithy</code> also contains the command line tool that you should use if you rerender manually from the command line (see <a href="/docs/maintainer/updating_pkgs/#dev-update-rerender">Rerendering feedstocks</a>).</p>
<p>Smithy can be used beyond conda-forge&#x27;s purposes. For example, it can be used to set up self-hosted Azure agents <azure-config> for non-conda-forge infrastructures.
(You could also consider using <a href="https://docs.microsoft.com/en-us/azure/devops/pipelines/agents/scale-set-agents?view=azure-devops" target="_blank" rel="noopener noreferrer">Azure virtual machine scale set agents</a>,
which could be less expensive to run than permanently active agents.)</azure-config></p>
<p><a id="web-services"></a></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="web-services">Web services<a href="#web-services" class="hash-link" aria-label="Direct link to Web services" title="Direct link to Web services">​</a></h3>
<p>The Heroku app providing the conda-forge web services lives in <a href="https://github.com/conda-forge/conda-forge-webservices" target="_blank" rel="noopener noreferrer">conda-forge/conda-forge-webservices</a>.
Please note that the code logic provided by the app is in the <code>Smithy</code> repository.</p>
<p>Bugs or suggestions regarding the service functionality should therefore be opened in <code>conda-forge/conda-smithy</code>&#x27;s <a href="https://github.com/conda-forge/conda-smithy/issues" target="_blank" rel="noopener noreferrer">bug tracker</a>.</p>
<p><a id="conda-forge-pinning"></a></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="conda-forge-pinning">conda-forge pinning<a href="#conda-forge-pinning" class="hash-link" aria-label="Direct link to conda-forge pinning" title="Direct link to conda-forge pinning">​</a></h3>
<p>Package-wide dependency pins are defined in <a href="https://github.com/conda-forge/conda-forge-pinning-feedstock/blob/master/recipe/conda_build_config.yaml" target="_blank" rel="noopener noreferrer">conda_build_config.yaml</a> in the <a href="https://github.com/conda-forge/conda-forge-pinning-feedstock" target="_blank" rel="noopener noreferrer">conda-forge/conda-forge-pinning-feedstock</a>.</p>
<p>For more information on conda-forge wide package pins, please refer to <a href="/docs/maintainer/pinning_deps/#globally-pinned-packages">Globally pinned packages</a>.</p>
<p>Please open a <a href="/docs/glossary/#term-PR">PR</a> and/or an issue there, if you think a pin needs to be advanced. For more information on updating globally pinned packages, please refer to <a href="/docs/maintainer/pinning_deps/#update-pins">Updating package pins</a>.</p>
<p><a id="documentation"></a></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="documentation">Documentation<a href="#documentation" class="hash-link" aria-label="Direct link to Documentation" title="Direct link to Documentation">​</a></h3>
<p>The documentation website lives in <a href="https://github.com/conda-forge/conda-forge.github.io/" target="_blank" rel="noopener noreferrer">conda-forge/conda-forge.github.io</a>, and is automatically deployed to our <a href="https://conda-forge.org/" target="_blank" rel="noopener noreferrer">online version</a>.</p>
<p>The documentation is built with Docusaurus and the sources files are located in the <a href="https://github.com/conda-forge/conda-forge.github.io/tree/main/docs" target="_blank" rel="noopener noreferrer"><code>docs/</code></a> directory of the repository.</p>
<p>If you found any typo error, unclear explanations or new topics that can be covered, you can suggest changes to the documentation. For more details, please refer to <a href="/docs/user/contributing/#improve-docs">Improve the documentation</a>.</p>
<p><a id="dev-admservice"></a></p>
<p><a id="admin-web-services"></a></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="admin-web-services">Admin web services<a href="#admin-web-services" class="hash-link" aria-label="Direct link to Admin web services" title="Direct link to Admin web services">​</a></h2>
<p>conda-forge is running a webservice on Heroku called <a href="https://github.com/conda-forge/conda-forge-webservices" target="_blank" rel="noopener noreferrer">conda-forge-webservices</a>.</p>
<p>The following services are run by default on a feedstock:</p>
<ul>
<li>It will lint the recipes in the PRs and report back whether the recipe is in excellent condition or not.</li>
<li>When maintainers are added to a recipe, each of the maintainers will be added to the team and given push access to the feedstock.</li>
</ul>
<p>The webservice also listens to issues and PR comments, so that you can ask for the following services to be done:</p>
<p><a id="conda-forge-admin-please-rerender"></a></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="conda-forge-admin-please-rerender">@conda-forge-admin, please rerender<a href="#conda-forge-admin-please-rerender" class="hash-link" aria-label="Direct link to @conda-forge-admin, please rerender" title="Direct link to @conda-forge-admin, please rerender">​</a></h3>
<p>Entering the above phrase in a PR of a feedstock will rerender the feedstock and push the changes to your PR.
Make sure to tick the <code>Allow edits from maintainers</code> button located at the bottom of the right side bar of
the PR. If you enter this phrase in the comment for an issue, the bot will create a new pull request, with the requested
re-rendering being completed.</p>
<p><a id="conda-forge-admin-please-add-noarch-python"></a></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="conda-forge-admin-please-add-noarch-python">@conda-forge-admin, please add noarch: python<a href="#conda-forge-admin-please-add-noarch-python" class="hash-link" aria-label="Direct link to @conda-forge-admin, please add noarch: python" title="Direct link to @conda-forge-admin, please add noarch: python">​</a></h3>
<p>Entering the above phrase in a PR or an issue of a feedstock will add <code>noarch: python</code> to the build and rerender the feedstock
for you.</p>
<p><a id="conda-forge-admin-please-lint"></a></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="conda-forge-admin-please-lint">@conda-forge-admin, please lint<a href="#conda-forge-admin-please-lint" class="hash-link" aria-label="Direct link to @conda-forge-admin, please lint" title="Direct link to @conda-forge-admin, please lint">​</a></h3>
<p>Entering the above phrase in a PR of a feedstock will lint the PR again.</p>
<p><a id="conda-forge-admin-please-update-team"></a></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="conda-forge-admin-please-update-team">@conda-forge-admin, please update team<a href="#conda-forge-admin-please-update-team" class="hash-link" aria-label="Direct link to @conda-forge-admin, please update team" title="Direct link to @conda-forge-admin, please update team">​</a></h3>
<p>Entering the above phrase in an issue will update the team for the feedstock. This is usually done automatically.</p>
<p><a id="conda-forge-admin-please-restart-ci"></a></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="conda-forge-admin-please-restart-ci">@conda-forge-admin, please restart ci<a href="#conda-forge-admin-please-restart-ci" class="hash-link" aria-label="Direct link to @conda-forge-admin, please restart ci" title="Direct link to @conda-forge-admin, please restart ci">​</a></h3>
<p>Entering this command in the PR of a feedstock or staged-recipes will close and then open the PR, causing
all of the CI builds to restart.</p>
<p><a id="cfa-please-ping-team"></a></p>
<p><a id="conda-forge-admin-please-ping-team"></a></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="conda-forge-admin-please-ping-team">@conda-forge-admin, please ping team<a href="#conda-forge-admin-please-ping-team" class="hash-link" aria-label="Direct link to @conda-forge-admin, please ping team" title="Direct link to @conda-forge-admin, please ping team">​</a></h3>
<p>Entering this command in the PR of a feedstock or staged-recipes will have the admin bot @-mention the team
associated with the repo. This command can be useful for people who are not yet members of conda-forge and
so cannot @-mention the <code>staged-recipes</code> team for PR reviews.</p>
<p><a id="cfa-please-ping-cf-team"></a></p>
<p><a id="conda-forge-admin-please-ping-conda-forge-team"></a></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="conda-forge-admin-please-ping-conda-forge">@conda-forge-admin, please ping conda-forge/<team></team><a href="#conda-forge-admin-please-ping-conda-forge" class="hash-link" aria-label="Direct link to conda-forge-admin-please-ping-conda-forge" title="Direct link to conda-forge-admin-please-ping-conda-forge">​</a></h3>
<p>Entering this command in the PR of a feedstock or staged-recipes will have the admin bot @-mention the respective team.
This command can be useful for people who are not yet members of conda-forge and
so cannot @-mention someone due to the general GitHub limitations.</p>
<p><a id="conda-forge-admin-please-rerun-bot"></a></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="conda-forge-admin-please-rerun-bot">@conda-forge-admin, please rerun bot<a href="#conda-forge-admin-please-rerun-bot" class="hash-link" aria-label="Direct link to @conda-forge-admin, please rerun bot" title="Direct link to @conda-forge-admin, please rerun bot">​</a></h3>
<p>Entering this command in a PR comment will add the <code>bot-rerun</code> label to that PR. This label will cause
the <code>auto-tick</code> bot that issues migration and version updates to close the current PR and reissue it.
Adding this label to non-bot issued PRs will have no effect.</p>
<p><a id="conda-forge-admin-please-add-bot-automerge"></a></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="conda-forge-admin-please-add-bot-automerge">@conda-forge-admin, please add bot automerge<a href="#conda-forge-admin-please-add-bot-automerge" class="hash-link" aria-label="Direct link to @conda-forge-admin, please add bot automerge" title="Direct link to @conda-forge-admin, please add bot automerge">​</a></h3>
<p>Entering this command in the title or comment of an issue will instruct the admin bot to
open a PR enabling the automatic merging of passing PRs from the <code>auto-tick</code>
bot. This functionality is currently experimental. You can find more details
<a href="#automerge">here</a>.
Please open issue on <code>regro/cf-scripts</code> for any feedback, bugs, and/or questions!</p>
<p><a id="conda-forge-admin-please-remove-bot-automerge"></a></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="conda-forge-admin-please-remove-bot-automerge">@conda-forge-admin, please remove bot automerge<a href="#conda-forge-admin-please-remove-bot-automerge" class="hash-link" aria-label="Direct link to @conda-forge-admin, please remove bot automerge" title="Direct link to @conda-forge-admin, please remove bot automerge">​</a></h3>
<p>Entering this command in the title or comment of an issue will instruct the admin bot to
open a PR to disable automerge, undoing the <code>please add bot automerge</code> command.</p>
<p><a id="cfa-please-add-user"></a></p>
<p><a id="conda-forge-admin-please-add-user-username"></a></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="conda-forge-admin-please-add-user-username">@conda-forge-admin, please add user @username<a href="#conda-forge-admin-please-add-user-username" class="hash-link" aria-label="Direct link to @conda-forge-admin, please add user @username" title="Direct link to @conda-forge-admin, please add user @username">​</a></h3>
<p>Entering the above phrase in the title of an issue on a feedstock will make a PR
that adds the given user to the feedstock. A maintainer or member of <code>core</code> can then merge
this PR to add the user. Please do not modify this PR or adjust the commit message. This
PR is designed to skip building the package.</p>
<p><a id="conda-forge-admin-please-update-version"></a></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="conda-forge-admin-please-update-version">@conda-forge-admin, please update version<a href="#conda-forge-admin-please-update-version" class="hash-link" aria-label="Direct link to @conda-forge-admin, please update version" title="Direct link to @conda-forge-admin, please update version">​</a></h3>
<p>Entering the above phrase in the title of an issue on a feedstock will request the bot
to check if there are any new versions available. If there are, it will open a PR with
with the needed changes. Note that the bot might start by opening a PR with only partial
changes. The rest of the contents will be added in a subsequent commit after a few minutes.</p>
<p><a id="ci-build-services"></a></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ci-build-services">CI build services<a href="#ci-build-services" class="hash-link" aria-label="Direct link to CI build services" title="Direct link to CI build services">​</a></h2>
<p>Here we describe common issues with the CI Services that conda-forge builds.</p>
<p><a id="azure-pipelines"></a></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="azure-pipelines">Azure Pipelines<a href="#azure-pipelines" class="hash-link" aria-label="Direct link to Azure Pipelines" title="Direct link to Azure Pipelines">​</a></h3>
<p>Azure is used to build packages for OSX, Linux (x86_64, native), Linux (ARMv8, emulated) and Linux (IBM Power8+, emulated).
The build queue on Azure is substantially larger than on all the other providers.
Azure builds have a maximum duration of 6 hours.</p>
<p>To see all builds on Azure, visit <a href="https://dev.azure.com/conda-forge/feedstock-builds/_build" target="_blank" rel="noopener noreferrer">https://dev.azure.com/conda-forge/feedstock-builds/_build</a>.</p>
<p><a id="restarting-builds"></a></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="restarting-builds">Restarting builds<a href="#restarting-builds" class="hash-link" aria-label="Direct link to Restarting builds" title="Direct link to Restarting builds">​</a></h4>
<p>Presently Azure does not sync GitHub users. In order to restart a build you can restart it from the GitHub checks interface.
If that doesn&#x27;t work, a close/open will kick off a new build. You can also use the web services command <code>@conda-forge-admin, please restart ci</code>.</p>
<p><a id="using-azure-for-everything"></a></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="using-azure-for-everything">Using Azure for <em>everything</em><a href="#using-azure-for-everything" class="hash-link" aria-label="Direct link to using-azure-for-everything" title="Direct link to using-azure-for-everything">​</a></h4>
<p>Azure is the default provider for Linux and OSX.  To use Azure for everything, add the following to <code>conda-forge.yml</code> in the root
of the feedstock.</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">provider</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">win</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> azure</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>Presently Azure has some issues building libraries using cmake on Windows. Azure does not have a VS2008 installation, so building
certain very old packages that require VC9 will fail.</p></div></div>
<p><a id="travisci-ibm-power-8-arm"></a></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="travisci-ibm-power-8-arm">TravisCI (IBM Power 8+, ARM)<a href="#travisci-ibm-power-8-arm" class="hash-link" aria-label="Direct link to TravisCI (IBM Power 8+, ARM)" title="Direct link to TravisCI (IBM Power 8+, ARM)">​</a></h3>
<p>TravisCI is used to build packages for IBM Power 8+ and ARM. After merging a staged-recipes pull request, it might be necessary to
force sync your repositories in TravisCI to see the reload and cancel buttons. To do this please visit <a href="https://app.travis-ci.com/account/repositories" target="_blank" rel="noopener noreferrer">https://app.travis-ci.com/account/repositories</a>
and click the &quot;Sync accounts&quot; button.</p>
<p><a id="enabling-travis"></a></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="enabling-travis">Enabling Travis<a href="#enabling-travis" class="hash-link" aria-label="Direct link to Enabling Travis" title="Direct link to Enabling Travis">​</a></h4>
<p>TravisCI should only be needed to build recipes on OSX, if there is a strange failure on Azure.</p>
<p>Enable a build by adding the following to <code>conda-forge.yml</code> in the root of the feedstock.</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">provider</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">osx</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> travis</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>For IBM Power 8+ and/or ARM builds, add the name of your feedstock to the list <a href="https://github.com/conda-forge/conda-forge-pinning-feedstock/blob/master/recipe/migrations/arch_rebuild.txt" target="_blank" rel="noopener noreferrer">here</a>
via a pull request.</p>
<p><a id="github-actions"></a></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="github-actions">GitHub Actions<a href="#github-actions" class="hash-link" aria-label="Direct link to GitHub Actions" title="Direct link to GitHub Actions">​</a></h3>
<p>We use GitHub actions to rerender feedstocks and also run our pull request automerge service. We do not currently support builds on
GitHub Actions.</p>
<p><a id="automerge"></a></p>
<p><a id="id2"></a></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="automerge">Automerge<a href="#automerge" class="hash-link" aria-label="Direct link to Automerge" title="Direct link to Automerge">​</a></h4>
<p>The automerge service uses the GitHub action in this <a href="https://github.com/conda-forge/automerge-action" target="_blank" rel="noopener noreferrer">repo</a>. This action runs out of a
Docker <a href="https://hub.docker.com/repository/docker/condaforge/automerge-action" target="_blank" rel="noopener noreferrer">container</a> on the <code>prod</code> tag. See the
repo <a href="https://github.com/conda-forge/automerge-action#" target="_blank" rel="noopener noreferrer">README.md</a> for more details. PRs are automatically merged if they satisfy either
of the two following sets of conditions:</p>
<ol>
<li>are from the <code>regro-cf-autotick-bot</code>, have <code>[bot-automerge]</code> in the title, all statuses are passing, and the feedstock allows automerge</li>
<li>have the <code>automerge</code> label and all statuses are passing.</li>
</ol>
<p>For PRs from the <code>regro-cf-autotick-bot</code>, it can be useful to remove the <code>[bot-automerge]</code> slug from the PR title if you are making
edits to the PR.</p>
<p><a id="rerendering"></a></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="rerendering">Rerendering<a href="#rerendering" class="hash-link" aria-label="Direct link to Rerendering" title="Direct link to Rerendering">​</a></h4>
<p>The rerendering service is triggered by the Heroku app. It uses the GitHub action in this <a href="https://github.com/conda-forge/webservices-dispatch-action" target="_blank" rel="noopener noreferrer">repo</a>.
This action runs out of a Docker <a href="https://hub.docker.com/repository/docker/condaforge/webservices-dispatch-action" target="_blank" rel="noopener noreferrer">container</a> on the <code>prod</code> tag. See the
repo <a href="https://github.com/conda-forge/webservices-dispatch-action" target="_blank" rel="noopener noreferrer">README.md</a> for more details.</p>
<p><a id="skipping-ci-builds"></a></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="skipping-ci-builds">Skipping CI builds<a href="#skipping-ci-builds" class="hash-link" aria-label="Direct link to Skipping CI builds" title="Direct link to Skipping CI builds">​</a></h3>
<p>To skip a CI build for a given commit, put <code>[ci skip] ***NO_CI***</code> in the commit message.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Related links</div><div class="admonitionContent_BuS1"><ul>
<li><strong>Abort builds with [skip ci]/etc</strong> <a href="https://github.com/conda-forge/conda-forge.github.io/issues/629" target="_blank" rel="noopener noreferrer">(conda-forge.github.io/#629)</a></li>
<li><strong>Skip CI requests</strong> <a href="https://github.com/conda-forge/staged-recipes/issues/1148" target="_blank" rel="noopener noreferrer">(staged-recipes/#1148)</a></li>
</ul></div></div>
<p><a id="third-party-use-of-our-ci-services"></a></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="third-party-use-of-our-ci-services">Third-party Use of Our CI Services<a href="#third-party-use-of-our-ci-services" class="hash-link" aria-label="Direct link to Third-party Use of Our CI Services" title="Direct link to Third-party Use of Our CI Services">​</a></h3>
<p>Due to its stature in the open-source community, conda-forge has enhanced access to certain CI services. This access is a community
resource entrusted to conda-forge for use in building packages. We thus cannot support third-party or &quot;off-label&quot; CI jobs in our
feedstocks on any of our CI services. If we find such use, we will politely ask the maintainers to rectify the situation. We may
take more serious actions, including archiving feedstocks or removing maintainers from the organization, if the situation cannot be rectified.</p>
<p><a id="compilers-and-runtimes"></a></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="compilers-and-runtimes">Compilers and Runtimes<a href="#compilers-and-runtimes" class="hash-link" aria-label="Direct link to Compilers and Runtimes" title="Direct link to Compilers and Runtimes">​</a></h2>
<p>conda-forge builds and maintains its own set of compilers for various languages
and/or systems (e.g., <code>C</code>, <code>FORTRAN</code>, <code>C++</code>, <code>CUDA</code>, etc.). These are used
in all of our CI builds to build both core dependencies (e.g., <code>Python</code>) and maintainer-contributed
packages. While we do not have any formal policies or promises of support for these
compilers, we have historically maintained them according to the following (non-binding)
principles.</p>
<ul>
<li>The authoritative source of the current compilers and versions for various languages
and platforms is the <a href="https://github.com/conda-forge/conda-forge-pinning-feedstock/blob/master/recipe/conda_build_config.yaml" target="_blank" rel="noopener noreferrer">conda_build_config.yaml</a>
in the <a href="https://github.com/conda-forge/conda-forge-pinning-feedstock" target="_blank" rel="noopener noreferrer">conda-forge/conda-forge-pinning-feedstock</a>
as described in <a href="/docs/maintainer/pinning_deps/#globally-pinned-packages">Globally pinned packages</a>.</li>
<li>We provide no support of any kind in terms of the long-term stability of these pinnings.</li>
<li>We upgrade them in an ad-hoc manner on a periodic basis as we have the time and energy to do so.
Note that because of the way we enforce runtime constraints, these compiler upgrades will not break
existing packages. However, if you are using the compilers outside of <code>conda</code>, then you may find issues.</li>
<li>We generally provide notice in the form of an announcement when a compiler is going to be upgraded.
Note that these changes take a bit of time to complete, so you will generally have time
to prepare should you need to.</li>
<li>Some of the criteria we think about when considering a compiler migration include:
<ul>
<li>the degree of disruption to the ecosystem,</li>
<li>the amount of work for the <code>core</code> team,</li>
<li>the amount of time it will cost our (volunteer) feedstock maintainers.</li>
</ul>
</li>
</ul>
<p>We do use some unofficial names for our compiler stack internally. Note however that
the existence of these names does not imply any level of support or stability for the compilers
that form the given stack.</p>
<ul>
<li>Our current compiler stack is referred to internally as <code>comp7</code>.</li>
<li>The previous compiler stack based in part on the various <code>toolchain_*</code> packages
was sometimes referred to as <code>comp4</code>. On linux the <code>toolchain_*</code> compilers were
GCC 4.8.2 as packaged in the devtoolset-2 software collection. On osx, we use clang from
Apple&#x27;s Xcode in the <code>toolchain_*</code> packages.</li>
</ul>
<p><a id="centos-sysroot-for-linux-platforms"></a></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="centos-sysroot-for-linux--platforms">CentOS <code>sysroot</code> for <code>linux-*</code> Platforms<a href="#centos-sysroot-for-linux--platforms" class="hash-link" aria-label="Direct link to centos-sysroot-for-linux--platforms" title="Direct link to centos-sysroot-for-linux--platforms">​</a></h3>
<p>We currently repackage the <code>sysroot</code> from the appropriate version of CentOS for use
with our compilers. These <code>sysroot</code> files are available in the <code>sysroot_linux-*</code> packages.
These packages have version numbers that match the version of <code>glibc</code> they package. These
versions are <code>2.12</code> for CentOS 6 and <code>2.17</code> for CentOS 7.</p>
<p>For <code>gcc</code>/<code>gxx</code>/<code>gfortran</code> versions prior to <code>8.4.0</code> on <code>ppc64le</code> and <code>7.5.0</code>
on <code>aarch64</code>/<code>x86_64</code>, we had been building our own versions of <code>glibc</code>. This practice
is now deprecated in favor of the CentOS-based <code>sysroots</code>. Additionally, as of the same
compiler versions above, we have removed the <code>cos*</code> part of the <code>sysroot</code> path. The new
<code>sysroot</code> path has in it simply <code>conda</code> as opposed to <code>conda_cos6</code> or <code>conda_cos7</code>.</p>
<p><a id="output-validation"></a></p>
<p><a id="output-validation-and-feedstock-tokens"></a></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="output-validation-and-feedstock-tokens">Output Validation and Feedstock Tokens<a href="#output-validation-and-feedstock-tokens" class="hash-link" aria-label="Direct link to Output Validation and Feedstock Tokens" title="Direct link to Output Validation and Feedstock Tokens">​</a></h2>
<p>As of writing, <code>anaconda.org</code> does not support generating API tokens that are scoped
to allow uploads for some packages but not others. In order to secure feedstock uploads,
so that, e.g., the maintainers of the <code>numpy</code> feedstock cannot push a <code>python</code> package,
we use a package staging process and issue secret tokens, unique to each feedback. This process
works as follows.</p>
<ol>
<li>When a CI job on a feedstock is building packages to be uploaded to <code>anaconda.org</code>, it
first uploads them to a staging channel, <code>cf-staging</code>.</li>
<li>Then the feedback CI job makes an API call to our admin webservices server with its secret token
and some information about the package it is trying to upload.</li>
<li>The webservices server validates the secret token, the integrity of the package, and
that the package is allowed for the given feedstock.</li>
<li>If all of the validation passes, the package is then copied to the <code>conda-forge</code>
channel.</li>
</ol>
<p>We attempt to report errors in this process to users via comments on commits/issues in the feedstocks.
Note however that sometimes these fail. If you think you are having trouble with uploads, make
sure <code>conda_forge_output_validation: true</code> is set in your <code>conda-forge.yml</code> and rerender
your feedstock with the latest version of <code>conda-smithy</code>. Finally, new packages that are added to
feedstocks are registered automatically and once uploaded successfully, no other feedstock
will be able to upload packages with the same name.</p>
<p>Sometimes, however, it might make better sense to generate a package from a different
feedstock, say, due to package renaming or re-structuring. In this case, you may need
to add the new feedstock to the <a href="https://github.com/conda-forge/feedstock-outputs" target="_blank" rel="noopener noreferrer">feedstock-outputs</a> map.
If this is not done, then the output validation process will block the package from being
uploaded from the new feedstock, by design.
Once this is done correctly and the package is uploaded,
you can then request the conda-forge core devs to archive the old feedstock.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/conda-forge/conda-forge.github.io/tree/refs/heads/main/docs/maintainer/infrastructure.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2024-03-14T19:58:22.000Z">Mar 14, 2024</time></b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/maintainer/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Maintainer Documentation</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/maintainer/guidelines/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Guidelines</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#repositories" class="table-of-contents__link toc-highlight">Repositories</a><ul><li><a href="#staging-area-for-recipes" class="table-of-contents__link toc-highlight">Staging area for recipes</a></li><li><a href="#smithy" class="table-of-contents__link toc-highlight">Smithy</a></li><li><a href="#web-services" class="table-of-contents__link toc-highlight">Web services</a></li><li><a href="#conda-forge-pinning" class="table-of-contents__link toc-highlight">conda-forge pinning</a></li><li><a href="#documentation" class="table-of-contents__link toc-highlight">Documentation</a></li></ul></li><li><a href="#admin-web-services" class="table-of-contents__link toc-highlight">Admin web services</a><ul><li><a href="#conda-forge-admin-please-rerender" class="table-of-contents__link toc-highlight">@conda-forge-admin, please rerender</a></li><li><a href="#conda-forge-admin-please-add-noarch-python" class="table-of-contents__link toc-highlight">@conda-forge-admin, please add noarch: python</a></li><li><a href="#conda-forge-admin-please-lint" class="table-of-contents__link toc-highlight">@conda-forge-admin, please lint</a></li><li><a href="#conda-forge-admin-please-update-team" class="table-of-contents__link toc-highlight">@conda-forge-admin, please update team</a></li><li><a href="#conda-forge-admin-please-restart-ci" class="table-of-contents__link toc-highlight">@conda-forge-admin, please restart ci</a></li><li><a href="#conda-forge-admin-please-ping-team" class="table-of-contents__link toc-highlight">@conda-forge-admin, please ping team</a></li><li><a href="#conda-forge-admin-please-ping-conda-forge" class="table-of-contents__link toc-highlight">@conda-forge-admin, please ping conda-forge/<team></team></a></li><li><a href="#conda-forge-admin-please-rerun-bot" class="table-of-contents__link toc-highlight">@conda-forge-admin, please rerun bot</a></li><li><a href="#conda-forge-admin-please-add-bot-automerge" class="table-of-contents__link toc-highlight">@conda-forge-admin, please add bot automerge</a></li><li><a href="#conda-forge-admin-please-remove-bot-automerge" class="table-of-contents__link toc-highlight">@conda-forge-admin, please remove bot automerge</a></li><li><a href="#conda-forge-admin-please-add-user-username" class="table-of-contents__link toc-highlight">@conda-forge-admin, please add user @username</a></li><li><a href="#conda-forge-admin-please-update-version" class="table-of-contents__link toc-highlight">@conda-forge-admin, please update version</a></li></ul></li><li><a href="#ci-build-services" class="table-of-contents__link toc-highlight">CI build services</a><ul><li><a href="#azure-pipelines" class="table-of-contents__link toc-highlight">Azure Pipelines</a></li><li><a href="#travisci-ibm-power-8-arm" class="table-of-contents__link toc-highlight">TravisCI (IBM Power 8+, ARM)</a></li><li><a href="#github-actions" class="table-of-contents__link toc-highlight">GitHub Actions</a></li><li><a href="#skipping-ci-builds" class="table-of-contents__link toc-highlight">Skipping CI builds</a></li><li><a href="#third-party-use-of-our-ci-services" class="table-of-contents__link toc-highlight">Third-party Use of Our CI Services</a></li></ul></li><li><a href="#compilers-and-runtimes" class="table-of-contents__link toc-highlight">Compilers and Runtimes</a><ul><li><a href="#centos-sysroot-for-linux--platforms" class="table-of-contents__link toc-highlight">CentOS <code>sysroot</code> for <code>linux-*</code> Platforms</a></li></ul></li><li><a href="#output-validation-and-feedstock-tokens" class="table-of-contents__link toc-highlight">Output Validation and Feedstock Tokens</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/">Getting started</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/user/">User docs</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/maintainer/">Maintainer docs</a></li><li class="footer__item"><a class="footer__link-item" href="/community/cfep/">CFEPs</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/community/">About conda-forge</a></li><li class="footer__item"><a class="footer__link-item" href="/community/governance/">Governance</a></li><li class="footer__item"><a class="footer__link-item" href="/community/minutes/">Meeting minutes</a></li><li class="footer__item"><a class="footer__link-item" href="/community/getting-in-touch/">Get in touch</a></li></ul></div><div class="col footer__col"><div class="footer__title">Stay up-to-date</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/news/archive/">News</a></li><li class="footer__item"><a class="footer__link-item" href="/blog/archive/">Blog</a></li><li class="footer__item"><a class="footer__link-item" href="/status/">Status</a></li><li class="footer__item"><a href="https://twitter.com/condaforge" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Resources</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/status/">Status</a></li><li class="footer__item"><a class="footer__link-item" href="/style-guide/">Style guide</a></li><li class="footer__item"><a href="https://github.com/conda-forge" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://app.element.io/#/room/#conda-forge:matrix.org" target="_blank" rel="noopener noreferrer" class="footer__link-item">Element<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://conda.discourse.group/c/pkg-building/conda-forge/25" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discourse<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/conda-forge" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 conda-forge · Built with Docusaurus</div></div></div></footer></div>
</body>
</html>