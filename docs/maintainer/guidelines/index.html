<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-maintainer/guidelines" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.6.3">
<title data-rh="true">Guidelines | conda-forge | community-driven packaging for conda</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://conda-forge.org/docs/maintainer/guidelines/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Guidelines | conda-forge | community-driven packaging for conda"><meta data-rh="true" name="description" content="Transferring to conda-forge"><meta data-rh="true" property="og:description" content="Transferring to conda-forge"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://conda-forge.org/docs/maintainer/guidelines/"><link data-rh="true" rel="alternate" href="https://conda-forge.org/docs/maintainer/guidelines/" hreflang="en"><link data-rh="true" rel="alternate" href="https://conda-forge.org/docs/maintainer/guidelines/" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://KB43FQOB7U-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="conda-forge | community-driven packaging for conda RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="conda-forge | community-driven packaging for conda Atom Feed">



<link rel="search" type="application/opensearchdescription+xml" title="conda-forge | community-driven packaging for conda" href="/opensearch.xml">

<link rel="alternate" type="application/rss+xml" href="/news/rss.xml" title="conda-forge | community-driven packaging for conda RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/news/atom.xml" title="conda-forge | community-driven packaging for conda Atom Feed">


<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css">
<script src="/js/count.js" defer="defer" data-goatcounter="https://conda-forge.goatcounter.com/count"></script><link rel="stylesheet" href="/assets/css/styles.be1f22f3.css">
<script src="/assets/js/runtime~main.39aaf637.js" defer="defer"></script>
<script src="/assets/js/main.f7ac7bfc.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.png" alt="conda-forge anvil logo without text" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.png" alt="conda-forge anvil logo without text" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">Docs</a><a class="navbar__item navbar__link" href="/community/">Community</a><a class="navbar__item navbar__link" href="/news/">News</a><a class="navbar__item navbar__link" href="/blog/">Blog</a><a class="navbar__item navbar__link" href="/status/">Status</a><a class="navbar__item navbar__link" href="/packages/">Packages</a><a class="navbar__item navbar__link" href="/download/">Download</a></div><div class="navbar__items navbar__items--right"><a href="https://opencollective.com/conda-forge" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Donate<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/conda-forge" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link fab fa-lg fa-github" title="GitHub"></a><a href="https://conda-forge.zulipchat.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link fa-solid fa-comments" title="Zulip"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/">conda-forge documentation</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/user/">User Documentation</a><button aria-label="Expand sidebar category &#x27;User Documentation&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/docs/maintainer/">Maintainer Documentation</a><button aria-label="Collapse sidebar category &#x27;Maintainer Documentation&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/maintainer/infrastructure/">Infrastructure</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/maintainer/guidelines/">Guidelines</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/maintainer/adding_pkgs/">Contributing packages</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/maintainer/updating_pkgs/">Maintaining packages</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/maintainer/pinning_deps/">Pinned dependencies</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/maintainer/conda_forge_yml/">Configuring conda-forge.yml</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/maintainer/knowledge_base/">Knowledge Base</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/maintainer/maintainer_faq/">FAQ</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/maintainer/understanding_conda_forge/">Understanding conda-forge</a><button aria-label="Expand sidebar category &#x27;Understanding conda-forge&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/glossary/">Glossary</a></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/maintainer/"><span itemprop="name">Maintainer Documentation</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Guidelines</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><p><a id="guidelines"></a></p>
<header><h1>Guidelines</h1></header>
<p><a id="transferring-to-conda-forge"></a></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="transferring-to-conda-forge">Transferring to conda-forge<a href="#transferring-to-conda-forge" class="hash-link" aria-label="Direct link to Transferring to conda-forge" title="Direct link to Transferring to conda-forge">​</a></h2>
<p>This document intends to layout some guidelines on the transfer of
<a href="https://github.com/conda/conda-recipes" target="_blank" rel="noopener noreferrer">conda-recipes</a> and
<a href="https://github.com/ContinuumIO/anaconda-recipes" target="_blank" rel="noopener noreferrer">anaconda-recipes</a>
to conda-forge. These aren&#x27;t hard and fast rules, instead are open to reasonable
interpretation and reviewer&#x27;s judgement.</p>
<p>It is anticipated that almost all recipes from those repos shall be
proposed for addition here, though it may be decided that a few don&#x27;t
actually belong or should not be supported anymore.</p>
<p>While adding a package from either location, inspect the commit history
to see who had made changes to the recipe in the past. Anyone who has
touched the recipe should be pinged about it, so that they can be added here. They
should also be consulted with regards, if the recipe needs any
tweaks before being added. Also, they should be asked if they would
like to be added as maintainers. If they give their consent
to take up the role as a maintainer, only then they should be added in the maintainer list.</p>
<p>In all cases while porting a recipe, you should add yourself as a
maintainer. Some contributors to these repos might be quite prolific, but may
not be as actively engaged. If they specify they only want to be contacted
for certain recipes or none at all, please respect their wishes and add them too.
Make note of what recipes (if any) they would like to be notified for. If
they are no longer interested in any conda recipes, make that note here
as well. Before contacting anyone, please consult the list in this
<a href="https://github.com/conda-forge/staged-recipes/issues/139" target="_blank" rel="noopener noreferrer">issue</a>
to see if that contributor has restrictions.</p>
<p>While porting make sure the recipe follows the linting specifications.
The section order should go <code>package</code>, <code>source</code>, <code>build</code>,
<code>requirements</code>, <code>test</code>, <code>about</code>, <code>extra/recipe-maintainers</code>. It
is recommended to add a <code>build</code> section with the <code>number</code> set to
<code>0</code> explicitly even if the rest is unneeded. If there is no build for
Windows, make sure to add <code>skip: true  # [win]</code> to the <code>build</code>
section. The <code>about</code> section must have the <code>home</code> URL (verify if the
URL is still correct), <code>license</code> (verify if the correct license is present),
and a one sentence (or few words) <code>summary</code>. When specifying the version, it
is strongly recommended that jinja templating be used to set the version
at the top (e.g. <code>{% set version = &quot;0.10.1&quot; %}</code>) and then replace all
uses of the version with <code>{{ version }}</code>. Preference should be given to
compressed source balls as opposed to version control checkouts. Make sure
all links to compressed source balls allow for easy changing of the version
(using latest is not acceptable). Also, a checksum should be included with
all compressed source balls to allow for verification of downloads.</p>
<p>It is required to add tests with all packages. These can include, but are
not limited to, checking if libraries are installed, python imports, simple
code snippet to compile or run a basic test, command line usage (checking
help or version). It is suggested to get the compiled code to run all tests (e.g.
<code>make check</code>) to ensure it was built properly. This normally should
happen in the build.</p>
<p>It is possible, though not recommended, to include multiple recipes into a
single pull request on <a href="https://github.com/conda-forge/staged-recipes" target="_blank" rel="noopener noreferrer">staged-recipes</a>. <code>conda-build-all</code> is used to determine
the build order and the necessary build matrix (e.g. which python versions to
build against). From a practical perspective, there are limitations on the
continuous integration resources and also on what reviewers are able/willing
to review in a single pull request.
A large pull request with numerous recipes makes it more difficult to review.
If the recipes make it through these two constraints and are merged, race
conditions amongst the different feedstocks may require work by you and/or
core maintainers to restart them in such a way to build everything in a
suitable order.
None of this is to say that one can&#x27;t add multiple recipes in a single
pull request. One certainly can do this and it can work, but the
recommendation is to open a PR with one recipe first, and to ping
<strong>@conda-forge/core</strong> to ask for agreement about adding one or two additional
recipes.</p>
<p><a id="intended-usage"></a></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="intended-usage">Intended Usage<a href="#intended-usage" class="hash-link" aria-label="Direct link to Intended Usage" title="Direct link to Intended Usage">​</a></h2>
<p>Maintainers&#x27; time and CI resources are what enable conda-forge. They are just as scarce as valuable. conda-forge has enough capacity to support releasing packages, but not developing them.</p>
<p>Publishing a package to conda-forge signals it is suitable for users not involved with development. However, publishing does not always happen error-free. Multiple commits are acceptable when debugging issues with the release process itself.</p>
<p>Fortunately, there are options for optimizing the development of a package.</p>
<ul>
<li><a href="https://github.com/conda-forge/conda-smithy" target="_blank" rel="noopener noreferrer">conda-smithy</a> is a tool used by conda-forge itself to manage feedstocks. conda-smithy can be used to create an internal development feedstock that is separate from conda-forge.</li>
<li><a href="https://github.com/astropy/ci-helpers" target="_blank" rel="noopener noreferrer">ci-helpers</a> is a set of scripts that drive various CI services using environment variables.</li>
</ul>
<p><a id="renaming-packages"></a></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="renaming-packages">Renaming Packages<a href="#renaming-packages" class="hash-link" aria-label="Direct link to Renaming Packages" title="Direct link to Renaming Packages">​</a></h2>
<p>Sometimes, packages are misnamed.
To correct the name of the package, please submit a PR into <a href="https://github.com/conda-forge/staged-recipes" target="_blank" rel="noopener noreferrer">staged-recipes</a> with the correct name.
During the review process, please make certain to note that the package is renamed and contact a member of conda-forge/core to remove the old feedstock (and potentially package, if needed).</p>
<p>Occasionally, the .gitmodules file in the <a href="https://github.com/conda-forge/feedstocks/blob/master/.gitmodules" target="_blank" rel="noopener noreferrer">feedstocks</a> needs to be updated to remove the old feedstock.
It&#x27;s not entirely clear what those circumstances are.
See <a href="https://github.com/conda-forge/conda-forge.github.io/issues/1070" target="_blank" rel="noopener noreferrer">conda-forge.github.io#1070</a>.</p>
<p>If an existing feedstock has already created a package of the same name,
then you may need to add the new feedstock to the <a href="https://github.com/conda-forge/feedstock-outputs" target="_blank" rel="noopener noreferrer">feedstock-outputs</a> map.</p>
<p><a id="fix-broken-packages"></a></p>
<p><a id="fixing-broken-packages"></a></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="fixing-broken-packages">Fixing Broken Packages<a href="#fixing-broken-packages" class="hash-link" aria-label="Direct link to Fixing Broken Packages" title="Direct link to Fixing Broken Packages">​</a></h2>
<p>Sometimes, you need to remove a package from the <code>conda-forge</code> channel on Anaconda.org.
There can be many reasons for this, but the ones that immediately come to mind are:</p>
<ul>
<li>Incorrect pinnings or metadata</li>
<li>Packages being renamed</li>
<li>Broken package contents</li>
</ul>
<p>We prefer to not remove packages for the following reasons:</p>
<ol>
<li>Unaffected users are unable to get the broken package.</li>
<li>Unable to reverse (what if we were incorrect to remove it).</li>
<li>Loss of reproducibility (unable to create an old environment).</li>
<li>Not as community friendly (leaves no opportunity to review decision).</li>
<li>Blocks anyone from inspecting the broken packages.</li>
</ol>
<p>Instead, if possible, we prefer to take one of the following actions:</p>
<ol>
<li>If the only issue is in the package metadata, we can directly patch it using
the <a href="https://github.com/conda-forge/conda-forge-repodata-patches-feedstock" target="_blank" rel="noopener noreferrer">repo data patches feedstock</a>.
To change the repo data for your package, make a PR on the feedstock.</li>
<li>If the the package contents themselves are broken, we add an extra label <code>broken</code>
to the package. Packages with this extra label are removed from the repo data on the
<code>main</code> label. Thus they are not considered by the solver
but their binaries are still available on Anaconda.org. To get the <code>broken</code> label
added to your package, please refer to <a href="/docs/maintainer/updating_pkgs/#maint-fix-broken-packages">Removing broken packages</a>.</li>
</ol>
<p>Adding the <code>broken</code> label to a package is more destructive than patching the repo data
and thus we prefer repo data patches over labeling things as <code>broken</code>.</p>
<p><a id="becoming-a-maintainer"></a></p>
<p><a id="id1"></a></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="becoming-a-maintainer">Becoming a maintainer<a href="#becoming-a-maintainer" class="hash-link" aria-label="Direct link to Becoming a maintainer" title="Direct link to Becoming a maintainer">​</a></h2>
<p>conda-forge is a community project and it can therefore happen that feedstocks become temporarily abandoned.
You can join the maintainer team of a feedstock by adding your github-id to the <code>recipe-maintainers</code> section in the recipe&#x27;s <code>meta.yaml</code>.
Please refer to <a href="/docs/maintainer/updating_pkgs/#maint-updating-maintainers">Updating the maintainer list</a> for detailed instructions.</p>
<p><a id="language-versions"></a></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="language-versions">Language versions<a href="#language-versions" class="hash-link" aria-label="Direct link to Language versions" title="Direct link to Language versions">​</a></h2>
<p>conda-forge contains packages from a number of languages including Python and R, among many others.
Each of these language-specific packaging sub-ecosystems needs to keep cadence with the language itself, making it challenging to have a blanket policy for how long to keep older versions of the language around.
As it comes up, each group should be able to define their own policy on how long to keep older versions of their language around.</p>
<p><a id="python"></a></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="python">Python<a href="#python" class="hash-link" aria-label="Direct link to Python" title="Direct link to Python">​</a></h3>
<p>For the Python language, conda-forge aims to keep package builds active and available for the current version and at least two preceding minor versions.
Whenever Python 4.0 comes out we&#x27;ll need to figure out if this policy should change to support multiple versions of 3.x and 4.x simultaneously.
Fortunately, we can punt on that for now.
The question of when to decide to drop an older language version remains.
The guidance that we can provide here is two fold:</p>
<ol>
<li>We will move with the community.
When our core libraries stop supporting an old version, so too will conda forge.
The (nonexhaustive) list of core libraries that we consider when making the decision to drop an older version are:
<ul>
<li>matplotlib</li>
<li>numpy</li>
<li>scipy</li>
<li>pypy</li>
</ul>
</li>
<li>The core team can decide to keep an old version around temporarily until some specific criteria is met.
For example, we&#x27;re holding off on turning off py36 until pypy comes out with pypy3.7.</li>
<li>If there are lots of people in the community relying on older versions, core team can decide to keep an old version around.
For example, we held off turning off py27 even after numpy, scipy dropped support as there were many in the community interested in keeping support until the end of life of that version.</li>
</ol>
<p><a id="reviewer-guidelines"></a></p>
<p><a id="reviewing-recipes"></a></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="reviewing-recipes">Reviewing recipes<a href="#reviewing-recipes" class="hash-link" aria-label="Direct link to Reviewing recipes" title="Direct link to Reviewing recipes">​</a></h2>
<p>To add new packages to conda-forge, users can submit a PR to <code>staged-recipes</code> (see <a href="/docs/maintainer/adding_pkgs/#dev-contribute-pkgs">Contributing packages</a> for more details),
where it will undergo a series of automated checks and a code review.
Any conda-forge member can perform a code review, but the final merge can only be done by the <code>staged-recipes</code> or <code>core</code> teams.
The following sections suggest guidelines on how to perform a successful code review.
We distinguish between &quot;Required&quot; and &quot;Recommended&quot; as follows:</p>
<ul>
<li>Required: These guidelines are very important and a requisite for PR acceptance. Exceptions are rare and usually require <code>core</code> approval.</li>
<li>Recommended: These are considered &quot;nice to have&quot; features. Ideally, all recipes should abide by them, but exceptions are tolerated as long as justifiable reasons are provided.</li>
</ul>
<p><a id="generalities"></a></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="generalities">Generalities<a href="#generalities" class="hash-link" aria-label="Direct link to Generalities" title="Direct link to Generalities">​</a></h3>
<p>Required:</p>
<ol>
<li>All interactions in the review adhere to our <a href="/community/governance/#code-of-conduct">Code of Conduct</a>.</li>
<li><code>conda-forge-linter</code> <a href="https://github.com/conda-forge/conda-smithy/blob/main/conda_smithy/lint_recipe.py" target="_blank" rel="noopener noreferrer">checks</a> pass successfully.
Sometimes the linter will also suggest modifications considered optional (hints); even if recommended, these are not required to accept the submission.</li>
<li>The CI checks pass successfully in the required platforms. Exceptions:
<ul>
<li><code>noarch: python</code> can fail in platforms other than Linux (e.g. missing dependency). For non-noarch packages, the failing platform should be skipped via <code>skip: true  # [&lt;platform selector&gt;]</code></li>
<li>CI times out or runs out of storage because it tries to build all Python versions in the same job. As long as one version passes, that&#x27;s ok, since they will run individually in the resulting feedstock.</li>
</ul>
</li>
<li>The submission fulfills the <a href="https://github.com/conda-forge/staged-recipes/blob/main/.github/pull_request_template.md" target="_blank" rel="noopener noreferrer">pull request template checklist</a>.</li>
<li>The license has been correctly identified and allows redistribution.</li>
<li>The source should not contain vendored code. If it does:
<ul>
<li>Package the vendored project separately and specify the needed dependency in the <code>requirements</code> section. Preferred if the vendored code is needed at runtime.</li>
<li>Allow the vendored code, but make sure the license files are included in the <code>about.license</code> field. Usually ok if it&#x27;s only a build-time dependency (e.g. headers-only library)</li>
</ul>
</li>
</ol>
<p>Recommended:</p>
<ol>
<li>Source should be obtained from a URL that provides a stable tarball (same SHA over time).
Git or other SVC repositories should only be used as a last resort.</li>
<li>Host requirements contained in the <a href="/docs/maintainer/pinning_deps/#pinned-deps">conda-forge pinnings</a> should be <em>name-only</em>; i.e. they do not specify a separate version.</li>
<li>Runtime requirements are not pinned too strictly without justification.
Thanks to repodata patches, we can afford to be optimistic about lower or upper bounds instead of single-version pins: <code>&gt;=1.4.2,&lt;1.5</code> is better than <code>==1.4.2</code>.</li>
<li>The package should place its files under standard locations (e.g. executables under <code>$PREFIX/bin</code>), unless justification is provided.</li>
</ol>
<p><a id="python-specific-details"></a></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="python-specific-details">Python-specific details<a href="#python-specific-details" class="hash-link" aria-label="Direct link to Python-specific details" title="Direct link to Python-specific details">​</a></h3>
<p>Required:</p>
<ol>
<li><code>noarch: python</code> packages fulfill the <a href="/docs/maintainer/knowledge_base/#noarch">required criteria</a> to be considered as such.</li>
</ol>
<p>Recommended:</p>
<ol>
<li>The package does not accidentally include a <code>tests</code> (also <code>test</code>, <code>_tests</code>, or similar) top-level package.
The list of files is usually printed by <code>pip install</code> after the <code>adding license file</code> message.
If this happens, upstream should modify their <code>setuptools.find_packages()</code> usage accordingly.
Alternatively, a patch can be applied. See <a href="https://github.com/conda-forge/staged-recipes/pull/19166/commits/0284fc6da273031a4f93a1fea4533822cd4b385d" target="_blank" rel="noopener noreferrer">example</a>.</li>
<li>The modules checked by <code>test.imports</code> are not empty (this can happen with placeholder <code>__init__.py</code> files in top-level packages).</li>
<li>The versions reported by <code>pip list</code> and <code>conda build</code> logs match.</li>
<li><code>pip check</code> passes. See <a href="/docs/maintainer/adding_pkgs/#pip-check">pip check</a> for more details.</li>
<li>If a project can be considered <code>noarch</code> (see <a href="/docs/maintainer/knowledge_base/#noarch">criteria</a>), it should be packaged as such.</li>
</ol>
<p><a id="compiled-objects"></a></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="compiled-objects">Compiled objects<a href="#compiled-objects" class="hash-link" aria-label="Direct link to Compiled objects" title="Direct link to Compiled objects">​</a></h3>
<p>Required:</p>
<ol>
<li>The source does not include compiled files.
In principle, all compiled objects need to be generated in the CI, from source.
Exceptions to this rule (e.g. binary repackaging) need to be approved explicitly.</li>
</ol>
<p>Recommended:</p>
<ol>
<li>SONAMEs follow naming recommendations given by upstream.</li>
<li>If ABI compatibility is important for the package, <code>run_exports</code> are set accordingly.
See <a href="/docs/maintainer/pinning_deps/#pinned-deps">Pinned dependencies</a> and the <a href="https://docs.conda.io/projects/conda-build/en/stable/resources/define-metadata.html#export-runtime-requirements" target="_blank" rel="noopener noreferrer">conda-build docs</a> for more information.</li>
</ol></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/conda-forge/conda-forge.github.io/tree/refs/heads/main/docs/maintainer/guidelines.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2025-01-23T12:29:09.000Z" itemprop="dateModified">Jan 23, 2025</time></b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/maintainer/infrastructure/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Infrastructure</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/maintainer/adding_pkgs/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Contributing packages</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#transferring-to-conda-forge" class="table-of-contents__link toc-highlight">Transferring to conda-forge</a></li><li><a href="#intended-usage" class="table-of-contents__link toc-highlight">Intended Usage</a></li><li><a href="#renaming-packages" class="table-of-contents__link toc-highlight">Renaming Packages</a></li><li><a href="#fixing-broken-packages" class="table-of-contents__link toc-highlight">Fixing Broken Packages</a></li><li><a href="#becoming-a-maintainer" class="table-of-contents__link toc-highlight">Becoming a maintainer</a></li><li><a href="#language-versions" class="table-of-contents__link toc-highlight">Language versions</a><ul><li><a href="#python" class="table-of-contents__link toc-highlight">Python</a></li></ul></li><li><a href="#reviewing-recipes" class="table-of-contents__link toc-highlight">Reviewing recipes</a><ul><li><a href="#generalities" class="table-of-contents__link toc-highlight">Generalities</a></li><li><a href="#python-specific-details" class="table-of-contents__link toc-highlight">Python-specific details</a></li><li><a href="#compiled-objects" class="table-of-contents__link toc-highlight">Compiled objects</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/">Getting started</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/user/">User docs</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/maintainer/">Maintainer docs</a></li><li class="footer__item"><a class="footer__link-item" href="/community/cfep/">CFEPs</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/community/">About conda-forge</a></li><li class="footer__item"><a class="footer__link-item" href="/community/governance/">Governance</a></li><li class="footer__item"><a class="footer__link-item" href="/community/minutes/">Meeting minutes</a></li><li class="footer__item"><a class="footer__link-item" href="/community/getting-in-touch/">Get in touch</a></li></ul></div><div class="col footer__col"><div class="footer__title">Stay up-to-date</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/news/archive/">News</a></li><li class="footer__item"><a class="footer__link-item" href="/blog/archive/">Blog</a></li><li class="footer__item"><a class="footer__link-item" href="/status/">Status</a></li><li class="footer__item"><a href="https://twitter.com/condaforge" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Resources</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/status/">Status</a></li><li class="footer__item"><a class="footer__link-item" href="/style-guide/">Style guide</a></li><li class="footer__item"><a href="https://github.com/conda-forge" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://conda-forge.zulipchat.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Zulip<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://conda.discourse.group/c/pkg-building/conda-forge/25" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discourse<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/conda-forge" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 conda-forge · Built with Docusaurus</div></div></div></footer></div>
</body>
</html>