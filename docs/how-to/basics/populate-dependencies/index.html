<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-how-to/basics/populate-dependencies" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">How to populate package dependencies | conda-forge | community-driven packaging for conda</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://conda-forge.org/docs/how-to/basics/populate-dependencies/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="How to populate package dependencies | conda-forge | community-driven packaging for conda"><meta data-rh="true" name="description" content="Perhaps one of the hardest tasks of package maintenance is ensuring that the recipe specifies"><meta data-rh="true" property="og:description" content="Perhaps one of the hardest tasks of package maintenance is ensuring that the recipe specifies"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://conda-forge.org/docs/how-to/basics/populate-dependencies/"><link data-rh="true" rel="alternate" href="https://conda-forge.org/docs/how-to/basics/populate-dependencies/" hreflang="en"><link data-rh="true" rel="alternate" href="https://conda-forge.org/docs/how-to/basics/populate-dependencies/" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://KB43FQOB7U-dsn.algolia.net" crossorigin="anonymous"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"How-to guides","item":"https://conda-forge.org/docs/how-to/"},{"@type":"ListItem","position":2,"name":"Basics","item":"https://conda-forge.org/docs/how-to/basics"},{"@type":"ListItem","position":3,"name":"Populate package dependencies","item":"https://conda-forge.org/docs/how-to/basics/populate-dependencies"}]}</script><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="conda-forge | community-driven packaging for conda RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="conda-forge | community-driven packaging for conda Atom Feed">




<link rel="search" type="application/opensearchdescription+xml" title="conda-forge | community-driven packaging for conda" href="/opensearch.xml">

<link rel="alternate" type="application/rss+xml" href="/news/rss.xml" title="conda-forge | community-driven packaging for conda RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/news/atom.xml" title="conda-forge | community-driven packaging for conda Atom Feed">


<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css">
<script src="/js/count.js" defer="defer" data-goatcounter="https://conda-forge.goatcounter.com/count"></script><link rel="stylesheet" href="/assets/css/styles.57813d0e.css">
<script src="/assets/js/runtime~main.3da45a0d.js" defer="defer"></script>
<script src="/assets/js/main.88ecd874.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"light"),document.documentElement.setAttribute("data-theme-choice",t||"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/img/logo.png"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.png" alt="conda-forge anvil logo without text" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.png" alt="conda-forge anvil logo without text" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">Docs</a><a class="navbar__item navbar__link" href="/community/">Community</a><a class="navbar__item navbar__link" href="/news/">News</a><a class="navbar__item navbar__link" href="/blog/">Blog</a><a class="navbar__item navbar__link" href="/status/">Status</a><a class="navbar__item navbar__link" href="/packages/">Packages</a><a class="navbar__item navbar__link" href="/download/">Download</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://opencollective.com/conda-forge" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Donate<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><a href="https://github.com/conda-forge" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link fab fa-lg fa-github" title="GitHub"></a><a href="https://conda-forge.zulipchat.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link fa-solid fa-comments" title="Zulip"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Meta+k)" aria-keyshortcuts="Meta+k"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 24 24" aria-hidden="true"><circle cx="11" cy="11" r="8" stroke="currentColor" fill="none" stroke-width="1.4"></circle><path d="m21 21-4.3-4.3" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/diataxis/"><span title="Reorganized documentation" class="linkLabel_WmDU">Reorganized documentation</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/user/introduction/"><span title="End-user guide" class="categoryLinkLabel_W154">End-user guide</span></a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menuHtmlItem_M9Kj menu__list-item"><span>For maintainers:</span></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/docs/tutorials/"><span title="Tutorials" class="categoryLinkLabel_W154">Tutorials</span></a><button aria-label="Expand sidebar category &#x27;Tutorials&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" href="/docs/how-to/"><span title="How-to guides" class="categoryLinkLabel_W154">How-to guides</span></a><button aria-label="Collapse sidebar category &#x27;How-to guides&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" tabindex="0" href="/docs/how-to/basics/"><span title="Basics" class="categoryLinkLabel_W154">Basics</span></a><button aria-label="Collapse sidebar category &#x27;Basics&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/how-to/basics/rerender/"><span title="Rerender a feedstock" class="linkLabel_WmDU">Rerender a feedstock</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/how-to/basics/fork-sync/"><span title="Keep your fork in sync" class="linkLabel_WmDU">Keep your fork in sync</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/how-to/basics/populate-dependencies/"><span title="Populate package dependencies" class="linkLabel_WmDU">Populate package dependencies</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs/how-to/advanced/"><span title="Advanced" class="categoryLinkLabel_W154">Advanced</span></a><button aria-label="Expand sidebar category &#x27;Advanced&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs/how-to/emergencies/"><span title="Emergencies" class="categoryLinkLabel_W154">Emergencies</span></a><button aria-label="Expand sidebar category &#x27;Emergencies&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/maintainer/understanding_conda_forge/life_cycle/"><span title="Understanding conda-forge" class="categoryLinkLabel_W154">Understanding conda-forge</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/maintainer/infrastructure/"><span title="Reference" class="categoryLinkLabel_W154">Reference</span></a></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/docs/how-to/"><span>How-to guides</span></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/docs/how-to/basics/"><span>Basics</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Populate package dependencies</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>How to populate package dependencies</h1></header>
<p>Perhaps one of the hardest tasks of package maintenance is ensuring that the recipe specifies
correct dependencies. Missing or incorrect dependencies can have various consequences, such as build
failures, runtime errors, missing features or loss of performance. On the other hand, extraneous
dependencies can unnecessarily increase build time, disk space and bandwidth usage, and in extreme
cases cause dependency conflicts. This guide aims to provide both generic hints, and specific
instructions on how to determine the correct dependencies to list in your recipe.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="generic-instructions">Generic instructions<a href="#generic-instructions" class="hash-link" aria-label="Direct link to Generic instructions" title="Direct link to Generic instructions" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="where-to-find-dependencies">Where to find dependencies?<a href="#where-to-find-dependencies" class="hash-link" aria-label="Direct link to Where to find dependencies?" title="Direct link to Where to find dependencies?" translate="no">​</a></h3>
<p>Unfortunately, there is no single standard for declaring package dependencies. This section provides
a generic set of guidelines for any package or project; the remaining sections in this document
provide specific guidelines for particular build systems and programming language. A few good ways
to look for dependency information are:</p>
<ul>
<li class="">Look through upstream build system files. A few of these are illustrated in the subsequent
sections.</li>
<li class="">Look through upstream documentation. Many projects include sections on building, with detailed
explanations where to find dependencies.</li>
<li class="">Look at the recipes used by other distributions. <a href="https://repology.org/" target="_blank" rel="noopener noreferrer" class="">Repology</a> can be helpful
in locating these. However, note that they may not be up-to-date.</li>
<li class="">If the package is installing binaries, look at the libraries they link to. This is described in
detail in <a href="#checking-binary-linkage" class="">checking binary linkage</a> section.</li>
<li class="">Look at the Continuous Integration and Continuous Deployment workflows. They can often provide hints
at how upstream installs dependencies.</li>
<li class="">As a last resort, in some cases you can resort to checking the source code. There are tools that
can help with this, e.g. <a href="https://pypi.org/project/findimports/" target="_blank" rel="noopener noreferrer" class="">findimports</a> for Python.</li>
</ul>
<p>Once you determine the dependency list, you need to map the dependencies into conda-forge packages.
<a href="https://conda-metadata-app.streamlit.app/?q=conda-forge" target="_blank" rel="noopener noreferrer" class="">Conda metadata browser</a> can be quite
helpful in that. Note that some upstream packages may be split into multiple packages in
conda-forge, and others may be merged into a single package. <a href="https://conda-metadata-app.streamlit.app/Search_by_file_path" target="_blank" rel="noopener noreferrer" class="">Search for specific
files</a>, and consult
feedstock documentation when in doubt.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="final-dependency-lists">Final dependency lists<a href="#final-dependency-lists" class="hash-link" aria-label="Direct link to Final dependency lists" title="Direct link to Final dependency lists" translate="no">​</a></h3>
<p>The dependency lists specified in recipe files provide only the initial lists of <code>host</code> and <code>run</code>
dependencies. When packages are built, the tooling includes additional dependencies from run exports
of <code>build</code> and <code>host</code> dependencies. To verify the final dependency list, either open the built
package or consult the build logs.</p>
<p>For example, to inspect the <code>run</code> dependencies of a <code>libgit2</code> package:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">unzip</span><span class="token plain"> libgit2-1.9.2-hc20babb_0.conda</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">tar</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">-xf</span><span class="token plain"> info-libgit2-1.9.2-hc20babb_0.tar.zst</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># &quot;depends&quot; in index.json are run dependencies</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token variable" style="color:#36acaa">${EDITOR}</span><span class="token plain"> info/index.json</span><br></span></code></pre></div></div>
<p>When building recipes, both conda-build and rattler-build output finalized run dependencies, e.g.:</p>
<div class="theme-tabs-container tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">conda-build</li><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">rattler-build</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">  run:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    - libstdcxx &gt;=14</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    - libzlib &gt;=1.3.1,&lt;2.0a0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    - openssl &gt;=3.5.5,&lt;4.0a0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    - libgcc &gt;=14</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    - pcre2 &gt;=10.47,&lt;10.48.0a0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    - libssh2 &gt;=1.11.1,&lt;2.0a0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    - __glibc &gt;=2.17,&lt;3.0.a0</span><br></span></code></pre></div></div></div><div role="tabpanel" class="tabItem_Ymn6"><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> │ │ Finalized run dependencies (libgit2-1.9.2-hc20babb_0):</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> │ │ ╭────────────────────┬──────────────────────────────────────────────────╮</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> │ │ │ Name               ┆ Spec                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> │ │ ╞════════════════════╪══════════════════════════════════════════════════╡</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> │ │ │ Run dependencies   ┆                                                  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> │ │ │ __glibc            ┆ &gt;=2.17,&lt;3.0.a0 (RE of [build: sysroot_linux-64]) │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> │ │ │ libgcc             ┆ &gt;=14 (RE of [build: gxx_linux-64])               │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> │ │ │                    ┆ &gt;=14 (RE of [build: gcc_linux-64])               │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> │ │ │ libssh2            ┆ &gt;=1.11.1,&lt;2.0a0 (RE of [host: libssh2])          │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> │ │ │ libstdcxx          ┆ &gt;=14 (RE of [build: gxx_linux-64])               │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> │ │ │ libzlib            ┆ &gt;=1.3.1,&lt;2.0a0 (RE of [host: zlib])              │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> │ │ │ openssl            ┆ &gt;=3.5.4,&lt;4.0a0 (RE of [host: openssl])           │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> │ │ │ pcre2              ┆ &gt;=10.47,&lt;10.48.0a0 (RE of [host: pcre2])         │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> │ │ │                    ┆                                                  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> │ │ │ Run exports (Weak) ┆                                                  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> │ │ │ libgit2            ┆ &gt;=1.9.2,&lt;1.10.0a0                                │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> │ │ ╰────────────────────┴──────────────────────────────────────────────────╯</span><br></span></code></pre></div></div></div></div></div>
<p>Rattler-build additionally indicates their sources: in the output, &quot;RE&quot; stands for &quot;run export&quot;.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="checking-binary-linkage">Checking binary linkage<a href="#checking-binary-linkage" class="hash-link" aria-label="Direct link to Checking binary linkage" title="Direct link to Checking binary linkage" translate="no">​</a></h3>
<p>When compiled binaries link against shared libraries, the list of these dependencies can be read
from these binaries themselves. Conda-build and rattler-build do this automatically, and map the
dependent libraries into packages. For example, for <code>libgit2</code> on Linux:</p>
<div class="theme-tabs-container tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">conda-build</li><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">rattler-build</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">   INFO (libgit2,lib/libgit2.so.1.9.2): Needed DSO lib/libssl.so.3 found in conda-forge/linux-64::openssl==3.5.5=h35e630c_1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   INFO (libgit2,lib/libgit2.so.1.9.2): Needed DSO lib/libcrypto.so.3 found in conda-forge/linux-64::openssl==3.5.5=h35e630c_1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   INFO (libgit2,lib/libgit2.so.1.9.2): Needed DSO lib/libpcre2-8.so.0 found in conda-forge/linux-64::pcre2==10.47=haa7fec5_0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   INFO (libgit2,lib/libgit2.so.1.9.2): Needed DSO lib/libssh2.so.1 found in conda-forge/linux-64::libssh2==1.11.1=hcf80075_0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   INFO (libgit2,lib/libgit2.so.1.9.2): Needed DSO lib/libz.so.1 found in conda-forge/linux-64::libzlib==1.3.1=hb9d3cd8_2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   INFO (libgit2,lib/libgit2.so.1.9.2): Needed DSO x86_64-conda-linux-gnu/sysroot/lib64/librt.so.1 found in CDT/compiler package conda-forge/noarch::sysroot_linux-64==2.17=h0157908_18</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   INFO (libgit2,lib/libgit2.so.1.9.2): Needed DSO x86_64-conda-linux-gnu/sysroot/lib64/libpthread.so.0 found in CDT/compiler package conda-forge/noarch::sysroot_linux-64==2.17=h0157908_18</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   INFO (libgit2,lib/libgit2.so.1.9.2): Needed DSO x86_64-conda-linux-gnu/sysroot/lib64/libc.so.6 found in CDT/compiler package conda-forge/noarch::sysroot_linux-64==2.17=h0157908_18</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   INFO (libgit2,bin/git2): Needed DSO lib/libssl.so.3 found in conda-forge/linux-64::openssl==3.5.5=h35e630c_1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   INFO (libgit2,bin/git2): Needed DSO lib/libcrypto.so.3 found in conda-forge/linux-64::openssl==3.5.5=h35e630c_1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   INFO (libgit2,bin/git2): Needed DSO lib/libpcre2-8.so.0 found in conda-forge/linux-64::pcre2==10.47=haa7fec5_0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   INFO (libgit2,bin/git2): Needed DSO lib/libssh2.so.1 found in conda-forge/linux-64::libssh2==1.11.1=hcf80075_0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   INFO (libgit2,bin/git2): Needed DSO lib/libz.so.1 found in conda-forge/linux-64::libzlib==1.3.1=hb9d3cd8_2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   INFO (libgit2,bin/git2): Needed DSO x86_64-conda-linux-gnu/sysroot/lib64/librt.so.1 found in CDT/compiler package conda-forge/noarch::sysroot_linux-64==2.17=h0157908_18</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   INFO (libgit2,bin/git2): Needed DSO x86_64-conda-linux-gnu/sysroot/lib64/libpthread.so.0 found in CDT/compiler package conda-forge/noarch::sysroot_linux-64==2.17=h0157908_18</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   INFO (libgit2,bin/git2): Needed DSO x86_64-conda-linux-gnu/sysroot/lib64/libc.so.6 found in CDT/compiler package conda-forge/noarch::sysroot_linux-64==2.17=h0157908_18</span><br></span></code></pre></div></div></div><div role="tabpanel" class="tabItem_Ymn6"><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> │ │ [lib/libgit2.so.1.9.2] links against:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> │ │  ├─ lib/libpcre2-8.so.0.15.0 (pcre2)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> │ │  ├─ libc.so.6 (system)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> │ │  ├─ lib/libssl.so.3 (openssl)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> │ │  ├─ lib/libssh2.so.1.0.1 (libssh2)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> │ │  ├─ lib/libz.so.1.3.1 (libzlib)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> │ │  ├─ librt.so.1 (system)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> │ │  ├─ lib/libcrypto.so.3 (openssl)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> │ │  └─ libpthread.so.0 (system)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> │ │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> │ │ [bin/git2] links against:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> │ │  ├─ libpthread.so.0 (system)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> │ │  ├─ lib/libssh2.so.1.0.1 (libssh2)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> │ │  ├─ lib/libpcre2-8.so.0.15.0 (pcre2)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> │ │  ├─ lib/libssl.so.3 (openssl)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> │ │  ├─ lib/libz.so.1.3.1 (libzlib)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> │ │  ├─ librt.so.1 (system)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> │ │  ├─ lib/libcrypto.so.3 (openssl)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> │ │  └─ libc.so.6 (system)</span><br></span></code></pre></div></div></div></div></div>
<p>These results can be used to verify the final <code>run</code> dependency lists. In particular, they may be
helpful in noticing unnecessary dependencies or missing run exports. However, note that they will
not be able to detect dependencies that were missing at build time.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="dealing-with-extraneous-run-exports">Dealing with extraneous run exports<a href="#dealing-with-extraneous-run-exports" class="hash-link" aria-label="Direct link to Dealing with extraneous run exports" title="Direct link to Dealing with extraneous run exports" translate="no">​</a></h3>
<p>In some cases, you&#x27;re going to notice that the final <code>run</code> dependencies of a package contains
dependencies that are only used at build time, and are not found in the linkage report. <code>gtest</code> is a
common example. To avoid that, you need to ignore the run exports from the package:</p>
<div class="theme-tabs-container tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">v0 (meta.yaml)</li><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">v1 (recipe.yaml)</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">build</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">ignore_run_exports_from</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> gtest</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">requirements</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">host</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> gtest</span><br></span></code></pre></div></div></div><div role="tabpanel" class="tabItem_Ymn6"><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">requirements</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">host</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> gtest</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">ignore_run_exports</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">from_package</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> gtest</span><br></span></code></pre></div></div></div></div></div>
<p>It is also possible to ignore specific run exports by dependency name, rather than all exports from
a package:</p>
<div class="theme-tabs-container tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">v0 (meta.yaml)</li><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">v1 (recipe.yaml)</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">build</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">ignore_run_exports</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># &#x27;vs2022_win-64&#x27; run-exports [&#x27;ucrt&#x27;, &#x27;vc&#x27;, &#x27;vc14_runtime&#x27;]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># we want to ignore everything but &#x27;vc&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> ucrt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> vc14_runtime</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">requirements</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">build</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> $</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> compiler(&#x27;cxx&#x27;) </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> $</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> stdlib(&quot;c&quot;) </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div></div><div role="tabpanel" class="tabItem_Ymn6"><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">requirements</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">build</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> $</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> compiler(&#x27;cxx&#x27;) </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> $</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> stdlib(&quot;c&quot;) </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">ignore_run_exports</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">by_name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic"># &#x27;vs2022_win-64&#x27; run-exports [&#x27;ucrt&#x27;, &#x27;vc&#x27;, &#x27;vc14_runtime&#x27;]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic"># we want to ignore everything but &#x27;vc&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> ucrt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> vc14_runtime</span><br></span></code></pre></div></div></div></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="general-purpose-build-systems">General-purpose build systems<a href="#general-purpose-build-systems" class="hash-link" aria-label="Direct link to General-purpose build systems" title="Direct link to General-purpose build systems" translate="no">​</a></h2>
<p>This section is focused on build systems that are not limited to a specific ecosystem, but include
support for multiple programming languages.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="cmake">CMake<a href="#cmake" class="hash-link" aria-label="Direct link to CMake" title="Direct link to CMake" translate="no">​</a></h3>
<p><a href="https://cmake.org/" target="_blank" rel="noopener noreferrer" class="">CMake</a> is a build system focused on building C++ code. Dependency checks are
primarily done in top-level <code>CMakeLists.txt</code> file, but projects often intersperse them with actual
build rules and spread across multiple <code>CMakeLists.txt</code> files in a project tree, and sometimes
other <code>*.cmake</code> files included from these.</p>
<p>The primary dependency lookup method is the <code>find_package()</code> function. It can use either CMake files
installed by the projects themselves, included in the CMake distribution or along with the build
system in question. Other frequently used functions include:</p>
<ul>
<li class=""><code>pkg_check_modules()</code> to search for pkg-config packages</li>
<li class=""><code>find_path()</code> to search for include files</li>
<li class=""><code>find_library()</code> to search for libraries</li>
<li class=""><code>find_program()</code> to search for programs (usually indicating a <code>build</code> dependency)</li>
</ul>
<p>For example:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">FIND_PACKAGE(ZLIB 1.2.1)</span><br></span></code></pre></div></div>
<p>checks for <code>zlib</code> 1.2.1 or newer, whereas:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">FIND_PATH(LZO2_INCLUDE_DIR lzo/lzoconf.h)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">FIND_LIBRARY(LZO2_LIBRARY NAMES lzo2 liblzo2)</span><br></span></code></pre></div></div>
<p>searches for <code>lzo/lzoconf.h</code> and <code>lzo2</code> library, corresponding to the <code>lzo</code> package.</p>
<p>Note that CMake function calls are case-insensitive.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="meson">Meson<a href="#meson" class="hash-link" aria-label="Direct link to Meson" title="Direct link to Meson" translate="no">​</a></h3>
<p><a href="https://mesonbuild.com/" target="_blank" rel="noopener noreferrer" class="">Meson</a> is a general-purpose build system. Dependency checks are primarily
done in top-level <code>meson.build</code> file, though they can also be interspersed with build rules and
spread across different <code>meson.build</code> files across the source tree.</p>
<p>The primary dependency lookup method is the <code>dependency()</code> function. It can use either pkg-config,
CMake files or built-in rules provided in Meson itself. Other frequently used methods include:</p>
<ul>
<li class=""><code>.has_header()</code> method of a compiler object, to search for header files</li>
<li class=""><code>.find_library()</code> method of a compiler object, to search for libraries</li>
<li class=""><code>find_program()</code> function to search for programs (usually indicating a <code>build</code> dependency)</li>
</ul>
<p>For example:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">libcrypt </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> dependency</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;libcrypt&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;libxcrypt&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> required </span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> false</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>indicates an optional dependency, accepting either <code>libcrypt</code> (system library, using built-in Meson
rule) or <code>libxcrypt</code> (via <code>libxcrypt.pc</code>, provided by <code>libxcrypt</code> package), whereas:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">libbzip2 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> cc</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">find_library</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;bz2&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> required </span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> get_option</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;bzip2&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>search for <code>bz2</code> library, provided by <code>bzip2</code> package.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="gnu-autoconf">GNU autoconf<a href="#gnu-autoconf" class="hash-link" aria-label="Direct link to GNU autoconf" title="Direct link to GNU autoconf" translate="no">​</a></h3>
<p><a href="https://www.gnu.org/software/autoconf/" target="_blank" rel="noopener noreferrer" class="">Autoconf</a> is a macro-based generator for <code>configure</code>
scripts. As these scripts are often used to find package&#x27;s dependencies, they often serve as a good
starting point for checking dependencies. The input file is called <code>configure.ac</code> (or <code>configure.in</code>
in very old scripts).</p>
<p>Unfortunately, the methods used to check for dependencies can vary a lot, and in some cases the
checks could be deferred to separate <code>.m4</code> files. However, common macros to look for are:</p>
<ul>
<li class=""><code>PKG_CHECK_MODULES</code> to search for pkg-config packages</li>
<li class=""><code>AC_CHECK_HEADER</code> and <code>AC_CHECK_HEADERS</code> to search for include files</li>
<li class=""><code>AC_CHECK_LIB</code> and <code>AC_SEARCH_LIBS</code> to search for libraries</li>
<li class=""><code>AC_CHECK_PROG</code>, <code>AC_PATH_PROG</code> and similar, to search for programs (usually indicating a <code>build</code>
dependency)</li>
</ul>
<p>For example:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">PKG_CHECK_MODULES(LIBXML2_PC, [libxml-2.0])</span><br></span></code></pre></div></div>
<p>indicates a dependency on <code>libxml-2.0.pc</code> file, provided by <code>libxml2</code>, whereas:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">AC_CHECK_LIB(bz2, BZ2_bzDecompressInit)</span><br></span></code></pre></div></div>
<p>check for <code>bz2</code> library (e.g. <code>libbz2.so</code>), provided by <code>bzip2</code>.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="python">Python<a href="#python" class="hash-link" aria-label="Direct link to Python" title="Direct link to Python" translate="no">​</a></h2>
<p>Python packages generally function within the <a href="https://pypi.org" target="_blank" rel="noopener noreferrer" class="">PyPI</a> ecosystem, and declare their
dependencies against other packages on PyPI, using metadata specified in the next subsection. These
packages are usually added to conda-forge using the same names as on PyPI, but there are many
exceptions, either due to name collisions or explicit renames (for example, the PyPI package <code>torch</code>
corresponds to <code>pytorch</code> in conda-forge).</p>
<p>The final package metadata can be found in wheels and source distributions, but it does not cover
build-time dependencies. Therefore, you will generally prefer to look at the other project files,
notably:</p>
<ol>
<li class=""><code>pyproject.toml</code> file that is used to declare the build system, build-time dependencies and often
project metadata.</li>
<li class=""><code>setup.cfg</code> and <code>setup.py</code> files in projects using the <code>setuptools</code> build system.</li>
<li class="">Various <code>requirements*.txt</code> and similar files, listing custom dependency groups.</li>
</ol>
<p>These files are illustrated in greater detail in the subsequent sections.</p>
<p>Python packages can also have dependencies on non-Python packages. The standardized approach to declaring them
is currently worked on as <a href="https://peps.python.org/pep-0725/" target="_blank" rel="noopener noreferrer" class="">PEP 725</a>. In some cases,
general purpose build are used, as explained in the earlier sections, in which case the external dependencies
can be obtained from the build system files. In other cases, such dependencies are listed in custom
requirement list files or the documentation.</p>
<p>Furthermore, sometimes external dependencies are additionally
packaged on PyPI (for example, <code>cmake</code> and <code>ninja</code> are).</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="package-metadata">Package metadata<a href="#package-metadata" class="hash-link" aria-label="Direct link to Package metadata" title="Direct link to Package metadata" translate="no">​</a></h3>
<p>The primary source of dependency information for Python packages is the generated dependency
metadata. It can be found in the built wheels, in the <code>*.dist-info/METADATA</code> file, and in source
distributions as the <code>PKG-INFO</code> file. The relevant entries are <code>Requires-Dist</code>. For example, the
following entries:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Requires-Dist: tomli; python_version &lt; &quot;3.11&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Requires-Dist: tomli-w</span><br></span></code></pre></div></div>
<p>indicate that <code>tomli</code> package is required for Python 3.10 and older, and <code>tomli-w</code> is required
unconditionally.</p>
<p>Note that package metadata includes only runtime (<code>run</code>) dependencies and not build-time (<code>build</code>, <code>host</code>)
dependencies. Optional dependencies (&quot;extras&quot;) are listed as well, and they are decorated with an <code>extra</code>
environment marker, for example:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Requires-Dist: redis&gt;=3.0.0; extra == &quot;cache&quot;</span><br></span></code></pre></div></div>
<p>indicates that the <code>cache</code> extra requires <code>redis</code> package, no older than 3.0.0.</p>
<p>Additionally, the <code>Requires-Python</code> entry indicates constraints on the Python version supported.
These should be transferred to the <code>python</code> dependency in the <code>host</code> section:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Requires-Python: &gt;=3.10</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="pyprojecttoml">pyproject.toml<a href="#pyprojecttoml" class="hash-link" aria-label="Direct link to pyproject.toml" title="Direct link to pyproject.toml" translate="no">​</a></h3>
<p>Modern Python packages specify their metadata in a <code>pyproject.toml</code> file in their source
distribution and repositories. The standardized format is specified in <a href="https://packaging.python.org/en/latest/specifications/pyproject-toml/" target="_blank" rel="noopener noreferrer" class="">pyproject.toml
specification</a>, though some
packages may be using older build systems that use custom metadata format (Flit &lt;3.1, Poetry
&lt;2). Some packages may also be using <code>pyproject.toml</code> to declare other metadata, while keeping
project metadata elsewhere.</p>
<p>In <code>pyproject.toml</code>:</p>
<ul>
<li class="">Build-time (<code>host</code>) dependencies are listed in <code>build-system.requires</code> table. Note that some
dependencies may be extraneous, in particular <code>wheel</code> is almost always unnecessary.</li>
<li class="">Runtime (<code>run</code>) dependencies are listed in <code>project.dependencies</code>.</li>
<li class="">Optional (&quot;extra&quot;) runtime dependencies are listed in <code>project.optional-dependencies</code> table.</li>
<li class="">Additional dependencies may also be listed in <code>dependency-groups</code>, per the <a href="https://packaging.python.org/en/latest/specifications/dependency-groups/" target="_blank" rel="noopener noreferrer" class="">Dependency
Groups</a> specification.</li>
<li class="">Python version constraints are listed in <code>requires-python</code> key.</li>
</ul>
<p>Test dependencies are often listed either as an &quot;extra&quot; or a dependency group.</p>
<p>For example:</p>
<div class="language-toml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-toml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[build-system]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">requires = [&quot;setuptools&quot;, &quot;wheel&quot;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">build-backend = &quot;setuptools.build_meta&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[project]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dependencies = [&quot;lxml&quot;, &quot;beautifulsoup4&quot;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">requires-python = &quot;&gt;=3.10&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[project.optional-dependencies]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cache = [&quot;redis&gt;=3.0.0&quot;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[dependency-groups]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">test = [&quot;pytest&gt;7&quot;]</span><br></span></code></pre></div></div>
<p>This corresponds to <code>host</code> dependency on <code>setuptools</code> (note unnecessary <code>wheel</code> dependency), <code>run</code>
dependencies on <code>lxml</code> and <code>beautifulsoup4</code>, and possibly <code>run</code> dependency on <code>redis&gt;=3.0.0</code> if the
optional dependency is desired. Tests additionally require <code>pytest&gt;7</code>. Python is constrained to
version <code>&gt;=3.10</code>.</p>
<p>In some cases, <code>dependencies</code> may be listed under the <code>dynamic</code> key instead. For example, the
following snippet indicates that the dependencies are not listed directly in the <code>[project]</code> table
but instead are defined in the build backend-specific manner (for <code>setuptools</code>, this usually means
<code>setup.py</code>):</p>
<div class="language-toml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-toml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[project]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dynamic = [&quot;dependencies&quot;]</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="setupcfg-and-setuppy">setup.cfg and setup.py<a href="#setupcfg-and-setuppy" class="hash-link" aria-label="Direct link to setup.cfg and setup.py" title="Direct link to setup.cfg and setup.py" translate="no">​</a></h3>
<p>Some projects using the setuptools build system may be declaring dependencies in <code>setup.cfg</code> and/or
<code>setup.py</code> files instead. The former uses a special format based on <code>configparser</code>, with
dependency-related keys in the <code>[options]</code> section. The latter is a Python script, and
dependency-related options are passed as keyword arguments to <code>setuptools.setup()</code> function call.</p>
<p>In both cases, <code>install_requires</code> is used to list <code>run</code> dependencies, and <code>extras_require</code> to list groups of
extra dependencies. Sometimes <code>setup_requires</code> is used to list <code>host</code> dependencies, in other cases
they are listed in <code>pyproject.toml</code> instead. Test dependencies are usually listed as an &quot;extra&quot;,
though old packages may use <code>tests_require</code> instead. Python version constraints are listed in
<code>python_requires</code>.</p>
<p>For example, the following <code>setup.cfg</code> file:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[options]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">install_requires =</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  numpy &gt;= 1.12.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ruamel.yaml &gt;= 0.15.34</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">python_requires = &gt;=3.8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[options.extras_require]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">hdf5 = h5py</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pandas = pandas</span><br></span></code></pre></div></div>
<p>specifies <code>run</code> dependencies on <code>numpy</code> and <code>ruamel.yaml</code>, and optional runtime dependencies on
<code>h5py</code> and <code>pandas</code>. Python is constrainted to <code>&gt;=3.8</code>.</p>
<p>The following <code>setup.py</code> snippet:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">setup</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  install_requires</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;Twisted&gt;=17.5&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  extras_require</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;autoscaler&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token string" style="color:#e3116c">&quot;txzookeeper&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  tests_require</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;mock&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  python_requires</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;&gt;=3.8&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>specifies <code>run</code> dependency on <code>Twisted&gt;=17.5</code>, optional runtime dependency on <code>txzookeeper</code>, and a
test dependency on <code>mock</code>. Note that since <code>setup.py</code> are Python scripts, they can use arbitrary
Python logic to obtain and pass the values. Python is constrainted to <code>&gt;=3.8</code>.</p>
<p>When a particular key is found both in <code>setup.cfg</code> and <code>setup.py</code>, the latter takes precedence. When
the <code>pyproject.toml</code> files contains a <code>[project]</code> table, metadata from other files is ignored,
unless the key is explicitly listed as <code>dynamic</code>.</p>
<p>Some legacy packages may <code>import</code> Python modules from some of their dependencies without explicitly
declaring them via <code>build-system.requires</code> or <code>setup_requires</code>. These dependencies also need to be
manually added to the <code>host</code> group.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-tags-row"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/docs/tags/how-to/">how-to</a></li><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/docs/tags/basic/">basic</a></li></ul></div></div><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_WFHX"><a href="https://github.com/conda-forge/conda-forge.github.io/tree/refs/heads/main/docs/how-to/basics/populate-dependencies.mdx" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2026-02-10T00:55:04.000Z" itemprop="dateModified">Feb 10, 2026</time></b></span></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/how-to/basics/fork-sync/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Keep your fork in sync</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/how-to/advanced/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Advanced</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#generic-instructions" class="table-of-contents__link toc-highlight">Generic instructions</a><ul><li><a href="#where-to-find-dependencies" class="table-of-contents__link toc-highlight">Where to find dependencies?</a></li><li><a href="#final-dependency-lists" class="table-of-contents__link toc-highlight">Final dependency lists</a></li><li><a href="#checking-binary-linkage" class="table-of-contents__link toc-highlight">Checking binary linkage</a></li><li><a href="#dealing-with-extraneous-run-exports" class="table-of-contents__link toc-highlight">Dealing with extraneous run exports</a></li></ul></li><li><a href="#general-purpose-build-systems" class="table-of-contents__link toc-highlight">General-purpose build systems</a><ul><li><a href="#cmake" class="table-of-contents__link toc-highlight">CMake</a></li><li><a href="#meson" class="table-of-contents__link toc-highlight">Meson</a></li><li><a href="#gnu-autoconf" class="table-of-contents__link toc-highlight">GNU autoconf</a></li></ul></li><li><a href="#python" class="table-of-contents__link toc-highlight">Python</a><ul><li><a href="#package-metadata" class="table-of-contents__link toc-highlight">Package metadata</a></li><li><a href="#pyprojecttoml" class="table-of-contents__link toc-highlight">pyproject.toml</a></li><li><a href="#setupcfg-and-setuppy" class="table-of-contents__link toc-highlight">setup.cfg and setup.py</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/">Getting started</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/user/">User docs</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/maintainer/">Maintainer docs</a></li><li class="footer__item"><a class="footer__link-item" href="/community/cfep/">CFEPs</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/diataxis/">Reorganized docs</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/community/">About conda-forge</a></li><li class="footer__item"><a class="footer__link-item" href="/community/governance/">Governance</a></li><li class="footer__item"><a class="footer__link-item" href="/community/minutes/">Meeting minutes</a></li><li class="footer__item"><a class="footer__link-item" href="/community/getting-in-touch/">Get in touch</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Stay up-to-date</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/news/archive/">News</a></li><li class="footer__item"><a class="footer__link-item" href="/blog/archive/">Blog</a></li><li class="footer__item"><a class="footer__link-item" href="/status/">Status</a></li><li class="footer__item"><a href="https://bsky.app/profile/conda-forge.org" target="_blank" rel="noopener noreferrer" class="footer__link-item">Bluesky<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Resources</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/status/">Status</a></li><li class="footer__item"><a class="footer__link-item" href="/style-guide/">Style guide</a></li><li class="footer__item"><a href="https://github.com/conda-forge" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://conda-forge.zulipchat.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Zulip<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/conda-forge" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2026 conda-forge · Built with Docusaurus</div></div></div></footer></div>
</body>
</html>